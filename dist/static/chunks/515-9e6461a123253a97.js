(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{1755:e=>{e.exports={container:"TypingAnalyzer_container__EiTxp",header:"TypingAnalyzer_header__hDX3y",title:"TypingAnalyzer_title__b6HkC",gpuToggle:"TypingAnalyzer_gpuToggle__05K5J",loading:"TypingAnalyzer_loading__Q5qi0",error:"TypingAnalyzer_error__LKAhd",results:"TypingAnalyzer_results__r6qGE",stat:"TypingAnalyzer_stat__beTdm",label:"TypingAnalyzer_label__Xjl78",value:"TypingAnalyzer_value__ZPUzc",fatigue:"TypingAnalyzer_fatigue__z3q__",fatigueMeter:"TypingAnalyzer_fatigueMeter__KSS5H",fatigueIndicator:"TypingAnalyzer_fatigueIndicator__p0ieh",recommendation:"TypingAnalyzer_recommendation__TFBU4"}},3515:(e,t,a)=>{"use strict";a.d(t,{s:()=>c});var n=a(5155),s=a(2115),l=a(7339),r=a(4715),o=a(1755),i=a.n(o);function c(e){let{stats:t,_isTracking:a}=e,o=t||{keyCount:0,typingTime:0,accuracy:0},{electronAPI:c,isElectron:g}=(0,r.q)(),{available:d,enabled:y,loading:p,error:m,computeWithGpu:f,toggleGpuAcceleration:_}=function(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),[u,g]=(0,s.useState)(null),[d,y]=(0,s.useState)(null),p=(0,s.useCallback)(async()=>{c(!0),g(null);try{let a=await (0,l.Bb)();if(a.success){var e;t(a.gpuInfo||null),n(a.available),o((null===(e=a.gpuInfo)||void 0===e?void 0:e.acceleration_enabled)||!1)}else g("GPU 정보를 가져오는데 실패했습니다.")}catch(e){console.error("GPU 정보 가져오기 오류:",e),g(e instanceof Error?e.message:"알 수 없는 오류")}finally{c(!1)}},[]),m=(0,s.useCallback)(async e=>{c(!0),g(null);try{let t=await (0,l.pT)(e);if(t.success)return o(t.enabled),await p(),t.result;return g(t.error||"GPU 가속 설정 변경 실패"),!1}catch(e){return console.error("GPU 가속 변경 오류:",e),g(e instanceof Error?e.message:"알 수 없는 오류"),!1}finally{c(!1)}},[p]),f=(0,s.useCallback)(async(e,t)=>{c(!0),g(null);try{let a=await (0,l.xz)(e,t);if(a.success&&a.result)return y(a.result),a.result;return g(a.error||"GPU 계산 실패"),null}catch(e){return console.error("GPU 계산 오류:",e),g(e instanceof Error?e.message:"알 수 없는 오류"),null}finally{c(!1)}},[]);return(0,s.useEffect)(()=>{p()},[p]),{gpuInfo:e,available:a,enabled:r,loading:i,error:u,lastComputationResult:d,fetchGpuInfo:p,toggleGpuAcceleration:m,computeWithGpu:f}}(),[h,v]=(0,s.useState)(null),[T,w]=(0,s.useState)(!1),[S,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(g&&c){let e;let t=async()=>{try{if(c.getTypingStats){let e=await c.getTypingStats();e&&x({keyCount:e.keyCount||0,typingTime:1e3*e.typingTime||0,accuracy:e.accuracy||100})}}catch(e){console.error("Electron 통계 가져오기 실패:",e)}};t();let a=setInterval(t,5e3);return c.onTypingStatsUpdate&&(e=c.onTypingStatsUpdate(e=>{e&&x({keyCount:e.keyCount||0,typingTime:1e3*e.typingTime||0,accuracy:e.accuracy||100})})),()=>{clearInterval(a),e&&e()}}},[g,c]),(0,s.useEffect)(()=>{(async()=>{try{if(c&&c.loadSettings){let e=await c.loadSettings();e&&w(!!e.useTypingAnalysisGpuAcceleration)}else{let e=await fetch("/api/settings/get");if(e.ok){let t=await e.json();if(t.success&&t.settings){let e=t.settings.useTypingAnalysisGpuAcceleration;w(!!e)}}else console.warn("GPU 가속 설정을 불러오는데 실패했습니다. 기본값으로 설정합니다.")}T&&d&&!y&&await _(!0)}catch(e){console.error("GPU 설정을 불러오는 중 오류 발생:",e)}})()},[d,y,_,c,T]);let k=(0,s.useCallback)(async()=>{let e=g&&S?S:o;if(e.keyCount&&e.typingTime)try{if(T&&y){let t=await f(e,"typing");t&&t.result_summary&&v(t.result_summary)}else{let t=u(e);v(t)}}catch(t){console.error("타이핑 분석 오류:",t),v(u(e))}},[o,S,g,T,y,f]);return(0,s.useEffect)(()=>{!g&&o.keyCount>0&&o.typingTime>0?k():g&&S&&S.keyCount>0&&S.typingTime>0&&k()},[o,S,g,k]),(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsx)("div",{className:i().header,children:(0,n.jsx)("h2",{className:i().title,children:"타이핑 분석"})}),p&&(0,n.jsx)("div",{className:i().loading,children:"분석 중..."}),m&&(0,n.jsx)("div",{className:i().error,children:m}),h&&!p&&(0,n.jsxs)("div",{className:i().results,children:[(0,n.jsxs)("div",{className:i().stat,children:[(0,n.jsx)("span",{className:i().label,children:"속도"}),(0,n.jsxs)("span",{className:i().value,children:[Math.round(h.wpm)," WPM"]})]}),(0,n.jsxs)("div",{className:i().stat,children:[(0,n.jsx)("span",{className:i().label,children:"정확도"}),(0,n.jsxs)("span",{className:i().value,children:[h.accuracy.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:i().stat,children:[(0,n.jsx)("span",{className:i().label,children:"성능 지수"}),(0,n.jsx)("span",{className:i().value,children:h.performance_index.toFixed(1)})]}),(0,n.jsxs)("div",{className:i().stat,children:[(0,n.jsx)("span",{className:i().label,children:"일관성"}),(0,n.jsx)("span",{className:i().value,children:h.consistency_score.toFixed(1)})]}),(0,n.jsxs)("div",{className:i().fatigue,children:[(0,n.jsx)("h3",{children:"피로도 분석"}),(0,n.jsx)("div",{className:i().fatigueMeter,children:(0,n.jsx)("div",{className:i().fatigueIndicator,style:{width:"".concat(h.fatigue_analysis.score,"%")}})}),(0,n.jsx)("p",{className:i().recommendation,children:h.fatigue_analysis.recommendation})]})]}),!h&&!p&&(0,n.jsxs)("div",{className:i().noData,children:[(0,n.jsx)("p",{children:"타이핑 데이터가 충분하지 않습니다."}),(0,n.jsx)("p",{children:"키보드 입력이 감지되면 분석이 시작됩니다."})]})]})}function u(e){let{keyCount:t,typingTime:a,accuracy:n=100}=e,s=a/6e4,l=s>0?t/5/s:0;return{wpm:l,accuracy:n,performance_index:l*n/100,consistency_score:65+Math.min(t,500)/20,fatigue_analysis:{score:Math.min(100,10*s+l/10),time_factor:s,intensity_factor:l/100,recommendation:s>30?"휴식이 필요합니다":s>15?"짧은 휴식을 고려하세요":"좋은 상태입니다"}}}},4715:(e,t,a)=>{"use strict";a.d(t,{q:()=>l});var n=a(2115);let s=()=>({windowControl:e=>console.log("개발용 windowControl 호출: ".concat(e)),onTypingStatsUpdate:e=>(console.log("개발용 onTypingStatsUpdate 리스너 등록"),()=>console.log("개발용 onTypingStatsUpdate 리스너 제거")),onStatsSaved:e=>(console.log("개발용 onStatsSaved 리스너 등록"),()=>console.log("개발용 onStatsSaved 리스너 제거")),startTracking:()=>console.log("개발용 startTracking 호출"),stopTracking:()=>console.log("개발용 stopTracking 호출"),saveStats:e=>(console.log("개발용 saveStats 호출:",e),Promise.resolve(!0)),loadSettings:()=>(console.log("개발용 loadSettings 호출"),{darkMode:!1,windowMode:"normal"}),saveSettings:e=>(console.log("개발용 saveSettings 호출:",e),!0),getCurrentBrowserInfo:()=>Promise.resolve({name:null,isGoogleDocs:!1,title:null}),getDebugInfo:()=>Promise.resolve({isTracking:!1,currentStats:{keyCount:0,typingTime:0,startTime:null,lastActiveTime:null,currentWindow:null,currentBrowser:null,totalChars:0,totalWords:0,totalCharsNoSpace:0,pages:0,accuracy:100},platform:"web",electronVersion:"N/A",nodeVersion:"N/A"}),setDarkMode:()=>Promise.resolve({success:!0}),setWindowMode:()=>Promise.resolve({success:!0}),getWindowMode:()=>Promise.resolve("windowed"),checkAutoStart:()=>{},onAutoTrackingStarted:()=>()=>{},onSwitchTab:()=>()=>{},onOpenSaveStatsDialog:()=>()=>{},requestStatsUpdate:()=>{},onMiniViewStatsUpdate:()=>()=>{},toggleMiniView:()=>{},updateTraySettings:()=>Promise.resolve({success:!0}),quitApp:()=>console.log("개발용 quitApp 호출"),toggleWindow:()=>console.log("개발용 toggleWindow 호출"),onBackgroundModeChange:()=>()=>{},onTrayCommand:()=>()=>{},restartApp:()=>console.log("개발용 restartApp 호출"),showRestartPrompt:()=>console.log("개발용 showRestartPrompt 호출"),closeWindow:()=>console.log("개발용 closeWindow 호출"),getDarkMode:()=>Promise.resolve(!1),getTypingStats:()=>Promise.resolve({keyCount:0,typingTime:0,accuracy:100}),getPlatform:()=>Promise.resolve("undefined"!=typeof navigator&&navigator.platform?navigator.platform.indexOf("Win")>-1?"win32":navigator.platform.indexOf("Mac")>-1?"darwin":"linux":"unknown")});function l(){let[e,t]=(0,n.useState)(s());return(0,n.useEffect)(()=>{{let e=window.electronAPI;e?t(e):t(s())}},[]),{electronAPI:e,api:e,isElectron:void 0!==window.electronAPI}}}}]);
//# sourceMappingURL=515-9e6461a123253a97.js.map