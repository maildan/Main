(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{87:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(5155),n=s(2115),o=s(4916),r=s.n(o);function i(e){let{logs:t}=e,s=t.reduce((e,t)=>e+t.key_count,0),n=t.reduce((e,t)=>e+t.typing_time,0),o=t.reduce((e,t)=>e+t.content.length,0),i=t.reduce((e,t)=>e+t.content.replace(/\s/g,"").length,0),l=t.reduce((e,t)=>e+(t.content.trim().length>0?t.content.trim().split(/\s+/).length:0),0),c=n>0?Math.round(s/n*60):0,d=o>0?Math.round(i/s*100):0;return(0,a.jsxs)("div",{className:r().statsContainer,children:[(0,a.jsx)("h2",{children:"타이핑 통계"}),(0,a.jsxs)("div",{className:r().statsGrid,children:[(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"총 타자 수"}),(0,a.jsx)("div",{className:r().statValue,children:s.toLocaleString()})]}),(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"총 글자 수"}),(0,a.jsxs)("div",{className:r().statValue,children:[o.toLocaleString()," ",(0,a.jsxs)("span",{children:["(공백 제외: ",i.toLocaleString(),")"]})]})]}),(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"총 단어 수"}),(0,a.jsx)("div",{className:r().statValue,children:l.toLocaleString()})]}),(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"총 시간"}),(0,a.jsx)("div",{className:r().statValue,children:function(e){if(e<60)return"".concat(e,"초");let t=Math.floor(e/60),s=e%60;if(t<60)return"".concat(t,"분 ").concat(s,"초");let a=Math.floor(t/60);return"".concat(a,"시간 ").concat(t%60,"분 ").concat(s,"초")}(n)})]}),(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"평균 속도"}),(0,a.jsxs)("div",{className:r().statValue,children:[c," ",(0,a.jsx)("span",{children:"타/분"})]})]}),(0,a.jsxs)("div",{className:r().statCard,children:[(0,a.jsx)("h3",{children:"정확도"}),(0,a.jsxs)("div",{className:r().statValue,children:[d,"%"]})]})]})]})}var l=s(753),c=s.n(l);let d=e=>{if(e<60)return"".concat(e,"초");let t=Math.floor(e/60),s=e%60;if(t<60)return"".concat(t,"분 ").concat(s,"초");let a=Math.floor(t/60);return"".concat(a,"시간 ").concat(t%60,"분 ").concat(s,"초")},h=(e,t)=>t<=0?"0 타/분":"".concat(Math.round(e/t*60)," 타/분");function g(e){var t,s,o,r;let{stats:i,isTracking:l,onStartTracking:g,onStopTracking:u,onSaveStats:m}=e,[_,p]=(0,n.useState)(""),[b,x]=(0,n.useState)(""),[w,v]=(0,n.useState)("docs"),[j,y]=(0,n.useState)("typing"),[N,T]=(0,n.useState)(null),k=async()=>{var e;if(null===(e=window.electronAPI)||void 0===e?void 0:e.getCurrentBrowserInfo)try{let e=await window.electronAPI.getCurrentBrowserInfo();T(e)}catch(e){console.error("브라우저 정보 확인 오류:",e)}};return(0,n.useEffect)(()=>{if(l){k();let e=setInterval(k,1e4);return()=>clearInterval(e)}},[l]),(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsxs)("div",{className:c().monitorHeader,children:[(0,a.jsx)("h2",{children:"타이핑 모니터링"}),(0,a.jsx)("button",{className:"".concat(c().trackingButton," ").concat(l?c().trackingActive:""),onClick:()=>{l?u():g()},children:l?"모니터링 중지":"모니터링 시작"})]}),(0,a.jsxs)("div",{className:c().statusIndicator,children:[(0,a.jsx)("div",{className:"".concat(c().indicator," ").concat(l?c().active:"")}),(0,a.jsxs)("span",{children:["모니터링 상태: ",(0,a.jsx)("strong",{children:l?"활성화":"비활성화"})]}),b&&(0,a.jsx)("div",{className:c().actionFeedback,children:b})]}),(0,a.jsxs)("div",{className:c().contentWrapper,children:[(0,a.jsxs)("div",{className:c().leftPanel,children:[(0,a.jsxs)("div",{className:c().browserStatus,children:[(0,a.jsx)("h3",{children:"브라우저 상태"}),(0,a.jsxs)("div",{className:c().browserInfo,children:[(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"감지된 브라우저:"}),(0,a.jsx)("span",{className:c().browserValue,children:i.browserName||(null==N?void 0:N.name)||"없음"})]}),(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"구글 문서 감지:"}),(0,a.jsx)("span",{className:c().browserValue,children:(null==N?void 0:N.isGoogleDocs)?(0,a.jsx)("span",{className:c().detectedBadge,children:"감지됨 ✓"}):(0,a.jsx)("span",{className:c().notDetectedBadge,children:"아님 ⨯"})})]}),(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"현재 창:"}),(0,a.jsxs)("span",{className:c().browserValue,title:i.windowTitle||(null==N?void 0:N.title)||"",children:[(i.windowTitle||(null==N?void 0:N.title)||"없음").substring(0,60),(i.windowTitle||(null==N?void 0:N.title)||"").length>60?"...":""]})]})]})]}),(0,a.jsxs)("div",{className:c().websiteTabs,children:[(0,a.jsxs)("div",{className:c().websiteTabHeader,children:[(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("docs"===w?c().activeWebsiteTab:""),onClick:()=>v("docs"),children:"구글 문서"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("office"===w?c().activeWebsiteTab:""),onClick:()=>v("office"),children:"오피스"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("coding"===w?c().activeWebsiteTab:""),onClick:()=>v("coding"),children:"코딩"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("sns"===w?c().activeWebsiteTab:""),onClick:()=>v("sns"),children:"SNS/메신저"})]}),(0,a.jsxs)("div",{className:c().websiteTabContent,children:["docs"===w&&(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://docs.google.com/document/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 문서 열기"}),(0,a.jsx)("a",{href:"https://docs.google.com/spreadsheets/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 스프레드시트 열기"}),(0,a.jsx)("a",{href:"https://docs.google.com/presentation/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 프레젠테이션 열기"}),(0,a.jsx)("a",{href:"https://www.notion.so/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Notion 열기"})]}),"office"===w&&(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://www.office.com/launch/word",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Word 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.office.com/launch/excel",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Excel 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.office.com/launch/powerpoint",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"PowerPoint 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.hancom.com/main/main.do",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"한글과컴퓨터 열기"})]}),"coding"===w&&(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitHub 열기"}),(0,a.jsx)("a",{href:"https://gitlab.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitLab 열기"}),(0,a.jsx)("a",{href:"https://codesandbox.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodeSandbox 열기"}),(0,a.jsx)("a",{href:"https://codepen.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodePen 열기"})]}),"sns"===w&&(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://slack.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Slack 열기"}),(0,a.jsx)("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Discord 열기"}),(0,a.jsx)("a",{href:"https://www.messenger.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Messenger 열기"}),(0,a.jsx)("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Gmail 열기"})]})]})]})]}),(0,a.jsxs)("div",{className:c().rightPanel,children:[(0,a.jsxs)("div",{className:c().statsTabs,children:[(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("typing"===j?c().activeStatsTab:""),onClick:()=>y("typing"),children:"타이핑 정보"}),(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("document"===j?c().activeStatsTab:""),onClick:()=>y("document"),children:"문서 정보"}),(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("accuracy"===j?c().activeStatsTab:""),onClick:()=>y("accuracy"),children:"정확도 & 속도"})]}),(0,a.jsxs)("div",{className:c().statsTabContent,children:["typing"===j&&(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"타자 수"}),(0,a.jsx)("div",{className:c().statValue,children:i.keyCount.toLocaleString()})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"타이핑 시간"}),(0,a.jsx)("div",{className:c().statValue,children:d(i.typingTime)})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"평균 속도"}),(0,a.jsx)("div",{className:c().statValue,children:h(i.keyCount,i.typingTime)})]})]}),"document"===j&&(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"페이지 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(t=i.pages)||void 0===t?void 0:t.toFixed(1))||"0.0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"단어 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(s=i.totalWords)||void 0===s?void 0:s.toLocaleString())||"0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"글자 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(o=i.totalChars)||void 0===o?void 0:o.toLocaleString())||"0"})]})]}),"accuracy"===j&&(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"글자 수 (공백 제외)"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(r=i.totalCharsNoSpace)||void 0===r?void 0:r.toLocaleString())||"0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"정확도"}),(0,a.jsxs)("div",{className:c().statValue,children:[i.accuracy||100,"%"]})]})]})]}),(0,a.jsxs)("div",{className:c().saveSection,children:[(0,a.jsx)("h3",{children:"세션 저장"}),(0,a.jsx)("p",{children:"작업한 내용에 대한 설명을 입력하세요"}),(0,a.jsx)("textarea",{className:c().descriptionInput,value:_,onChange:e=>{p(e.target.value)},placeholder:"작업 내용 (예: 보고서 작성, 논문 작성 등)",rows:4}),(0,a.jsx)("button",{className:c().saveButton,onClick:()=>{m(_),p(""),x("저장됨"),setTimeout(()=>{x("")},2e3)},disabled:0===i.keyCount||!_.trim(),children:"통계 저장"})]})]})]})]})}var u=s(8807),m=s.n(u);function _(e){let{logs:t,isLoading:s}=e;return s?(0,a.jsx)("div",{className:m().loading,children:"로딩 중..."}):0===t.length?(0,a.jsx)("div",{className:m().noData,children:"저장된 타이핑 기록이 없습니다."}):(0,a.jsxs)("div",{className:m().historyContainer,children:[(0,a.jsx)("h2",{children:"타이핑 기록"}),(0,a.jsx)("div",{className:m().historyList,children:t.map(e=>(0,a.jsxs)("div",{className:m().historyItem,children:[(0,a.jsx)("div",{className:m().historyTime,children:new Date(e.timestamp).toLocaleString()}),(0,a.jsx)("div",{className:m().historyContent,children:e.content.length>100?e.content.substring(0,100)+"...":e.content}),(0,a.jsxs)("div",{className:m().historyMeta,children:[(0,a.jsxs)("span",{children:["타자 수: ",e.key_count]}),(0,a.jsxs)("span",{children:["시간: ",e.typing_time,"초"]}),(0,a.jsxs)("span",{children:["속도: ",Math.round(e.typing_time>0?e.key_count/e.typing_time*60:0)," 타/분"]})]})]},e.id))})]})}var p=s(2502),b=s(4065),x=s(2147),w=s.n(x);function v(e){let{logs:t}=e,s=(()=>{let e=new Map;return t.forEach(t=>{let s=new Date(t.timestamp).toLocaleDateString();e.has(s)||e.set(s,{totalKeyCount:0,totalTime:0,totalChars:0,totalWords:0});let a=e.get(s);a.totalKeyCount+=t.key_count,a.totalTime+=t.typing_time,a.totalChars+=t.content.length;let n=t.content.trim().length>0?t.content.trim().split(/\s+/).length:0;a.totalWords+=n}),{labels:Array.from(e.keys()),keyCountData:Array.from(e.values()).map(e=>e.totalKeyCount),timeData:Array.from(e.values()).map(e=>Math.round(e.totalTime/60)),speedData:Array.from(e.values()).map(e=>e.totalTime>0?Math.round(e.totalKeyCount/e.totalTime*60):0),wordData:Array.from(e.values()).map(e=>e.totalWords),charData:Array.from(e.values()).map(e=>e.totalChars)}})(),n={labels:s.labels,datasets:[{label:"평균 타이핑 속도 (타/분)",data:s.speedData,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.3}]},o={labels:s.labels,datasets:[{label:"총 타자 수",data:s.keyCountData,backgroundColor:"rgba(54, 162, 235, 0.5)"}]},r={labels:s.labels,datasets:[{label:"총 타이핑 시간 (분)",data:s.timeData,backgroundColor:"rgba(255, 99, 132, 0.5)"}]},i={labels:s.labels,datasets:[{label:"총 단어 수",data:s.wordData,backgroundColor:"rgba(153, 102, 255, 0.5)"},{label:"총 글자 수",data:s.charData,backgroundColor:"rgba(255, 159, 64, 0.5)"}]};return(0,a.jsxs)("div",{className:w().chartContainer,children:[(0,a.jsx)("h2",{children:"타이핑 통계 차트"}),t.length>0?(0,a.jsxs)("div",{className:w().charts,children:[(0,a.jsxs)("div",{className:w().chartItem,children:[(0,a.jsx)("h3",{children:"일별 평균 타이핑 속도"}),(0,a.jsx)("div",{className:w().chartWrapper,children:(0,a.jsx)(b.N1,{data:n,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"일별 평균 속도 (타/분)"}}}})})]}),(0,a.jsxs)("div",{className:w().chartItem,children:[(0,a.jsx)("h3",{children:"일별 총 타자 수"}),(0,a.jsx)("div",{className:w().chartWrapper,children:(0,a.jsx)(b.yP,{data:o,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"일별 총 타자 수"}}}})})]}),(0,a.jsxs)("div",{className:w().chartItem,children:[(0,a.jsx)("h3",{children:"일별 총 타이핑 시간"}),(0,a.jsx)("div",{className:w().chartWrapper,children:(0,a.jsx)(b.yP,{data:r,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"일별 총 타이핑 시간 (분)"}}}})})]}),(0,a.jsxs)("div",{className:w().chartItem,children:[(0,a.jsx)("h3",{children:"일별 단어 및 글자 수"}),(0,a.jsx)("div",{className:w().chartWrapper,children:(0,a.jsx)(b.yP,{data:i,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"일별 단어 및 글자 수"}}}})})]})]}):(0,a.jsx)("p",{className:w().noData,children:"저장된 타이핑 데이터가 없습니다."})]})}function j(){let e=new Date().getFullYear();return(0,a.jsx)("footer",{className:"footer",children:(0,a.jsxs)("div",{className:"copyright",children:["\xa9 ",e," 타이핑 통계 앱"]})})}p.t1.register(p.PP,p.kc,p.FN,p.No,p.E8,p.hE,p.m_,p.s$);var y=s(6852),N=s(2335),T=s.n(N),k=s(5821),C=s.n(k);function f(e){let{message:t,type:s,duration:o=3e3,onClose:r}=e,[i,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{l(!1),r&&r()},o);return()=>clearTimeout(e)},[o,r]),i?(0,a.jsx)("div",{className:"".concat(C().toast," ").concat(C()[s]),children:(0,a.jsx)("span",{className:C().message,children:t})}):null}let M=(0,n.createContext)(void 0);function S(e){let{children:t}=e,[s,o]=(0,n.useState)(null);return(0,a.jsxs)(M.Provider,{value:{showToast:(e,t)=>{o({message:e,type:t})}},children:[t,s&&(0,a.jsx)(f,{message:s.message,type:s.type,onClose:()=>o(null)})]})}let L=()=>{let e=(0,n.useContext)(M);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e};function I(e){let{onSave:t,initialSettings:s,darkMode:o,onDarkModeChange:r,onWindowModeChange:i}=e,[l,c]=(0,n.useState)(s||{enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,darkMode:!1,windowMode:"windowed"}),{showToast:d}=L();(0,n.useEffect)(()=>{s&&c(s)},[s]);let h=e=>{c(t=>({...t,enabledCategories:{...t.enabledCategories,[e]:!t.enabledCategories[e]}}))},g=e=>{c(t=>({...t,windowMode:e})),i(e)};return(0,a.jsxs)("div",{className:"".concat(T().settingsContainer," ").concat(o?T().darkMode:""),children:[(0,a.jsx)("h2",{children:"설정"}),(0,a.jsxs)("div",{className:T().settingSection,children:[(0,a.jsx)("h3",{children:"모니터링 대상 카테고리"}),(0,a.jsxs)("div",{className:T().categoryToggles,children:[(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.enabledCategories.docs,onChange:()=>h("docs")}),(0,a.jsx)("span",{className:T().toggleLabel,children:"문서 작업 (Notion, Google Docs 등)"})]})}),(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.enabledCategories.office,onChange:()=>h("office")}),(0,a.jsx)("span",{className:T().toggleLabel,children:"오피스 웹앱 (Microsoft Office, 한컴오피스 등)"})]})}),(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.enabledCategories.coding,onChange:()=>h("coding")}),(0,a.jsx)("span",{className:T().toggleLabel,children:"코딩 관련 (GitHub, GitLab 등)"})]})}),(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.enabledCategories.sns,onChange:()=>h("sns")}),(0,a.jsx)("span",{className:T().toggleLabel,children:"SNS/메신저 (Discord, Slack 등)"})]})})]})]}),(0,a.jsxs)("div",{className:T().settingSection,children:[(0,a.jsx)("h3",{children:"일반 설정"}),(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.autoStartMonitoring,onChange:()=>{c(e=>({...e,autoStartMonitoring:!e.autoStartMonitoring}))}}),(0,a.jsx)("span",{className:T().toggleLabel,children:"앱 시작 시 자동으로 모니터링 시작"})]})}),(0,a.jsx)("div",{className:T().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:l.darkMode,onChange:()=>{let e=!l.darkMode;c(t=>({...t,darkMode:e})),r(e)}}),(0,a.jsx)("span",{className:T().toggleLabel,children:"다크 모드"})]})})]}),(0,a.jsxs)("div",{className:T().settingSection,children:[(0,a.jsx)("h3",{children:"화면 모드"}),(0,a.jsxs)("div",{className:T().radioGroup,children:[(0,a.jsxs)("label",{className:T().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",checked:"windowed"===l.windowMode,onChange:()=>g("windowed")}),(0,a.jsx)("span",{className:T().radioText,children:"창 모드"})]}),(0,a.jsxs)("label",{className:T().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",checked:"fullscreen"===l.windowMode,onChange:()=>g("fullscreen")}),(0,a.jsx)("span",{className:T().radioText,children:"전체화면 모드"})]}),(0,a.jsxs)("label",{className:T().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",value:"fullscreen-auto-hide",checked:"fullscreen-auto-hide"===l.windowMode,onChange:()=>g("fullscreen-auto-hide")}),(0,a.jsx)("span",{className:T().radioText,children:"자동 숨김 모드 (마우스 가까이 가면 도구모음 표시)"})]})]})]}),(0,a.jsx)("div",{className:T().buttonRow,children:(0,a.jsx)("button",{className:T().saveButton,onClick:()=>{t(l),d("설정이 저장되었습니다.","success")},children:"설정 저장"})})]})}var P=s(8334),B=s.n(P);let A=()=>({onTypingStatsUpdate:()=>()=>{},onStatsSaved:()=>()=>{},startTracking:()=>console.log("개발용 startTracking 호출"),stopTracking:()=>console.log("개발용 stopTracking 호출"),saveStats:()=>console.log("개발용 saveStats 호출"),getCurrentBrowserInfo:()=>Promise.resolve({name:null,isGoogleDocs:!1,title:null}),getDebugInfo:()=>Promise.resolve({isTracking:!1,currentStats:{keyCount:0,typingTime:0,startTime:null,lastActiveTime:null,currentWindow:null,currentBrowser:null,totalChars:0,totalWords:0,totalCharsNoSpace:0,pages:0,accuracy:100},platform:"web",electronVersion:"N/A",nodeVersion:"N/A"}),saveSettings:e=>Promise.resolve({success:!0,settings:e}),loadSettings:()=>Promise.resolve({enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,darkMode:!1,windowMode:"windowed"}),setDarkMode:e=>Promise.resolve({success:!0,enabled:e}),setWindowMode:e=>Promise.resolve({success:!0,mode:e}),getWindowMode:()=>Promise.resolve("windowed"),windowControl:()=>console.log("개발용 windowControl 호출"),checkAutoStart:()=>console.log("개발용 checkAutoStart 호출"),onAutoTrackingStarted:()=>()=>{}});function D(){let[e,t]=(0,n.useState)([]),[s,o]=(0,n.useState)(!0),[r,l]=(0,n.useState)("monitor"),[c,d]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)({keyCount:0,typingTime:0,windowTitle:"",browserName:"",totalChars:0,totalCharsNoSpace:0,totalWords:0,pages:0,accuracy:100}),[b,x]=(0,n.useState)({enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,darkMode:!1,windowMode:"windowed"}),[w,y]=(0,n.useState)(!1),[N,T]=(0,n.useState)(A()),{showToast:k}=L(),[C,f]=(0,n.useState)("windowed"),M=(0,n.useCallback)(e=>{l(e)},[]),S=(0,n.useCallback)(async()=>{try{o(!0);let e=await fetch("/api/getLogs"),s=await e.json();s.success?(t(s.logs),h&&console.log("로그 데이터 불러옴:",s.logs)):console.error("로그 불러오기 실패:",s.error)}catch(e){console.error("로그 API 요청 오류:",e)}finally{o(!1)}},[h]),P=(0,n.useCallback)(async e=>{try{h&&console.log("저장할 데이터:",e);let t=await fetch("/api/saveLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();t.ok?(h&&console.log("저장 성공:",s),await S()):console.error("저장 실패:",s.error)}catch(e){console.error("저장 API 요청 오류:",e)}},[S,h]),D=(0,n.useCallback)(()=>{try{window.electronAPI?(window.electronAPI.startTracking(),d(!0),h&&console.log("모니터링 시작됨")):(console.warn("electronAPI를 찾을 수 없습니다."),d(!0))}catch(e){console.error("startTracking 호출 오류:",e),d(!0)}},[h]),W=(0,n.useCallback)(()=>{try{N.stopTracking(),d(!1),h&&console.log("모니터링 중지됨")}catch(e){console.error("stopTracking 호출 오류:",e),d(!1)}},[h,N]),E=(0,n.useCallback)(e=>{try{h&&console.log("통계 저장 요청:",e),N.saveStats(e);let t={content:e,keyCount:m.keyCount,typingTime:m.typingTime,timestamp:new Date().toISOString(),windowTitle:m.windowTitle,browserName:m.browserName,totalChars:m.totalChars,totalWords:m.totalWords,pages:m.pages,accuracy:m.accuracy};P(t)}catch(t){console.error("saveStats 호출 오류:",t),P({content:e,keyCount:m.keyCount,typingTime:m.typingTime,timestamp:new Date().toISOString(),windowTitle:m.windowTitle,browserName:m.browserName||"Unknown",totalChars:m.totalChars,totalWords:m.totalWords,pages:m.pages,accuracy:m.accuracy})}},[m,P,h,N]),V=(0,n.useCallback)(()=>{u(e=>!e)},[]),G=(0,n.useCallback)(e=>{try{localStorage.setItem("app-settings",JSON.stringify(e)),console.log("설정이 로컬 스토리지에 저장됨")}catch(e){console.error("설정 저장 중 오류:",e)}},[]),H=(0,n.useCallback)(()=>{try{let h=localStorage.getItem("app-settings");if(h){var e,t,s,a,n,o,r,i,l,c,d;let g=JSON.parse(h),u={enabledCategories:{docs:null===(n=null===(e=g.enabledCategories)||void 0===e?void 0:e.docs)||void 0===n||n,office:null===(o=null===(t=g.enabledCategories)||void 0===t?void 0:t.office)||void 0===o||o,coding:null===(r=null===(s=g.enabledCategories)||void 0===s?void 0:s.coding)||void 0===r||r,sns:null===(i=null===(a=g.enabledCategories)||void 0===a?void 0:a.sns)||void 0===i||i},autoStartMonitoring:null===(l=g.autoStartMonitoring)||void 0===l||l,darkMode:null!==(c=g.darkMode)&&void 0!==c&&c,windowMode:null!==(d=g.windowMode)&&void 0!==d?d:"windowed"};return x(u),y(u.darkMode),console.log("설정이 로컬 스토리지에서 로드됨"),u}}catch(e){console.error("설정 로드 중 오류:",e)}return null},[]),O=(0,n.useCallback)(async e=>{x(e),G(e),y(e.darkMode);try{if(!N)return;let t=N.saveSettings(e);t instanceof Promise&&((await t).success?k("설정이 저장되었습니다.","success"):k("설정 저장에 실패했습니다.","error")),N.setDarkMode&&await N.setDarkMode(e.darkMode),N.setWindowMode&&await N.setWindowMode(e.windowMode)}catch(e){console.error("Electron 설정 적용 오류:",e),k("설정 적용 중 오류가 발생했습니다.","error")}},[G,N,k]),R=(0,n.useCallback)(e=>{y(e),N&&N.setDarkMode(e)},[N]),J=(0,n.useCallback)(async e=>{try{let t=await window.electron.changeWindowMode(e);t.success||console.error("창 모드 변경 실패: ".concat(t.error||JSON.stringify(t)))}catch(e){console.error("창 모드 변경 실패:",e)}},[]);return(0,n.useEffect)(()=>{S();let e=H();if(null==e?void 0:e.autoStartMonitoring)try{D()}catch(e){console.error("자동 시작 오류:",e)}},[S,H,D]),(0,n.useEffect)(()=>{(async()=>{try{let e=H();if(null==e?void 0:e.autoStartMonitoring){console.log("자동 시작 설정이 활성화되어 있음");try{let e=window;(null==e?void 0:e.electronAPI)&&"function"==typeof e.electronAPI.checkAutoStart?e.electronAPI.checkAutoStart(!0):console.warn("checkAutoStart 함수를 찾을 수 없습니다. 자동으로 모니터링을 시작합니다."),D()}catch(e){console.error("자동 시작 초기화 오류:",e),D()}}}catch(e){console.error("앱 초기화 오류:",e)}})()},[H,D,N]),(0,n.useEffect)(()=>{let e=e=>{f(e.detail.mode)};return window.addEventListener("window-mode-status",e),(async()=>{if(N.getWindowMode)try{let e=await N.getWindowMode();f(e)}catch(e){console.error("창 모드 확인 오류:",e)}})(),()=>{window.removeEventListener("window-mode-status",e)}},[N]),(0,n.useEffect)(()=>{let e=[];try{let t=N.onTypingStatsUpdate(e=>{p(t=>({...t,keyCount:e.keyCount,typingTime:e.typingTime,windowTitle:e.windowTitle||t.windowTitle,browserName:e.browserName||t.browserName,totalChars:e.totalChars||0,totalCharsNoSpace:e.totalCharsNoSpace||0,totalWords:e.totalWords||0,pages:e.pages||0,accuracy:e.accuracy||100})),c||d(!0),h&&console.log("통계 업데이트 수신:",e)});e.push(t);let s=N.onStatsSaved(e=>{S(),h&&console.log("통계 저장 완료:",e)});e.push(s),h&&console.log("Electron API 이벤트 리스너 설정 완료")}catch(e){console.error("Electron API 이벤트 구독 오류:",e)}return()=>{e.forEach(e=>{try{e()}catch(e){console.error("이벤트 리스너 정리 오류:",e)}})}},[S,c,h,N]),(0,n.useEffect)(()=>{let e=()=>{G(b)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[b,G]),(0,n.useEffect)(()=>{try{window.electronAPI?(console.log("electronAPI 발견됨:",Object.keys(window.electronAPI)),T(window.electronAPI)):console.warn("window.electronAPI를 찾을 수 없습니다. 개발 환경용 더미 API를 사용합니다.")}catch(e){console.error("electronAPI 초기화 중 오류:",e)}},[]),(0,a.jsxs)("div",{className:"".concat(B().container," ").concat(w?B().darkMode:""," ").concat("fullscreen-auto-hide"===C?B().zenMode:""),children:[(0,a.jsxs)("main",{className:B().mainContent,children:[(0,a.jsxs)("div",{className:B().appTabs,children:[(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat("monitor"===r?B().activeTab:""),onClick:()=>M("monitor"),children:"모니터링"}),(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat("history"===r?B().activeTab:""),onClick:()=>M("history"),children:"히스토리"}),(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat("stats"===r?B().activeTab:""),onClick:()=>M("stats"),children:"통계"}),(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat("chart"===r?B().activeTab:""),onClick:()=>M("chart"),children:"차트"}),(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat("settings"===r?B().activeTab:""),onClick:()=>M("settings"),children:"설정"}),(0,a.jsx)("button",{className:"".concat(B().tabButton," ").concat(B().debugButton," ").concat(h?B().debugActive:""),onClick:V,title:"디버그 모드 토글",children:"\uD83D\uDC1E"})]}),"monitor"===r&&(0,a.jsx)(g,{stats:m,isTracking:c,onStartTracking:D,onStopTracking:W,onSaveStats:E}),"history"===r&&(0,a.jsx)(_,{logs:e,isLoading:s}),"stats"===r&&(0,a.jsx)(i,{logs:e}),"chart"===r&&(0,a.jsx)(v,{logs:e}),"settings"===r&&(0,a.jsx)(I,{onSave:O,initialSettings:b,darkMode:w,onDarkModeChange:R,onWindowModeChange:J})]}),h&&(0,a.jsxs)("div",{className:B().debugPanelBottom,children:[(0,a.jsx)("h3",{children:"디버그 정보"}),(0,a.jsxs)("div",{className:B().debugInfo,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"isTracking:"})," ",c?"true":"false"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Logs:"})," ",e.length,"개"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Current keyCount:"})," ",m.keyCount]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Browser:"})," ",m.browserName||"N/A"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Window:"})," ",m.windowTitle||"N/A"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Window Mode:"})," ",C]})]})]}),(0,a.jsx)(j,{})]})}function W(){return(0,a.jsx)(y.N,{children:(0,a.jsx)(S,{children:(0,a.jsx)(D,{})})})}},753:e=>{e.exports={monitorContainer:"TypingMonitor_monitorContainer__ER1LM",controlPanel:"TypingMonitor_controlPanel__mnPAg",startButton:"TypingMonitor_startButton__6Kfxe",stopButton:"TypingMonitor_stopButton__KAJ8v",saveButton:"TypingMonitor_saveButton__WglP8",statsPanel:"TypingMonitor_statsPanel__hOEWj",statItem:"TypingMonitor_statItem__uJud3",statLabel:"TypingMonitor_statLabel___96yv",statValue:"TypingMonitor_statValue__Gutae",saveSection:"TypingMonitor_saveSection__KoLn9",descriptionInput:"TypingMonitor_descriptionInput__B_Lx7",helpSection:"TypingMonitor_helpSection__JbpyP",statusIndicator:"TypingMonitor_statusIndicator__kULxH",indicator:"TypingMonitor_indicator__z3RHP",active:"TypingMonitor_active__hioKY",pulse:"TypingMonitor_pulse__PJDcF",googleDocsLink:"TypingMonitor_googleDocsLink__sa_xR",websiteTabs:"TypingMonitor_websiteTabs__RgoMF",websiteTabHeader:"TypingMonitor_websiteTabHeader__V_y3l",websiteTabButton:"TypingMonitor_websiteTabButton__rXPP4",activeWebsiteTab:"TypingMonitor_activeWebsiteTab__niDOn",websiteTabContent:"TypingMonitor_websiteTabContent__RBMcj",websiteLinks:"TypingMonitor_websiteLinks__3vAID",websiteLink:"TypingMonitor_websiteLink__lqd9U",actionFeedback:"TypingMonitor_actionFeedback__VPiGl",fadeIn:"TypingMonitor_fadeIn__BRcC2",browserStatus:"TypingMonitor_browserStatus__b4rGV",browserInfo:"TypingMonitor_browserInfo__w3N_l",browserRow:"TypingMonitor_browserRow__27uT0",browserValue:"TypingMonitor_browserValue__cu5JE",detectedBadge:"TypingMonitor_detectedBadge__iDUgv",notDetectedBadge:"TypingMonitor_notDetectedBadge__EtIo1",browserList:"TypingMonitor_browserList__JrDTA",browserColumn:"TypingMonitor_browserColumn__EOGEk",trackingButton:"TypingMonitor_trackingButton__szR9V",trackingActive:"TypingMonitor_trackingActive__eHDsS",monitorHeader:"TypingMonitor_monitorHeader__yUhAy",container:"TypingMonitor_container__TzhrN",contentWrapper:"TypingMonitor_contentWrapper__PPmCK",leftPanel:"TypingMonitor_leftPanel__FJhBH",rightPanel:"TypingMonitor_rightPanel__DQxqP",statsTabs:"TypingMonitor_statsTabs__BFC0M",statsTabButton:"TypingMonitor_statsTabButton__PM_Rt",activeStatsTab:"TypingMonitor_activeStatsTab__rEAV4",statsTabContent:"TypingMonitor_statsTabContent__RAlml",statsGroup:"TypingMonitor_statsGroup__eqddv",statCard:"TypingMonitor_statCard__qVky4"}},2147:e=>{e.exports={chartContainer:"TypingChart_chartContainer__Xxoiu",charts:"TypingChart_charts__fz60g",chartItem:"TypingChart_chartItem__CNTM_",chartWrapper:"TypingChart_chartWrapper__1KDYX",noData:"TypingChart_noData__zjjvx"}},2335:e=>{e.exports={settingsContainer:"Settings_settingsContainer__0SxHP",darkMode:"Settings_darkMode__a5VLX",settingSection:"Settings_settingSection__XwrF7",categoryToggles:"Settings_categoryToggles__HQHhT",toggleItem:"Settings_toggleItem___q_0D",toggleLabel:"Settings_toggleLabel__8fIJv",radioGroup:"Settings_radioGroup__QGEGo",radioLabel:"Settings_radioLabel__Iog9l",radioText:"Settings_radioText__hi7nW",buttonRow:"Settings_buttonRow__7DE_2",saveButton:"Settings_saveButton__hOtLB"}},4916:e=>{e.exports={statsContainer:"TypingStats_statsContainer__ER9Ok",statsGrid:"TypingStats_statsGrid__cgenG",statCard:"TypingStats_statCard__Vz_Pu",statValue:"TypingStats_statValue__fglm_"}},5821:e=>{e.exports={toast:"Toast_toast__n4V9V",fadeIn:"Toast_fadeIn__8co0A",fadeOut:"Toast_fadeOut__PBTbC",success:"Toast_success__n3sBF",error:"Toast_error__vTefu",info:"Toast_info__iczaj",message:"Toast_message__Ivwz3"}},6852:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var a=s(5155),n=s(2115);let o=(0,n.createContext)({theme:"light",toggleTheme:()=>{},setDarkMode:()=>{}});function r(e){let{children:t}=e,[s,r]=(0,n.useState)("light"),i=e=>{r(e?"dark":"light"),e?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode");try{let t=localStorage.getItem("app-settings"),s=t?JSON.parse(t):{};s.darkMode=e,localStorage.setItem("app-settings",JSON.stringify(s))}catch(e){console.error("설정 저장 오류:",e)}window.electronAPI&&window.electronAPI.setDarkMode(e)};return(0,n.useEffect)(()=>{try{let e=localStorage.getItem("app-settings");if(e){let t=JSON.parse(e);i(t.darkMode||!1)}else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;i(e)}}catch(e){console.error("설정 파싱 오류:",e)}},[]),(0,a.jsx)(o.Provider,{value:{theme:s,toggleTheme:()=>{i("dark"==("light"===s?"dark":"light"))},setDarkMode:i},children:t})}},8334:e=>{e.exports={appContainer:"page_appContainer__p4TtA",mainContent:"page_mainContent__51TpB",appTabs:"page_appTabs__dehwV",tabButton:"page_tabButton__stR9X",activeTab:"page_activeTab__kgdSK",typingContainer:"page_typingContainer__Ltx96",statsContainer:"page_statsContainer__15RXV",historyContainer:"page_historyContainer__PhcIa",monitorContainer:"page_monitorContainer__nzoP_",debugButton:"page_debugButton__OpmNi",debugActive:"page_debugActive__1OXf0",debugPanel:"page_debugPanel__3hMsI",debugPanelBottom:"page_debugPanelBottom__KC93m",debugInfo:"page_debugInfo__i9tMu",zenMode:"page_zenMode__IMTVJ"}},8807:e=>{e.exports={historyContainer:"TypingHistory_historyContainer__m0uqE",historyList:"TypingHistory_historyList__1eEH_",historyItem:"TypingHistory_historyItem__5a96V",historyTime:"TypingHistory_historyTime__hrsig",historyContent:"TypingHistory_historyContent__4Acyh",historyMeta:"TypingHistory_historyMeta__umeXy",loading:"TypingHistory_loading__2GFLm",noData:"TypingHistory_noData__HtLfq"}},9981:(e,t,s)=>{Promise.resolve().then(s.bind(s,87))}},e=>{var t=t=>e(e.s=t);e.O(0,[934,647,693,441,684,358],()=>t(9981)),_N_E=e.O()}]);