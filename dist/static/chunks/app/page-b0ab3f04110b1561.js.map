{"version":3,"file":"static/chunks/app/page-b0ab3f04110b1561.js","mappings":"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","sources":["webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/preload-chunks.tsx","webpack://_N_E/./src/app/components/TypingMonitor.module.css","webpack://_N_E/./src/app/components/Toast.tsx","webpack://_N_E/./src/app/components/ToastContext.tsx","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.tsx","webpack://_N_E/./src/app/components/TypingChart.module.css","webpack://_N_E/./src/app/components/Settings.module.css","webpack://_N_E/./src/app/components/dialogs/ConfirmDialog.module.css","webpack://_N_E/./node_modules/next/dist/server/app-render/async-local-storage.js","webpack://_N_E/./src/app/components/RestartLoading.module.css","webpack://_N_E/./node_modules/next/dist/server/app-render/work-async-storage.external.js","webpack://_N_E/./src/app/components/Toast.module.css","webpack://_N_E/../../../src/shared/lib/app-dynamic.tsx","webpack://_N_E/./src/app/components/HomeContent.module.css","webpack://_N_E/./src/app/utils/nativeModuleClient.ts","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/loadable.tsx","webpack://_N_E/./node_modules/next/dist/server/app-render/work-async-storage-instance.js","webpack://_N_E/./src/app/page.module.css","webpack://_N_E/?b8e1","webpack://_N_E/./node_modules/next/dist/api/app-dynamic.js","webpack://_N_E/./src/app/components/TypingMonitor.tsx","webpack://_N_E/./src/app/components/TypingChart.tsx","webpack://_N_E/./src/app/components/TabNavigation.tsx","webpack://_N_E/./src/app/components/ClientSideControls.tsx","webpack://_N_E/./src/app/components/ThemeProvider.tsx","webpack://_N_E/./src/app/components/MainLayout.tsx","webpack://_N_E/./src/app/components/DebugPanel.tsx","webpack://_N_E/./src/app/components/dialogs/ConfirmDialog.tsx","webpack://_N_E/./src/app/components/dialogs/SaveConfirmDialog.tsx","webpack://_N_E/./src/app/components/Settings.tsx","webpack://_N_E/./src/app/components/RestartLoading.tsx","webpack://_N_E/./src/app/utils/darkModeUtils.ts","webpack://_N_E/./src/app/hooks/useSettings.ts","webpack://_N_E/./src/app/hooks/useTypingStats.ts","webpack://_N_E/./src/app/hooks/useTabNavigation.ts","webpack://_N_E/./src/app/hooks/useMemoryManagement.ts","webpack://_N_E/./src/app/hooks/useAutoHideHeader.ts","webpack://_N_E/./src/app/utils/memory/image-optimizer.ts","webpack://_N_E/./src/app/components/HomeContent.tsx","webpack://_N_E/./src/app/components/TypingAnalyzerWrapper.tsx","webpack://_N_E/./src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { preload } from 'react-dom'\n\nimport { workAsyncStorage } from '../../../server/app-render/work-async-storage.external'\nimport { encodeURIPath } from '../encode-uri-path'\n\nexport function PreloadChunks({\n  moduleIds,\n}: {\n  moduleIds: string[] | undefined\n}) {\n  // Early return in client compilation and only load requestStore on server side\n  if (typeof window !== 'undefined') {\n    return null\n  }\n\n  const workStore = workAsyncStorage.getStore()\n  if (workStore === undefined) {\n    return null\n  }\n\n  const allFiles = []\n\n  // Search the current dynamic call unique key id in react loadable manifest,\n  // and find the corresponding CSS files to preload\n  if (workStore.reactLoadableManifest && moduleIds) {\n    const manifest = workStore.reactLoadableManifest\n    for (const key of moduleIds) {\n      if (!manifest[key]) continue\n      const chunks = manifest[key].files\n      allFiles.push(...chunks)\n    }\n  }\n\n  if (allFiles.length === 0) {\n    return null\n  }\n\n  const dplId = process.env.NEXT_DEPLOYMENT_ID\n    ? `?dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n    : ''\n\n  return (\n    <>\n      {allFiles.map((chunk) => {\n        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}${dplId}`\n        const isCss = chunk.endsWith('.css')\n        // If it's stylesheet we use `precedence` o help hoist with React Float.\n        // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree.\n        // The `preload` for stylesheet is not optional.\n        if (isCss) {\n          return (\n            <link\n              key={chunk}\n              // @ts-ignore\n              precedence=\"dynamic\"\n              href={href}\n              rel=\"stylesheet\"\n              as=\"style\"\n            />\n          )\n        } else {\n          // If it's script we use ReactDOM.preload to preload the resources\n          preload(href, {\n            as: 'script',\n            fetchPriority: 'low',\n          })\n          return null\n        }\n      })}\n    </>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monitorContainer\":\"TypingMonitor_monitorContainer__ER1LM\",\"controlPanel\":\"TypingMonitor_controlPanel__mnPAg\",\"startButton\":\"TypingMonitor_startButton__6Kfxe\",\"stopButton\":\"TypingMonitor_stopButton__KAJ8v\",\"saveButton\":\"TypingMonitor_saveButton__WglP8\",\"statsPanel\":\"TypingMonitor_statsPanel__hOEWj\",\"statItem\":\"TypingMonitor_statItem__uJud3\",\"statLabel\":\"TypingMonitor_statLabel___96yv\",\"statValue\":\"TypingMonitor_statValue__Gutae\",\"saveSection\":\"TypingMonitor_saveSection__KoLn9\",\"descriptionInput\":\"TypingMonitor_descriptionInput__B_Lx7\",\"helpSection\":\"TypingMonitor_helpSection__JbpyP\",\"statusIndicator\":\"TypingMonitor_statusIndicator__kULxH\",\"indicator\":\"TypingMonitor_indicator__z3RHP\",\"active\":\"TypingMonitor_active__hioKY\",\"pulse\":\"TypingMonitor_pulse__PJDcF\",\"googleDocsLink\":\"TypingMonitor_googleDocsLink__sa_xR\",\"websiteTabs\":\"TypingMonitor_websiteTabs__RgoMF\",\"websiteTabHeader\":\"TypingMonitor_websiteTabHeader__V_y3l\",\"websiteTabButton\":\"TypingMonitor_websiteTabButton__rXPP4\",\"activeWebsiteTab\":\"TypingMonitor_activeWebsiteTab__niDOn\",\"websiteTabContent\":\"TypingMonitor_websiteTabContent__RBMcj\",\"websiteLinks\":\"TypingMonitor_websiteLinks__3vAID\",\"websiteLink\":\"TypingMonitor_websiteLink__lqd9U\",\"actionFeedback\":\"TypingMonitor_actionFeedback__VPiGl\",\"fadeIn\":\"TypingMonitor_fadeIn__BRcC2\",\"browserStatus\":\"TypingMonitor_browserStatus__b4rGV\",\"browserInfo\":\"TypingMonitor_browserInfo__w3N_l\",\"browserRow\":\"TypingMonitor_browserRow__27uT0\",\"browserValue\":\"TypingMonitor_browserValue__cu5JE\",\"detectedBadge\":\"TypingMonitor_detectedBadge__iDUgv\",\"notDetectedBadge\":\"TypingMonitor_notDetectedBadge__EtIo1\",\"browserList\":\"TypingMonitor_browserList__JrDTA\",\"browserColumn\":\"TypingMonitor_browserColumn__EOGEk\",\"trackingButton\":\"TypingMonitor_trackingButton__szR9V\",\"trackingActive\":\"TypingMonitor_trackingActive__eHDsS\",\"monitorHeader\":\"TypingMonitor_monitorHeader__yUhAy\",\"container\":\"TypingMonitor_container__TzhrN\",\"contentWrapper\":\"TypingMonitor_contentWrapper__PPmCK\",\"leftPanel\":\"TypingMonitor_leftPanel__FJhBH\",\"rightPanel\":\"TypingMonitor_rightPanel__DQxqP\",\"statsTabs\":\"TypingMonitor_statsTabs__BFC0M\",\"statsTabButton\":\"TypingMonitor_statsTabButton__PM_Rt\",\"activeStatsTab\":\"TypingMonitor_activeStatsTab__rEAV4\",\"statsTabContent\":\"TypingMonitor_statsTabContent__RAlml\",\"statsGroup\":\"TypingMonitor_statsGroup__eqddv\",\"statCard\":\"TypingMonitor_statCard__qVky4\"};","import { useEffect, useState } from 'react';\r\nimport styles from './Toast.module.css';\r\n\r\ninterface ToastProps {\r\n  message: string;\r\n  type: 'success' | 'error' | 'info' | 'warning'; // warning 타입 추가\r\n  duration?: number;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport function Toast({ message, type, duration = 3000, onClose }: ToastProps) {\r\n  const [visible, setVisible] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setVisible(false);\r\n      if (onClose) onClose();\r\n    }, duration);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [duration, onClose]);\r\n  \r\n  return visible ? (\r\n    <div className={`${styles.toast} ${styles[type]}`}>\r\n      <span className={styles.message}>{message}</span>\r\n    </div>\r\n  ) : null;\r\n}","import React, { createContext, useContext, useState } from 'react';\r\nimport { Toast } from './Toast';\r\n\r\ntype ToastType = 'success' | 'error' | 'info' | 'warning'; // warning 타입 추가\r\n\r\ninterface ToastContextType {\r\n  showToast: (message: string, type: ToastType) => void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\r\n\r\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\r\n  const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\r\n  \r\n  const showToast = (message: string, type: ToastType) => {\r\n    setToast({ message, type });\r\n    \r\n    // 3초 후 자동으로 토스트 제거\r\n    setTimeout(() => {\r\n      setToast(null);\r\n    }, 3000);\r\n  };\r\n  \r\n  return (\r\n    <ToastContext.Provider value={{ showToast }}>\r\n      {children}\r\n      {toast && (\r\n        <Toast\r\n          message={toast.message}\r\n          type={toast.type}\r\n          onClose={() => setToast(null)}\r\n        />\r\n      )}\r\n    </ToastContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useToast = () => {\r\n  const context = useContext(ToastContext);\r\n  if (context === undefined) {\r\n    // 오류 대신 더미 함수 반환하여 앱이 중단되지 않도록 함\r\n    return {\r\n      showToast: (message: string, type: ToastType) => {\r\n        console.warn('ToastProvider가 설정되지 않았습니다:', message);\r\n      }\r\n    };\r\n  }\r\n  return context;\r\n};","'use client'\n\nimport type { ReactElement } from 'react'\nimport { BailoutToCSRError } from './bailout-to-csr'\n\ninterface BailoutToCSRProps {\n  reason: string\n  children: ReactElement\n}\n\n/**\n * If rendered on the server, this component throws an error\n * to signal Next.js that it should bail out to client-side rendering instead.\n */\nexport function BailoutToCSR({ reason, children }: BailoutToCSRProps) {\n  if (typeof window === 'undefined') {\n    throw new BailoutToCSRError(reason)\n  }\n\n  return children\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chartContainer\":\"TypingChart_chartContainer__Xxoiu\",\"charts\":\"TypingChart_charts__fz60g\",\"chartItem\":\"TypingChart_chartItem__CNTM_\",\"chartWrapper\":\"TypingChart_chartWrapper__1KDYX\",\"noData\":\"TypingChart_noData__zjjvx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsContainer\":\"Settings_settingsContainer__0SxHP\",\"darkMode\":\"Settings_darkMode__a5VLX\",\"settingsLayout\":\"Settings_settingsLayout__AhsXc\",\"settingsTabs\":\"Settings_settingsTabs__rbo3s\",\"settingsContent\":\"Settings_settingsContent__WWkgP\",\"tabContent\":\"Settings_tabContent__tyrL8\",\"tabButton\":\"Settings_tabButton__LwWsw\",\"activeTab\":\"Settings_activeTab__IamTX\",\"settingSection\":\"Settings_settingSection__XwrF7\",\"settingGrid\":\"Settings_settingGrid__B8uYm\",\"toggleGrid\":\"Settings_toggleGrid__Tt89I\",\"categoryToggles\":\"Settings_categoryToggles__HQHhT\",\"toggleItem\":\"Settings_toggleItem___q_0D\",\"toggleLabel\":\"Settings_toggleLabel__8fIJv\",\"settingGroup\":\"Settings_settingGroup___gjRv\",\"settingRow\":\"Settings_settingRow__WD9zX\",\"radioGroup\":\"Settings_radioGroup__QGEGo\",\"radioLabel\":\"Settings_radioLabel__Iog9l\",\"radioText\":\"Settings_radioText__hi7nW\",\"selectLabel\":\"Settings_selectLabel__p8LXx\",\"selectControl\":\"Settings_selectControl__Wv09K\",\"numberInput\":\"Settings_numberInput__hKIK9\",\"buttonRow\":\"Settings_buttonRow__7DE_2\",\"saveButton\":\"Settings_saveButton__hOtLB\",\"disabledNote\":\"Settings_disabledNote__pj8Vq\",\"settingDescription\":\"Settings_settingDescription__uTSPW\",\"settingSectionTitle\":\"Settings_settingSectionTitle__7AAKi\",\"highlightedSetting\":\"Settings_highlightedSetting__nv197\",\"restartNotice\":\"Settings_restartNotice__7IuFo\",\"restartButton\":\"Settings_restartButton__W35gK\",\"buttonGroup\":\"Settings_buttonGroup__INZRh\",\"debugButton\":\"Settings_debugButton__fDkOc\",\"debugInfo\":\"Settings_debugInfo__oW81q\",\"infoIcon\":\"Settings_infoIcon__ZdJw4\",\"tooltip\":\"Settings_tooltip__ByqrZ\",\"show\":\"Settings_show__A77K4\",\"tooltipArrow\":\"Settings_tooltipArrow__nXaFe\",\"settingItem\":\"Settings_settingItem__rllCH\",\"settingLabel\":\"Settings_settingLabel__7bLGD\",\"settingControl\":\"Settings_settingControl__8o6yL\",\"rangeSlider\":\"Settings_rangeSlider__P5Kf6\",\"rangeLabel\":\"Settings_rangeLabel__v4Egm\",\"rangeItem\":\"Settings_rangeItem__ZYQkW\",\"disabledMessage\":\"Settings_disabledMessage__88H9y\",\"analysisStats\":\"Settings_analysisStats__dujwc\",\"statsDescription\":\"Settings_statsDescription__hjLpw\",\"statItems\":\"Settings_statItems__633pW\",\"statItem\":\"Settings_statItem__u5qPd\",\"statLabel\":\"Settings_statLabel__2ivZ5\",\"statValue\":\"Settings_statValue___GGL0\",\"compactUI\":\"Settings_compactUI__uuPPM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"ConfirmDialog_overlay__XcVfx\",\"dialog\":\"ConfirmDialog_dialog__CZkp6\",\"fadeIn\":\"ConfirmDialog_fadeIn____2_q\",\"header\":\"ConfirmDialog_header__TwDKK\",\"info\":\"ConfirmDialog_info__c4R3u\",\"warning\":\"ConfirmDialog_warning__CAxfo\",\"error\":\"ConfirmDialog_error__1lLKt\",\"success\":\"ConfirmDialog_success__4OJVN\",\"closeButton\":\"ConfirmDialog_closeButton__xqxS2\",\"content\":\"ConfirmDialog_content__DjEqW\",\"message\":\"ConfirmDialog_message__e3Avu\",\"actions\":\"ConfirmDialog_actions___hCeq\",\"button\":\"ConfirmDialog_button__4hdj9\",\"cancelButton\":\"ConfirmDialog_cancelButton__jtlqe\",\"confirmButton\":\"ConfirmDialog_confirmButton__qHQyl\",\"warningButton\":\"ConfirmDialog_warningButton__NGvq4\",\"errorButton\":\"ConfirmDialog_errorButton__vhkIj\",\"successButton\":\"ConfirmDialog_successButton__ZgRV9\",\"darkMode\":\"ConfirmDialog_darkMode__GApyi\"};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    bindSnapshot: null,\n    createAsyncLocalStorage: null,\n    createSnapshot: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    bindSnapshot: function() {\n        return bindSnapshot;\n    },\n    createAsyncLocalStorage: function() {\n        return createAsyncLocalStorage;\n    },\n    createSnapshot: function() {\n        return createSnapshot;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"RestartLoading_overlay__xTGoM\",\"loadingContainer\":\"RestartLoading_loadingContainer__fs5qH\",\"spinner\":\"RestartLoading_spinner__pt5Mz\",\"spin\":\"RestartLoading_spin__IcW5Z\",\"title\":\"RestartLoading_title__0PqQH\",\"progressContainer\":\"RestartLoading_progressContainer__fWgDe\",\"progressBar\":\"RestartLoading_progressBar__MFOGS\",\"note\":\"RestartLoading_note__iqeE6\"};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"workAsyncStorage\", {\n    enumerable: true,\n    get: function() {\n        return _workasyncstorageinstance.workAsyncStorageInstance;\n    }\n});\nconst _workasyncstorageinstance = require(\"./work-async-storage-instance\");\n\n//# sourceMappingURL=work-async-storage.external.js.map","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toast\":\"Toast_toast__n4V9V\",\"fadeIn\":\"Toast_fadeIn__8co0A\",\"fadeOut\":\"Toast_fadeOut__PBTbC\",\"success\":\"Toast_success__n3sBF\",\"error\":\"Toast_error__vTefu\",\"info\":\"Toast_info__iczaj\",\"warning\":\"Toast_warning__u1w7_\",\"message\":\"Toast_message__Ivwz3\"};","import type React from 'react'\nimport type { JSX } from 'react'\nimport Loadable from './lazy-dynamic/loadable'\n\nimport type {\n  LoadableGeneratedOptions,\n  DynamicOptionsLoadingProps,\n  Loader,\n  LoaderComponent,\n} from './lazy-dynamic/types'\n\nexport {\n  type LoadableGeneratedOptions,\n  type DynamicOptionsLoadingProps,\n  type Loader,\n  type LoaderComponent,\n}\n\nexport type DynamicOptions<P = {}> = LoadableGeneratedOptions & {\n  loading?: () => JSX.Element | null\n  loader?: Loader<P>\n  loadableGenerated?: LoadableGeneratedOptions\n  modules?: string[]\n  ssr?: boolean\n}\n\nexport type LoadableOptions<P = {}> = DynamicOptions<P>\n\nexport type LoadableFn<P = {}> = (\n  opts: LoadableOptions<P>\n) => React.ComponentType<P>\n\nexport type LoadableComponent<P = {}> = React.ComponentType<P>\n\nexport default function dynamic<P = {}>(\n  dynamicOptions: DynamicOptions<P> | Loader<P>,\n  options?: DynamicOptions<P>\n): React.ComponentType<P> {\n  const loadableOptions: LoadableOptions<P> = {}\n\n  if (typeof dynamicOptions === 'function') {\n    loadableOptions.loader = dynamicOptions\n  }\n\n  const mergedOptions = {\n    ...loadableOptions,\n    ...options,\n  }\n\n  return Loadable({\n    ...mergedOptions,\n    modules: mergedOptions.loadableGenerated?.modules,\n  })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeContent\":\"HomeContent_homeContent__jZ_K_\",\"darkMode\":\"HomeContent_darkMode__uK4L2\",\"section\":\"HomeContent_section__hVGXB\",\"sectionTitle\":\"HomeContent_sectionTitle__CzvG8\",\"description\":\"HomeContent_description__5NY6r\",\"themeSection\":\"HomeContent_themeSection__jOkZs\",\"subsectionTitle\":\"HomeContent_subsectionTitle__QdR5C\",\"themeToggleContainer\":\"HomeContent_themeToggleContainer__lPJ9F\",\"themeLabel\":\"HomeContent_themeLabel__NFs8T\",\"themeToggleMain\":\"HomeContent_themeToggleMain__78GJ7\",\"themeDescription\":\"HomeContent_themeDescription__nFQEb\"};","/**\n * 네이티브 모듈 클라이언트 API\n * \n * 프론트엔드에서 네이티브 모듈 기능을 사용하기 위한 래퍼 함수들을 제공합니다.\n */\n\nimport type { \n  MemoryInfo, \n  OptimizationResult, \n  GCResult, \n  GpuInfo,\n  GpuComputationResult,\n  TaskResult\n} from '@/types';\nimport { OptimizationLevel } from '@/types/native-module';\n\n// 상태 캐시\nlet moduleStatusCache: any = null;\nlet lastStatusCheck = 0;\nconst STATUS_CACHE_TTL = 10000; // 10초\n\n// 브라우저 환경인지 확인 - 상수로 변경\nconst isBrowser = typeof window !== 'undefined';\n\n/**\n * fetch 요청을 래핑하는 함수\n */\nasync function enhancedFetch(url: string, options: RequestInit = {}): Promise<Response> {\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n    });\n    \n    return response;\n  } catch (error) {\n    console.error(`Fetch 요청 실패 (${url}):`, error);\n    throw error;\n  }\n}\n\n/**\n * 메모리 정보 가져오기\n */\nexport async function getMemoryInfo() {\n  if (!isBrowser) {\n    return { success: false, error: 'Server environment', timestamp: Date.now() };\n  }\n  \n  try {\n    const response = await enhancedFetch('/api/native/memory');\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('메모리 정보 가져오기 실패:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n    };\n  }\n}\n\n/**\n * 메모리 최적화 수행\n */\nexport async function optimizeMemory(level = 2, emergency = false) {\n  try {\n    const response = await enhancedFetch('/api/native/memory', {\n      method: 'PUT',\n      body: JSON.stringify({\n        type: 'optimize',\n        level: level.toString(),\n        emergency\n      }),\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('메모리 최적화 실패:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n    };\n  }\n}\n\n/**\n * 가비지 컬렉션 강제 수행\n */\nexport async function forceGarbageCollection() {\n  try {\n    // 요청 데이터 준비\n    const data = JSON.stringify({\n      type: 'gc'\n    });\n    \n    // 먼저 POST 메서드로 시도\n    try {\n      const response = await enhancedFetch('/api/native/memory', {\n        method: 'POST',\n        body: data,\n      });\n      \n      if (response.ok) {\n        return await response.json();\n      }\n      \n      // POST가 실패하면 PUT 메서드 시도\n      console.warn('POST 메서드 실패, PUT 메서드로 다시 시도합니다.');\n    } catch (error) {\n      console.warn('POST 메서드 실패, PUT 메서드로 다시 시도합니다.', error);\n    }\n    \n    // PUT 메서드 시도\n    const response = await enhancedFetch('/api/native/memory', {\n      method: 'PUT',\n      body: data,\n    });\n    \n    if (!response.ok) {\n      // 더 상세한 오류 로깅\n      console.error(`가비지 컬렉션 요청 실패: ${response.status} ${response.statusText}`);\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('가비지 컬렉션 실패:', error);\n    \n    // 가비지 컬렉션이 실패하더라도 폴백 구현으로 기본 가비지 컬렉션 시도\n    try {\n      if (typeof window !== 'undefined' && typeof window.gc === 'function') {\n        window.gc();\n        console.log('브라우저 GC 폴백 사용');\n        return {\n          success: true,\n          message: '브라우저 GC 폴백으로 실행됨',\n          timestamp: Date.now()\n        };\n      }\n    } catch (fallbackError) {\n      console.warn('브라우저 GC 폴백도 실패:', fallbackError);\n    }\n    \n    return {\n      success: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n      timestamp: Date.now()\n    };\n  }\n}\n\n/**\n * GPU 정보 가져오기\n */\nexport async function getGpuInfo() {\n  try {\n    // 브라우저 환경인지 확인\n    if (!isBrowser) {\n      return createFallbackGpuInfo('서버 환경에서 실행 중');\n    }\n    \n    // 먼저 간단한 상태 확인\n    if (!window.navigator) {\n      return createFallbackGpuInfo('navigator 객체를 사용할 수 없음');\n    }\n    \n    try {\n      const response = await enhancedFetch('/api/native/gpu');\n    \n    if (!response.ok) {\n        console.warn(`GPU 정보 요청 실패: ${response.status}. 폴백 GPU 정보 반환`);\n        return createFallbackGpuInfo(`API 응답 오류: ${response.status}`);\n      }\n      \n      const result = await response.json();\n      \n      // 결과 검증\n      if (result && result.success) {\n        return result;\n      } else {\n        console.warn('GPU 정보 요청은 성공했지만 유효한 데이터가 없습니다. 폴백 정보 반환', result);\n        return createFallbackGpuInfo('유효하지 않은 응답 데이터');\n      }\n    } catch (fetchError) {\n      console.error('GPU 정보 요청 중 오류:', fetchError);\n      return createFallbackGpuInfo(fetchError instanceof Error ? fetchError.message : '네트워크 오류');\n    }\n  } catch (error) {\n    console.error('GPU 정보 가져오기 처리 중 예상치 못한 오류:', error);\n    return createFallbackGpuInfo('예상치 못한 오류');\n  }\n}\n\n/**\n * 폴백 GPU 정보 생성\n */\nfunction createFallbackGpuInfo(reason: string) {\n  // 브라우저 WebGL 지원 확인 시도\n  let webglAvailable = false;\n  let vendorInfo = '알 수 없음';\n  \n  try {\n    if (typeof window !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl') as WebGLRenderingContext | null;\n      \n      if (gl) {\n        webglAvailable = true;\n        const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\n        \n        if (debugInfo) {\n          const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || '알 수 없음';\n          const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || '알 수 없음';\n          vendorInfo = `${vendor} (${renderer})`;\n        }\n      }\n    }\n  } catch (e) {\n    console.warn('WebGL 지원 확인 중 오류:', e);\n  }\n  \n  return {\n    success: true, // 폴백 정보이지만 클라이언트 코드를 중단시키지 않기 위해 success:true 반환\n    available: webglAvailable,\n    fallback: true, // 이것이 폴백 데이터임을 표시\n    gpuInfo: {\n      name: '브라우저 폴백',\n      vendor: vendorInfo,\n      available: webglAvailable,\n      accelerationEnabled: false,\n      deviceType: 'Software',\n      driverVersion: '폴백 구현',\n      fallbackReason: reason\n    },\n      timestamp: Date.now()\n    };\n}\n\n/**\n * GPU 가속 활성화/비활성화\n * @param enable 활성화 여부\n */\nexport async function setGpuAcceleration(enable: boolean) {\n  try {\n    // 요청 데이터 준비\n    const requestBody = JSON.stringify({\n      enable\n    });\n    \n    // 요청 보내기\n    const response = await enhancedFetch('/api/native/gpu/acceleration', {\n      method: 'PUT',\n      body: requestBody\n    });\n    \n    // 응답 처리\n    if (!response.ok) {\n      throw new Error(`GPU 가속 설정 요청 실패: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('GPU 가속 설정 오류:', error);\n    return {\n      success: false,\n      enabled: false,\n      result: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n      timestamp: Date.now()\n    };\n  }\n}\n\n/**\n * GPU 계산 수행\n * @param data 계산에 사용할 데이터\n * @param computationType 계산 유형\n */\nexport async function performGpuComputation<T = unknown>(data: unknown, computationType: string) {\n  try {\n    // 요청 데이터 준비\n    const requestBody = JSON.stringify({\n      data,\n      computationType\n    });\n    \n    // 요청 보내기\n    const response = await enhancedFetch('/api/native/gpu', {\n      method: 'POST',\n      body: requestBody\n    });\n    \n    // 응답 처리\n    if (!response.ok) {\n      throw new Error(`GPU 계산 요청 실패: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('GPU 계산 오류:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n      timestamp: Date.now()\n    };\n  }\n}\n\n/**\n * 네이티브 모듈 상태 확인\n */\nexport async function getNativeModuleStatus() {\n  if (!isBrowser) {\n    return { success: false, error: 'Server environment', timestamp: Date.now() };\n  }\n  \n  // 캐시된 상태가 있고 TTL 내라면 캐시된 값 반환\n  const now = Date.now();\n  if (moduleStatusCache && now - lastStatusCheck < STATUS_CACHE_TTL) {\n    return moduleStatusCache;\n  }\n  \n  try {\n    const response = await enhancedFetch('/api/native/status');\n    \n    if (!response.ok) {\n      throw new Error(`네이티브 모듈 상태 요청 실패: ${response.status}`);\n    }\n    \n    const result = await response.json();\n    \n    // 캐시 업데이트\n    moduleStatusCache = result;\n    lastStatusCheck = now;\n    \n    return result;\n  } catch (error) {\n    console.error('네이티브 모듈 상태 확인 실패:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : '알 수 없는 오류',\n    };\n  }\n}\n","import { Suspense, Fragment, lazy } from 'react'\nimport { BailoutToCSR } from './dynamic-bailout-to-csr'\nimport type { ComponentModule } from './types'\nimport { PreloadChunks } from './preload-chunks'\n\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule<P>(\n  mod: React.ComponentType<P> | ComponentModule<P> | undefined\n): {\n  default: React.ComponentType<P>\n} {\n  // Check \"default\" prop before accessing it, as it could be client reference proxy that could break it reference.\n  // Cases:\n  // mod: { default: Component }\n  // mod: Component\n  // mod: { default: proxy(Component) }\n  // mod: proxy(Component)\n  const hasDefault = mod && 'default' in mod\n  return {\n    default: hasDefault\n      ? (mod as ComponentModule<P>).default\n      : (mod as React.ComponentType<P>),\n  }\n}\n\nconst defaultOptions = {\n  loader: () => Promise.resolve(convertModule(() => null)),\n  loading: null,\n  ssr: true,\n}\n\ninterface LoadableOptions {\n  loader?: () => Promise<React.ComponentType<any> | ComponentModule<any>>\n  loading?: React.ComponentType<any> | null\n  ssr?: boolean\n  modules?: string[]\n}\n\nfunction Loadable(options: LoadableOptions) {\n  const opts = { ...defaultOptions, ...options }\n  const Lazy = lazy(() => opts.loader().then(convertModule))\n  const Loading = opts.loading\n\n  function LoadableComponent(props: any) {\n    const fallbackElement = Loading ? (\n      <Loading isLoading={true} pastDelay={true} error={null} />\n    ) : null\n\n    // If it's non-SSR or provided a loading component, wrap it in a suspense boundary\n    const hasSuspenseBoundary = !opts.ssr || !!opts.loading\n    const Wrap = hasSuspenseBoundary ? Suspense : Fragment\n    const wrapProps = hasSuspenseBoundary ? { fallback: fallbackElement } : {}\n    const children = opts.ssr ? (\n      <>\n        {/* During SSR, we need to preload the CSS from the dynamic component to avoid flash of unstyled content */}\n        {typeof window === 'undefined' ? (\n          <PreloadChunks moduleIds={opts.modules} />\n        ) : null}\n        <Lazy {...props} />\n      </>\n    ) : (\n      <BailoutToCSR reason=\"next/dynamic\">\n        <Lazy {...props} />\n      </BailoutToCSR>\n    )\n\n    return <Wrap {...wrapProps}>{children}</Wrap>\n  }\n\n  LoadableComponent.displayName = 'LoadableComponent'\n\n  return LoadableComponent\n}\n\nexport default Loadable\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"workAsyncStorageInstance\", {\n    enumerable: true,\n    get: function() {\n        return workAsyncStorageInstance;\n    }\n});\nconst _asynclocalstorage = require(\"./async-local-storage\");\nconst workAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-async-storage-instance.js.map","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"page_appContainer__p4TtA\",\"mainContent\":\"page_mainContent__51TpB\",\"appContent\":\"page_appContent__VvQm4\",\"appTabs\":\"page_appTabs__dehwV\",\"tabButton\":\"page_tabButton__stR9X\",\"activeTab\":\"page_activeTab__kgdSK\",\"typingContainer\":\"page_typingContainer__Ltx96\",\"statsContainer\":\"page_statsContainer__15RXV\",\"historyContainer\":\"page_historyContainer__PhcIa\",\"monitorContainer\":\"page_monitorContainer__nzoP_\",\"debugButton\":\"page_debugButton__OpmNi\",\"debugActive\":\"page_debugActive__1OXf0\",\"debugPanel\":\"page_debugPanel__3hMsI\",\"debugPanelBottom\":\"page_debugPanelBottom__KC93m\",\"debugInfo\":\"page_debugInfo__i9tMu\",\"zenMode\":\"page_zenMode__IMTVJ\",\"headerDetectionArea\":\"page_headerDetectionArea__Mg4up\",\"navLinks\":\"page_navLinks__3Mchl\",\"navLink\":\"page_navLink__2S7dD\",\"dark-mode\":\"page_dark-mode__8RLxf\",\"sectionContainer\":\"page_sectionContainer__RYMeh\",\"themeSection\":\"page_themeSection__GgLK9\"};","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\user\\\\Desktop\\\\loop_2\\\\src\\\\app\\\\page.tsx\");\n","export * from '../shared/lib/app-dynamic';\nexport { default } from '../shared/lib/app-dynamic';\n\n//# sourceMappingURL=app-dynamic.js.map","'use client';\r\n\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport styles from './TypingMonitor.module.css';\r\n\r\ninterface TypingMonitorProps {\r\n  stats: {\r\n    keyCount: number;\r\n    typingTime: number;\r\n    windowTitle: string;\r\n    browserName?: string;\r\n    totalChars?: number;\r\n    totalCharsNoSpace?: number;\r\n    totalWords?: number;\r\n    pages?: number;\r\n    accuracy?: number;\r\n  };\r\n  isTracking: boolean;\r\n  onStartTracking: () => void;\r\n  onStopTracking: () => void;\r\n  onSaveStats: (content: string) => void;\r\n}\r\n\r\n// 포맷 함수를 컴포넌트 외부로 이동하여 렌더링마다 재생성되지 않도록 함\r\nconst formatTime = (seconds: number): string => {\r\n  if (seconds < 60) return `${seconds}초`;\r\n  \r\n  const minutes = Math.floor(seconds / 60);\r\n  const remainingSeconds = seconds % 60;\r\n  \r\n  if (minutes < 60) {\r\n    return `${minutes}분 ${remainingSeconds}초`;\r\n  }\r\n  \r\n  const hours = Math.floor(minutes / 60);\r\n  const remainingMinutes = minutes % 60;\r\n  \r\n  return `${hours}시간 ${remainingMinutes}분 ${remainingSeconds}초`;\r\n};\r\n\r\n// 평균 속도 계산 함수도 외부로 이동\r\nconst getAverageSpeed = (keyCount: number, time: number): string => {\r\n  if (time <= 0) return '0 타/분';\r\n  return `${Math.round((keyCount / time) * 60)} 타/분`;\r\n};\r\n\r\nexport const TypingMonitor = React.memo(function TypingMonitor({ \r\n  stats, \r\n  isTracking, \r\n  onStartTracking, \r\n  onStopTracking,\r\n  onSaveStats\r\n}: TypingMonitorProps) {\r\n  const [description, setDescription] = useState('');\r\n  const [lastAction, setLastAction] = useState<string>('');\r\n  const [activeWebsiteTab, setActiveWebsiteTab] = useState<string>('docs');\r\n  const [activeStatsTab, setActiveStatsTab] = useState<string>('typing'); \r\n  \r\n  // 브라우저 체크 결과를 ref로 변경하여 리렌더링 방지\r\n  const browserCheckResultRef = React.useRef<{\r\n    name: string | null;\r\n    isGoogleDocs: boolean;\r\n    title: string | null;\r\n  } | null>(null);\r\n\r\n  // 브라우저 정보 확인 함수 메모이제이션\r\n  const checkBrowserInfo = useCallback(async () => {\r\n    if (window.electronAPI?.getCurrentBrowserInfo) {\r\n      try {\r\n        const info = await window.electronAPI.getCurrentBrowserInfo();\r\n        browserCheckResultRef.current = info;\r\n      } catch (error) {\r\n        console.error('브라우저 정보 확인 오류:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // 정기적으로 브라우저 정보 업데이트 (5초 → 30초로 변경하여 부하 대폭 감소)\r\n  useEffect(() => {\r\n    if (isTracking) {\r\n      // 초기 확인\r\n      checkBrowserInfo();\r\n      \r\n      // 더 긴 간격(30초)으로 업데이트하여 리소스 사용 감소\r\n      const interval = setInterval(checkBrowserInfo, 30000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isTracking, checkBrowserInfo]);\r\n\r\n  // 메모이제이션된 핸들러 함수들\r\n  const handleDescriptionChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setDescription(e.target.value);\r\n  }, []);\r\n\r\n  const handleSave = useCallback(() => {\r\n    onSaveStats(description);\r\n    setDescription('');\r\n    setLastAction('저장됨');\r\n    \r\n    // 2초 후 메시지 제거\r\n    setTimeout(() => {\r\n      setLastAction('');\r\n    }, 2000);\r\n  }, [description, onSaveStats]);\r\n\r\n  const handleToggleTracking = useCallback(() => {\r\n    if (isTracking) {\r\n      onStopTracking();\r\n    } else {\r\n      onStartTracking();\r\n    }\r\n  }, [isTracking, onStartTracking, onStopTracking]);\r\n\r\n  const handleWebsiteTabChange = useCallback((tab: string) => {\r\n    setActiveWebsiteTab(tab);\r\n  }, []);\r\n\r\n  const handleStatsTabChange = useCallback((tab: string) => {\r\n    setActiveStatsTab(tab);\r\n  }, []);\r\n\r\n  // 웹사이트 탭 컨텐츠 메모이제이션\r\n  const websiteTabContent = useMemo(() => {\r\n    switch (activeWebsiteTab) {\r\n      case 'docs':\r\n        return (\r\n          <div className={styles.websiteLinks}>\r\n            <a href=\"https://docs.google.com/document/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              구글 문서 열기\r\n            </a>\r\n            <a href=\"https://docs.google.com/spreadsheets/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              구글 스프레드시트 열기\r\n            </a>\r\n            <a href=\"https://docs.google.com/presentation/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              구글 프레젠테이션 열기\r\n            </a>\r\n            <a href=\"https://www.notion.so/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Notion 열기\r\n            </a>\r\n          </div>\r\n        );\r\n      case 'office':\r\n        return (\r\n          <div className={styles.websiteLinks}>\r\n            <a href=\"https://www.office.com/launch/word\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Word 온라인 열기\r\n            </a>\r\n            <a href=\"https://www.office.com/launch/excel\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Excel 온라인 열기\r\n            </a>\r\n            <a href=\"https://www.office.com/launch/powerpoint\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              PowerPoint 온라인 열기\r\n            </a>\r\n            <a href=\"https://www.hancom.com/main/main.do\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              한글과컴퓨터 열기\r\n            </a>\r\n          </div>\r\n        );\r\n      case 'coding':\r\n        return (\r\n          <div className={styles.websiteLinks}>\r\n            <a href=\"https://github.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              GitHub 열기\r\n            </a>\r\n            <a href=\"https://gitlab.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              GitLab 열기\r\n            </a>\r\n            <a href=\"https://codesandbox.io/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              CodeSandbox 열기\r\n            </a>\r\n            <a href=\"https://codepen.io/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              CodePen 열기\r\n            </a>\r\n          </div>\r\n        );\r\n      case 'sns':\r\n        return (\r\n          <div className={styles.websiteLinks}>\r\n            <a href=\"https://slack.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Slack 열기\r\n            </a>\r\n            <a href=\"https://discord.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Discord 열기\r\n            </a>\r\n            <a href=\"https://www.messenger.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Messenger 열기\r\n            </a>\r\n            <a href=\"https://mail.google.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.websiteLink}>\r\n              Gmail 열기\r\n            </a>\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }, [activeWebsiteTab]);\r\n\r\n  // 통계 탭 컨텐츠 메모이제이션\r\n  const statsTabContent = useMemo(() => {\r\n    switch (activeStatsTab) {\r\n      case 'typing':\r\n        return (\r\n          <div className={styles.statsGroup}>\r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>타자 수</div>\r\n              <div className={styles.statValue}>{stats.keyCount.toLocaleString()}</div>\r\n            </div>\r\n            \r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>타이핑 시간</div>\r\n              <div className={styles.statValue}>{formatTime(stats.typingTime)}</div>\r\n            </div>\r\n            \r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>평균 속도</div>\r\n              <div className={styles.statValue}>{getAverageSpeed(stats.keyCount, stats.typingTime)}</div>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 'document':\r\n        return (\r\n          <div className={styles.statsGroup}>\r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>페이지 수</div>\r\n              <div className={styles.statValue}>{stats.pages?.toFixed(1) || '0.0'}</div>\r\n            </div>\r\n            \r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>단어 수</div>\r\n              <div className={styles.statValue}>{stats.totalWords?.toLocaleString() || '0'}</div>\r\n            </div>\r\n            \r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>글자 수</div>\r\n              <div className={styles.statValue}>{stats.totalChars?.toLocaleString() || '0'}</div>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 'accuracy':\r\n        return (\r\n          <div className={styles.statsGroup}>\r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>글자 수 (공백 제외)</div>\r\n              <div className={styles.statValue}>{stats.totalCharsNoSpace?.toLocaleString() || '0'}</div>\r\n            </div>\r\n            \r\n            <div className={styles.statCard}>\r\n              <div className={styles.statLabel}>정확도</div>\r\n              <div className={styles.statValue}>{stats.accuracy || 100}%</div>\r\n            </div>\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }, [activeStatsTab, stats]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.monitorHeader}>\r\n        <h2>타이핑 모니터링</h2>\r\n        <button \r\n          className={`${styles.trackingButton} ${isTracking ? styles.trackingActive : ''}`}\r\n          onClick={handleToggleTracking}\r\n        >\r\n          {isTracking ? '모니터링 중지' : '모니터링 시작'}\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.statusIndicator}>\r\n        <div className={`${styles.indicator} ${isTracking ? styles.active : ''}`}></div>\r\n        <span>모니터링 상태: <strong>{isTracking ? '활성화' : '비활성화'}</strong></span>\r\n        \r\n        {lastAction && (\r\n          <div className={styles.actionFeedback}>{lastAction}</div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className={styles.contentWrapper}>\r\n        <div className={styles.leftPanel}>\r\n          <div className={styles.browserStatus}>\r\n            <h3>브라우저 상태</h3>\r\n            <div className={styles.browserInfo}>\r\n              <div className={styles.browserRow}>\r\n                <span>감지된 브라우저:</span>\r\n                <span className={styles.browserValue}>\r\n                  {stats.browserName || browserCheckResultRef.current?.name || '없음'}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className={styles.browserRow}>\r\n                <span>구글 문서 감지:</span>\r\n                <span className={styles.browserValue}>\r\n                  {browserCheckResultRef.current?.isGoogleDocs ? (\r\n                    <span className={styles.detectedBadge}>감지됨 ✓</span>\r\n                  ) : (\r\n                    <span className={styles.notDetectedBadge}>아님 ⨯</span>\r\n                  )}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className={styles.browserRow}>\r\n                <span>현재 창:</span>\r\n                <span className={styles.browserValue} title={stats.windowTitle || browserCheckResultRef.current?.title || ''}>\r\n                  {(stats.windowTitle || browserCheckResultRef.current?.title || '없음').substring(0, 60)}\r\n                  {(stats.windowTitle || browserCheckResultRef.current?.title || '').length > 60 ? '...' : ''}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className={styles.websiteTabs}>\r\n            <div className={styles.websiteTabHeader}>\r\n              <button \r\n                className={`${styles.websiteTabButton} ${activeWebsiteTab === 'docs' ? styles.activeWebsiteTab : ''}`}\r\n                onClick={() => handleWebsiteTabChange('docs')}\r\n              >\r\n                구글 문서\r\n              </button>\r\n              <button \r\n                className={`${styles.websiteTabButton} ${activeWebsiteTab === 'office' ? styles.activeWebsiteTab : ''}`}\r\n                onClick={() => handleWebsiteTabChange('office')}\r\n              >\r\n                오피스\r\n              </button>\r\n              <button \r\n                className={`${styles.websiteTabButton} ${activeWebsiteTab === 'coding' ? styles.activeWebsiteTab : ''}`}\r\n                onClick={() => handleWebsiteTabChange('coding')}\r\n              >\r\n                코딩\r\n              </button>\r\n              <button \r\n                className={`${styles.websiteTabButton} ${activeWebsiteTab === 'sns' ? styles.activeWebsiteTab : ''}`}\r\n                onClick={() => handleWebsiteTabChange('sns')}\r\n              >\r\n                SNS/메신저\r\n              </button>\r\n            </div>\r\n            \r\n            <div className={styles.websiteTabContent}>\r\n              {websiteTabContent}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className={styles.rightPanel}>\r\n          {/* 통계 패널을 탭 형식으로 변경 */}\r\n          <div className={styles.statsTabs}>\r\n            <button\r\n              className={`${styles.statsTabButton} ${activeStatsTab === 'typing' ? styles.activeStatsTab : ''}`}\r\n              onClick={() => handleStatsTabChange('typing')}\r\n            >\r\n              타이핑 정보\r\n            </button>\r\n            <button\r\n              className={`${styles.statsTabButton} ${activeStatsTab === 'document' ? styles.activeStatsTab : ''}`}\r\n              onClick={() => handleStatsTabChange('document')}\r\n            >\r\n              문서 정보\r\n            </button>\r\n            <button\r\n              className={`${styles.statsTabButton} ${activeStatsTab === 'accuracy' ? styles.activeStatsTab : ''}`}\r\n              onClick={() => handleStatsTabChange('accuracy')}\r\n            >\r\n              정확도 & 속도\r\n            </button>\r\n          </div>\r\n          \r\n          <div className={styles.statsTabContent}>\r\n            {statsTabContent}\r\n          </div>\r\n          \r\n          <div className={styles.saveSection}>\r\n            <h3>세션 저장</h3>\r\n            <p>작업한 내용에 대한 설명을 입력하세요</p>\r\n            <textarea\r\n              className={styles.descriptionInput}\r\n              value={description}\r\n              onChange={handleDescriptionChange}\r\n              placeholder=\"작업 내용 (예: 보고서 작성, 논문 작성 등)\"\r\n              rows={4}\r\n            />\r\n            <button \r\n              className={styles.saveButton} \r\n              onClick={handleSave}\r\n              disabled={stats.keyCount === 0 || !description.trim()}\r\n            >\r\n              통계 저장\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});","'use client';\r\n\r\nimport React, { useEffect, useState, useCallback, useMemo, useRef } from 'react';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\nimport styles from './TypingChart.module.css';\r\n\r\n// Chart.js 컴포넌트 등록\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\ninterface LogType {\r\n  id: number;\r\n  content: string;\r\n  key_count: number;\r\n  typing_time: number;\r\n  timestamp: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface TypingChartProps {\r\n  logs: LogType[];\r\n}\r\n\r\n// 로그 데이터 필터링 함수 - 컴포넌트 외부로 이동\r\nconst filterLogsForChart = (logs: LogType[]) => {\r\n  // 최근 7일 데이터만 표시 (30일에서 7일로 단축)\r\n  const sevenDaysAgo = new Date();\r\n  sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\r\n  \r\n  return logs\r\n    .filter(log => new Date(log.timestamp) >= sevenDaysAgo)\r\n    .slice(0, 50); // 최대 50개 항목으로 제한 (100개에서 50개로 축소)\r\n};\r\n\r\nexport const TypingChart = React.memo(function TypingChart({ logs }: TypingChartProps) {\r\n  // 다크 모드 상태 추적\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  \r\n  // 차트 인스턴스 참조 저장\r\n  const chartRefs = useRef<any[]>([]);\r\n  \r\n  // 컴포넌트 마운트/언마운트 감지\r\n  const isMountedRef = useRef(true);\r\n  \r\n  // 다크 모드 감지 함수 개선\r\n  useEffect(() => {\r\n    const checkDarkMode = () => {\r\n      const isDark = document.documentElement.classList.contains('dark-mode') || \r\n                    document.body.classList.contains('dark-mode');\r\n      setIsDarkMode(isDark);\r\n    };\r\n    \r\n    // 초기 확인\r\n    checkDarkMode();\r\n    \r\n    // 커스텀 이벤트 리스너 추가\r\n    const handleDarkModeChange = (event: CustomEvent<{darkMode: boolean}>) => {\r\n      setIsDarkMode(event.detail.darkMode);\r\n    };\r\n    \r\n    window.addEventListener('darkmode-changed', handleDarkModeChange as EventListener);\r\n    \r\n    // DOM 변화 관찰\r\n    const observer = new MutationObserver(checkDarkMode);\r\n    observer.observe(document.documentElement, { \r\n      attributes: true, \r\n      attributeFilter: ['class'] \r\n    });\r\n    observer.observe(document.body, { \r\n      attributes: true, \r\n      attributeFilter: ['class'] \r\n    });\r\n    \r\n    // 컴포넌트 마운트 상태 설정\r\n    isMountedRef.current = true;\r\n    \r\n    return () => {\r\n      // 컴포넌트 언마운트 시 모든 리소스 해제\r\n      isMountedRef.current = false;\r\n      observer.disconnect();\r\n      window.removeEventListener('darkmode-changed', handleDarkModeChange as EventListener);\r\n      \r\n      // 차트 인스턴스 정리\r\n      chartRefs.current.forEach(chart => {\r\n        if (chart && chart.destroy) {\r\n          chart.destroy();\r\n        }\r\n      });\r\n      \r\n      // 메모리 정리 요청\r\n      if (window.gc) {\r\n        try {\r\n          window.gc();\r\n        } catch (e) {\r\n          console.log('GC 호출 실패');\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // 필터링된 로그 데이터 메모이제이션 (최소 데이터만 사용)\r\n  const filteredLogs = useMemo(() => {\r\n    try {\r\n      // 데이터 검증 추가\r\n      if (!Array.isArray(logs)) {\r\n        console.warn('유효하지 않은 로그 데이터:', logs);\r\n        return [];\r\n      }\r\n      return filterLogsForChart(logs);\r\n    } catch (error) {\r\n      console.error('로그 필터링 중 오류:', error);\r\n      return [];\r\n    }\r\n  }, [logs]);\r\n\r\n  // 차트 옵션 - 다크 모드에 따라 변경되는 옵션들\r\n  const getChartOptions = useCallback((title: string) => {\r\n    return {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      // 메모리 사용량 감소를 위한 설정 추가\r\n      animation: {\r\n        duration: 0 // 애니메이션 비활성화\r\n      },\r\n      // 데이터 포인트 수 제한\r\n      elements: {\r\n        point: {\r\n          radius: 2, // 더 작은 포인트 크기\r\n          hoverRadius: 4,\r\n        },\r\n        line: {\r\n          tension: 0, // 직선으로 연결 (곡선 없음)\r\n        }\r\n      },\r\n      // 렌더링 성능 개선\r\n      devicePixelRatio: 1,\r\n      plugins: {\r\n        legend: { \r\n          position: 'top' as const,\r\n          labels: {\r\n            color: isDarkMode ? '#E0E0E0' : '#333',\r\n            // 폰트 크기 축소\r\n            font: {\r\n              size: 11,\r\n            }\r\n          }\r\n        },\r\n        title: { \r\n          display: true, \r\n          text: title,\r\n          color: isDarkMode ? '#E0E0E0' : '#333',\r\n          // 수정: 'normal'을 리터럴로 변경\r\n          font: {\r\n            size: 12,\r\n            weight: 'normal' as const, // 타입 문제 해결\r\n          }\r\n        },\r\n        tooltip: {\r\n          enabled: true, // 필요한 경우에만 활성화\r\n          backgroundColor: isDarkMode ? 'rgba(30, 30, 30, 0.8)' : 'rgba(255, 255, 255, 0.8)',\r\n          titleColor: isDarkMode ? '#E0E0E0' : '#333',\r\n          bodyColor: isDarkMode ? '#B0B0B0' : '#666',\r\n          borderColor: isDarkMode ? '#303030' : '#ddd',\r\n          borderWidth: 1,\r\n          // 툴팁 콜백 간소화\r\n          callbacks: {\r\n            label: function(context: any) {\r\n              return context.raw;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      scales: {\r\n        x: {\r\n          ticks: { \r\n            color: isDarkMode ? '#B0B0B0' : '#666',\r\n            // 표시할 틱 수 제한\r\n            maxTicksLimit: 7,\r\n            font: {\r\n              size: 10,\r\n            }\r\n          },\r\n          grid: { \r\n            color: isDarkMode ? 'rgba(60, 60, 60, 0.3)' : 'rgba(0, 0, 0, 0.1)',\r\n            // 그리드 간소화\r\n            display: false\r\n          }\r\n        },\r\n        y: {\r\n          ticks: { \r\n            color: isDarkMode ? '#B0B0B0' : '#666',\r\n            font: {\r\n              size: 10,\r\n            }\r\n          },\r\n          grid: { \r\n            color: isDarkMode ? 'rgba(60, 60, 60, 0.3)' : 'rgba(0, 0, 0, 0.1)',\r\n            // 그리드 선 수 제한\r\n            tickLength: 5\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }, [isDarkMode]);\r\n\r\n  // 날짜별 통계 데이터 가공 - 메모이제이션\r\n  const chartData = useMemo(() => {\r\n    try {\r\n      // 데이터가 없으면 기본값 반환\r\n      if (!Array.isArray(filteredLogs) || filteredLogs.length === 0) {\r\n        return {\r\n          labels: [],\r\n          keyCountData: [],\r\n          timeData: [],\r\n          speedData: [],\r\n          wordData: [],\r\n          charData: []\r\n        };\r\n      }\r\n      \r\n      const dataMap = new Map();\r\n\r\n      // 데이터 검증 추가\r\n      for (let i = 0; i < filteredLogs.length; i++) {\r\n        const log = filteredLogs[i];\r\n        if (!log || typeof log !== 'object') continue;\r\n        \r\n        // timestamp가 없거나 유효하지 않은 경우 건너뛰기\r\n        if (!log.timestamp || !Date.parse(log.timestamp)) continue;\r\n        \r\n        const date = new Date(log.timestamp).toLocaleDateString();\r\n        \r\n        if (!dataMap.has(date)) {\r\n          dataMap.set(date, {\r\n            totalKeyCount: 0,\r\n            totalTime: 0,\r\n            totalChars: 0,\r\n            totalWords: 0,\r\n          });\r\n        }\r\n\r\n        const data = dataMap.get(date);\r\n        data.totalKeyCount += log.key_count || 0;\r\n        data.totalTime += log.typing_time || 0;\r\n        \r\n        // 콘텐츠 길이 기반 계산 (간소화)\r\n        const contentLength = log.content?.length || 0;\r\n        data.totalChars += contentLength;\r\n        data.totalWords += Math.ceil(contentLength / 5);\r\n      }\r\n\r\n      // 배열로 변환 (Object.entries 사용)\r\n      const sortedDates = Array.from(dataMap.keys()).sort((a, b) => \r\n        new Date(a).getTime() - new Date(b).getTime()\r\n      );\r\n      \r\n      return {\r\n        // 날짜 레이블 간략화 (월/일만 표시)\r\n        labels: sortedDates.map(date => {\r\n          const parts = date.split('/');\r\n          return parts.length >= 2 ? `${parts[0]}/${parts[1]}` : date;\r\n        }),\r\n        keyCountData: sortedDates.map(date => dataMap.get(date).totalKeyCount),\r\n        // 분 단위로 변환하고 정수로 반올림\r\n        timeData: sortedDates.map(date => Math.round(dataMap.get(date).totalTime / 60)),\r\n        // 속도 계산도 간소화\r\n        speedData: sortedDates.map(date => {\r\n          const d = dataMap.get(date);\r\n          return d.totalTime > 0 ? Math.round((d.totalKeyCount / d.totalTime) * 60) : 0;\r\n        }),\r\n        wordData: sortedDates.map(date => dataMap.get(date).totalWords),\r\n        charData: sortedDates.map(date => dataMap.get(date).totalChars),\r\n      };\r\n    } catch (error) {\r\n      console.error('차트 데이터 생성 중 오류:', error);\r\n      // 오류 발생 시 빈 데이터 반환\r\n      return {\r\n        labels: [],\r\n        keyCountData: [],\r\n        timeData: [],\r\n        speedData: [],\r\n        wordData: [],\r\n        charData: []\r\n      };\r\n    }\r\n  }, [filteredLogs]);\r\n\r\n  // 차트 데이터 생성 함수 - 메모리 사용 최적화\r\n  const createChartData = useCallback((\r\n    labels: string[], \r\n    data: number[], \r\n    label: string, \r\n    color: string, \r\n    bgColor: string\r\n  ) => {\r\n    return {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label,\r\n          data,\r\n          borderColor: color,\r\n          backgroundColor: bgColor,\r\n          // 불필요한 옵션 제거\r\n          pointBackgroundColor: color,\r\n          borderWidth: 1,\r\n          fill: false,\r\n        },\r\n      ],\r\n    };\r\n  }, []);\r\n\r\n  // 메모이제이션된 차트 데이터 (함수로 생성)\r\n  const speedChartData = useMemo(() => \r\n    createChartData(\r\n      chartData.labels,\r\n      chartData.speedData,\r\n      '평균 타이핑 속도 (타/분)',\r\n      isDarkMode ? 'rgb(3, 218, 198)' : 'rgb(75, 192, 192)',\r\n      isDarkMode ? 'rgba(3, 218, 198, 0.5)' : 'rgba(75, 192, 192, 0.5)'\r\n    ),\r\n  [chartData.labels, chartData.speedData, isDarkMode, createChartData]);\r\n\r\n  // 더 효율적인 렌더링을 위한 지연 로딩 상태\r\n  const [shouldRenderCharts, setShouldRenderCharts] = useState(false);\r\n\r\n  // 지연 로딩 설정\r\n  useEffect(() => {\r\n    if (!shouldRenderCharts && filteredLogs.length > 0) {\r\n      // 약간의 지연 후 차트 렌더링 시작\r\n      const timer = setTimeout(() => {\r\n        if (isMountedRef.current) {\r\n          setShouldRenderCharts(true);\r\n        }\r\n      }, 100);\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [filteredLogs.length, shouldRenderCharts]);\r\n\r\n  // 차트 참조 설정 콜백\r\n  const setChartRef = useCallback((instance: any) => {\r\n    if (instance) {\r\n      chartRefs.current.push(instance);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.chartContainer}>\r\n      <h2>타이핑 통계 차트</h2>\r\n      \r\n      {filteredLogs.length > 0 ? (\r\n        <div className={styles.charts}>\r\n          {/* 차트 렌더링에 지연 로딩 및 조건부 렌더링 적용 */}\r\n          {shouldRenderCharts && chartData.labels.length > 0 && (\r\n            <div className={styles.chartItem}>\r\n              <h3>일별 평균 타이핑 속도</h3>\r\n              <div className={styles.chartWrapper}>\r\n                <Line \r\n                  data={speedChartData} \r\n                  options={getChartOptions('일별 평균 속도 (타/분)')}\r\n                  redraw={false}\r\n                  ref={setChartRef}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* 다른 차트들은 사용자가 탭을 전환할 때만 렌더링하도록 지연 로딩 처리 */}\r\n          {shouldRenderCharts && (\r\n            <>\r\n              <div className={styles.chartItem}>\r\n                <h3>일별 총 타자 수</h3>\r\n                <div className={styles.chartWrapper}>\r\n                  <Bar \r\n                    data={{\r\n                      labels: chartData.labels,\r\n                      datasets: [{\r\n                        label: '총 타자 수',\r\n                        data: chartData.keyCountData,\r\n                        backgroundColor: isDarkMode ? 'rgba(30, 136, 229, 0.7)' : 'rgba(54, 162, 235, 0.5)',\r\n                      }]\r\n                    }}\r\n                    options={getChartOptions('일별 총 타자 수')}\r\n                    redraw={false}\r\n                    ref={setChartRef}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className={styles.chartItem}>\r\n                <h3>일별 총 타이핑 시간</h3>\r\n                <div className={styles.chartWrapper}>\r\n                  <Bar \r\n                    data={{\r\n                      labels: chartData.labels,\r\n                      datasets: [{\r\n                        label: '총 타이핑 시간 (분)',\r\n                        data: chartData.timeData,\r\n                        backgroundColor: isDarkMode ? 'rgba(207, 102, 121, 0.7)' : 'rgba(255, 99, 132, 0.5)',\r\n                      }]\r\n                    }}\r\n                    options={getChartOptions('일별 총 타이핑 시간 (분)')}\r\n                    redraw={false}\r\n                    ref={setChartRef}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <p className={styles.noData}>저장된 타이핑 데이터가 없습니다.</p>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n","'use client';\r\n\r\nimport React, { memo } from 'react';\r\nimport styles from '../page.module.css';\r\n\r\ninterface TabNavigationProps {\r\n  activeTab: string;\r\n  onTabChange: (tab: string) => void;\r\n  onDebugToggle: () => void;\r\n  debugMode: boolean;\r\n}\r\n\r\nexport const TabNavigation = memo(function TabNavigation({\r\n  activeTab,\r\n  onTabChange,\r\n  onDebugToggle,\r\n  debugMode\r\n}: TabNavigationProps) {\r\n  return (\r\n    <div className={styles.appTabs} style={{ pointerEvents: 'auto' }}>\r\n      <button \r\n        className={`${styles.tabButton} ${activeTab === 'monitor' ? styles.activeTab : ''}`}\r\n        onClick={() => onTabChange('monitor')}\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        모니터링\r\n      </button>\r\n      \r\n      <button \r\n        className={`${styles.tabButton} ${activeTab === 'history' ? styles.activeTab : ''}`}\r\n        onClick={() => onTabChange('history')}\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        히스토리\r\n      </button>\r\n      \r\n      <button \r\n        className={`${styles.tabButton} ${activeTab === 'stats' ? styles.activeTab : ''}`}\r\n        onClick={() => onTabChange('stats')}\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        통계\r\n      </button>\r\n      \r\n      <button \r\n        className={`${styles.tabButton} ${activeTab === 'chart' ? styles.activeTab : ''}`}\r\n        onClick={() => onTabChange('chart')}\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        차트\r\n      </button>\r\n      \r\n      <button \r\n        className={`${styles.tabButton} ${activeTab === 'settings' ? styles.activeTab : ''}`}\r\n        onClick={() => onTabChange('settings')}\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        설정\r\n      </button>\r\n      \r\n      {/* 디버그 모드 토글 버튼 */}\r\n      <button \r\n        className={`${styles.tabButton} ${styles.debugButton} ${debugMode ? styles.debugActive : ''}`}\r\n        onClick={onDebugToggle}\r\n        title=\"디버그 모드 토글\"\r\n        style={{ pointerEvents: 'auto' }}\r\n      >\r\n        🐞\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default TabNavigation;\r\n","'use client';\r\n\r\nimport React from 'react';\r\n\r\n// ClientSideControlsProps 정의\r\ninterface ClientSideControlsProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function ClientSideControls({\r\n  children\r\n}: ClientSideControlsProps) {\r\n  return (\r\n    <div className=\"client-controls-wrapper\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport React, { createContext, useState, useContext, ReactNode, useEffect, useCallback, useRef } from 'react';\r\n\r\n// 테마 컨텍스트 정의\r\ninterface ThemeContextType {\r\n  theme: 'light' | 'dark';\r\n  toggleTheme: () => void;\r\n  setDarkMode: (enabled: boolean) => void;\r\n  isDarkMode: boolean;\r\n}\r\n\r\n// 앱 설정 인터페이스\r\ninterface AppSettings {\r\n  darkMode?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType>({\r\n  theme: 'light',\r\n  toggleTheme: () => {},\r\n  setDarkMode: () => {},\r\n  isDarkMode: false,\r\n});\r\n\r\n// useTheme 훅 생성\r\nexport const useTheme = () => useContext(ThemeContext);\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\n// 로컬 스토리지 안전하게 처리하는 함수\r\nconst safeLocalStorage = {\r\n  getItem: (key: string): string | null => {\r\n    try {\r\n      return localStorage.getItem(key);\r\n    } catch (e) {\r\n      console.error('로컬 스토리지 접근 오류:', e);\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  setItem: (key: string, value: string): boolean => {\r\n    try {\r\n      localStorage.setItem(key, value);\r\n      return true;\r\n    } catch (e) {\r\n      console.error('로컬 스토리지 저장 오류:', e);\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\n// 앱 설정 가져오기\r\nconst getAppSettings = (): AppSettings => {\r\n  const savedSettings = safeLocalStorage.getItem('app-settings');\r\n  if (!savedSettings) return {};\r\n  \r\n  try {\r\n    return JSON.parse(savedSettings);\r\n  } catch (e) {\r\n    console.error('설정 파싱 오류:', e);\r\n    return {};\r\n  }\r\n};\r\n\r\n// 앱 설정 저장하기\r\nconst saveAppSettings = (settings: AppSettings): boolean => {\r\n  try {\r\n    const currentSettings = getAppSettings();\r\n    const newSettings = { ...currentSettings, ...settings };\r\n    return safeLocalStorage.setItem('app-settings', JSON.stringify(newSettings));\r\n  } catch (e) {\r\n    console.error('설정 저장 오류:', e);\r\n    return false;\r\n  }\r\n};\r\n\r\n// CSS 변수 설정 함수\r\nconst applyCSSVariables = (isDarkMode: boolean) => {\r\n  const root = document.documentElement;\r\n  \r\n  if (isDarkMode) {\r\n    root.style.setProperty('--card-bg', '#222222');\r\n    root.style.setProperty('--text-color', 'rgba(255, 255, 255, 0.87)');\r\n    root.style.setProperty('--border-color', 'rgba(255, 255, 255, 0.12)');\r\n    root.style.setProperty('--button-hover-bg', 'rgba(255, 255, 255, 0.08)');\r\n    root.style.setProperty('--primary-color', '#90caf9');\r\n  } else {\r\n    root.style.setProperty('--card-bg', '#ffffff');\r\n    root.style.setProperty('--text-color', 'rgba(0, 0, 0, 0.87)');\r\n    root.style.setProperty('--border-color', 'rgba(0, 0, 0, 0.12)');\r\n    root.style.setProperty('--button-hover-bg', 'rgba(0, 0, 0, 0.05)');\r\n    root.style.setProperty('--primary-color', '#1976d2');\r\n  }\r\n};\r\n\r\nexport function ThemeProvider({ children }: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\r\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(false);\r\n  const [isInitialized, setIsInitialized] = useState<boolean>(false);\r\n  const themeChangeRef = useRef<boolean>(false);\r\n  \r\n  // 다크 모드 CSS 적용 함수\r\n  const applyDarkModeCSS = useCallback((enabled: boolean) => {\r\n    if (enabled) {\r\n      document.documentElement.classList.add('dark-mode');\r\n      document.body.classList.add('dark-mode');\r\n    } else {\r\n      document.documentElement.classList.remove('dark-mode');\r\n      document.body.classList.remove('dark-mode');\r\n    }\r\n    \r\n    // CSS 변수 적용\r\n    applyCSSVariables(enabled);\r\n  }, []);\r\n  \r\n  // 다크 모드 설정 함수\r\n  const setDarkMode = useCallback((enabled: boolean) => {\r\n    // 중복 호출 방지\r\n    if (themeChangeRef.current) return;\r\n    themeChangeRef.current = true;\r\n    \r\n    setTheme(enabled ? 'dark' : 'light');\r\n    setIsDarkMode(enabled);\r\n    \r\n    // HTML 태그에 dark-mode 클래스 적용\r\n    applyDarkModeCSS(enabled);\r\n    \r\n    // 로컬 스토리지에 설정 저장\r\n    saveAppSettings({ darkMode: enabled });\r\n    \r\n    // Electron API가 있으면 설정 저장\r\n    if (window.electronAPI && window.electronAPI.setDarkMode) {\r\n      window.electronAPI.setDarkMode(enabled)\r\n        .catch((error: any) => {\r\n          console.error('Electron API로 다크 모드 설정 중 오류:', error);\r\n        });\r\n    }\r\n    \r\n    // 500ms 후에 플래그 리셋 (디바운싱)\r\n    setTimeout(() => {\r\n      themeChangeRef.current = false;\r\n    }, 500);\r\n  }, [applyDarkModeCSS]);\r\n  \r\n  // 테마 토글 함수\r\n  const toggleTheme = useCallback(() => {\r\n    if (!themeChangeRef.current) {\r\n      setDarkMode(!isDarkMode);\r\n    }\r\n  }, [isDarkMode, setDarkMode]);\r\n  \r\n  // 페이지 로드 시 초기 설정 적용\r\n  useEffect(() => {\r\n    // 이미 초기화되었으면 스킵\r\n    if (isInitialized) return;\r\n    \r\n    try {\r\n      // 다크 모드 설정 우선순위:\r\n      // 1. 로컬 스토리지 설정 (빠른 초기 렌더링 위해)\r\n      // 2. Electron API 설정 (이후 비동기 로드)\r\n      // 3. 시스템 다크 모드 설정 (기본값)\r\n      \r\n      // 로컬 스토리지 즉시 확인\r\n      const settings = getAppSettings();\r\n      const hasSavedSettings = settings.darkMode !== undefined;\r\n      \r\n      // 초기 테마 설정 (로컬 스토리지 기반)\r\n      if (hasSavedSettings) {\r\n        const savedMode = settings.darkMode === true;\r\n        applyDarkModeCSS(savedMode);\r\n        setTheme(savedMode ? 'dark' : 'light');\r\n        setIsDarkMode(savedMode);\r\n      } else {\r\n        // 시스템 설정 확인\r\n        const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n        const systemDarkMode = darkModeMediaQuery.matches;\r\n        applyDarkModeCSS(systemDarkMode);\r\n        setTheme(systemDarkMode ? 'dark' : 'light');\r\n        setIsDarkMode(systemDarkMode);\r\n      }\r\n      \r\n      // Electron API 확인 (비동기)\r\n      const loadElectronSettings = async () => {\r\n        if (window.electronAPI && window.electronAPI.getDarkMode) {\r\n          try {\r\n            const darkModeEnabled = await window.electronAPI.getDarkMode();\r\n            // 로컬 스토리지와 동기화 (중복 호출 방지)\r\n            if (!themeChangeRef.current && (!hasSavedSettings || settings.darkMode !== darkModeEnabled)) {\r\n              themeChangeRef.current = true;\r\n              setDarkMode(darkModeEnabled);\r\n              setTimeout(() => {\r\n                themeChangeRef.current = false;\r\n              }, 500);\r\n            }\r\n          } catch (error) {\r\n            console.error('Electron API에서 다크 모드 설정을 가져오는 중 오류:', error);\r\n          }\r\n        }\r\n        \r\n        // 초기화 완료 표시\r\n        setIsInitialized(true);\r\n      };\r\n      \r\n      loadElectronSettings();\r\n      \r\n      // 시스템 다크 모드 변경 감지\r\n      const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n      \r\n      const handleColorSchemeChange = (e: MediaQueryListEvent) => {\r\n        // 로컬 설정이 없는 경우에만 시스템 설정 따름\r\n        try {\r\n          const settings = getAppSettings();\r\n          if (settings.darkMode === undefined && !themeChangeRef.current) {\r\n            setDarkMode(e.matches);\r\n          }\r\n        } catch (error) {\r\n          console.error('시스템 테마 변경 처리 오류:', error);\r\n        }\r\n      };\r\n      \r\n      darkModeMediaQuery.addEventListener('change', handleColorSchemeChange);\r\n      \r\n      return () => {\r\n        darkModeMediaQuery.removeEventListener('change', handleColorSchemeChange);\r\n      };\r\n    } catch (error) {\r\n      console.error('테마 초기화 중 오류:', error);\r\n      // 오류 발생 시 기본값 설정\r\n      setIsInitialized(true);\r\n    }\r\n  }, [applyDarkModeCSS, setDarkMode, isInitialized]);\r\n\r\n  // 새로고침 시 테마 복원 이벤트 핸들러 (세션 스토리지 방식 대신 더 안정적인 방식 사용)\r\n  useEffect(() => {\r\n    // 페이지 언로드 전 상태 저장은 유지\r\n    const handleBeforeUnload = () => {\r\n      try {\r\n        localStorage.setItem('theme-last-state', isDarkMode ? 'dark' : 'light');\r\n      } catch (e) {\r\n        console.error('localStorage 접근 오류:', e);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    \r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, [isDarkMode]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme, setDarkMode, isDarkMode }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}","'use client';\r\n\r\nimport React from 'react';\r\nimport ClientSideControls from './ClientSideControls';\r\nimport { ToastProvider } from './ToastContext';\r\nimport { ThemeProvider } from './ThemeProvider';\r\n\r\ninterface MainLayoutProps {\r\n  children: React.ReactNode;\r\n  darkMode?: boolean;\r\n  windowMode?: 'windowed' | 'fullscreen' | 'fullscreen-auto-hide';\r\n  electronAPI?: any;\r\n  isHeaderVisible?: boolean;\r\n}\r\n\r\nexport function MainLayout({ \r\n  children, \r\n  darkMode = false, \r\n  windowMode = 'windowed', \r\n  electronAPI = null\r\n}: MainLayoutProps) {\r\n  const api = electronAPI || window.electronAPI || {};\r\n  \r\n  return (\r\n    <ThemeProvider>\r\n      <ToastProvider>\r\n        <div className=\"app-layout\">          \r\n          <main className=\"content-area\" style={{ \r\n            height: '100vh',\r\n            overflow: 'auto',\r\n            padding: '16px'\r\n          }}>\r\n            <ClientSideControls>\r\n              {children}\r\n            </ClientSideControls>\r\n          </main>\r\n        </div>\r\n      </ToastProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default MainLayout;\r\n","import React, { memo } from 'react';\r\nimport styles from '../page.module.css';\r\n\r\ninterface DebugPanelProps {\r\n  isVisible: boolean;\r\n  stats: {\r\n    keyCount: number;\r\n    windowTitle: string;\r\n    browserName: string;\r\n  };\r\n  logsCount: number;\r\n  isTracking: boolean;\r\n  windowMode: string;\r\n}\r\n\r\nexport const DebugPanel = memo(function DebugPanel({\r\n  isVisible,\r\n  stats,\r\n  logsCount,\r\n  isTracking,\r\n  windowMode\r\n}: DebugPanelProps) {\r\n  if (!isVisible) return null;\r\n  \r\n  return (\r\n    <div className={styles.debugPanelBottom}>\r\n      <h3>디버그 정보</h3>\r\n      <div className={styles.debugInfo}>\r\n        <div><strong>isTracking:</strong> {isTracking ? 'true' : 'false'}</div>\r\n        <div><strong>Logs:</strong> {logsCount}개</div>\r\n        <div><strong>Current keyCount:</strong> {stats.keyCount}</div>\r\n        <div><strong>Browser:</strong> {stats.browserName || 'N/A'}</div>\r\n        <div><strong>Window:</strong> {stats.windowTitle || 'N/A'}</div>\r\n        <div><strong>Window Mode:</strong> {windowMode}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default DebugPanel;\r\n","'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\nimport styles from './ConfirmDialog.module.css';\r\n\r\ninterface ConfirmDialogProps {\r\n  title: string;\r\n  message: string;\r\n  isOpen: boolean;\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  type?: 'info' | 'warning' | 'error' | 'success';\r\n  isDarkMode?: boolean;\r\n}\r\n\r\nexport const ConfirmDialog: React.FC<ConfirmDialogProps> = ({\r\n  title,\r\n  message,\r\n  isOpen,\r\n  onConfirm,\r\n  onCancel,\r\n  confirmText = '확인',\r\n  cancelText = '취소',\r\n  type = 'info',\r\n  isDarkMode = false\r\n}) => {\r\n  // ESC 키 누를 때 닫기\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onCancel();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [isOpen, onCancel]);\r\n  \r\n  // Enter 키로 확인 처리\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Enter' && isOpen) {\r\n        onConfirm();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [isOpen, onConfirm]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${isDarkMode ? styles.darkMode : ''}`}>\r\n      <div className={styles.dialog}>\r\n        <div className={`${styles.header} ${styles[type]}`}>\r\n          <h2>{title}</h2>\r\n          <button \r\n            className={styles.closeButton} \r\n            onClick={onCancel}\r\n            aria-label=\"닫기\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n        <div className={styles.content}>\r\n          <p className={styles.message}>{message}</p>\r\n        </div>\r\n        <div className={styles.actions}>\r\n          <button\r\n            className={`${styles.button} ${styles.cancelButton}`}\r\n            onClick={onCancel}\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            className={`${styles.button} ${styles.confirmButton} ${styles[type + 'Button']}`}\r\n            onClick={onConfirm}\r\n            autoFocus\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport ConfirmDialog from './ConfirmDialog';\r\n\r\ninterface SaveConfirmDialogProps {\r\n  isOpen: boolean;\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n  settingsType?: string;\r\n  isDarkMode?: boolean;\r\n}\r\n\r\n/**\r\n * 설정 저장 확인 대화상자\r\n */\r\nconst SaveConfirmDialog: React.FC<SaveConfirmDialogProps> = ({\r\n  isOpen,\r\n  onConfirm,\r\n  onCancel,\r\n  settingsType = '설정',\r\n  isDarkMode = false\r\n}) => {\r\n  const title = `${settingsType} 저장`;\r\n  const message = `변경된 ${settingsType}을(를) 저장하시겠습니까?`;\r\n\r\n  return (\r\n    <ConfirmDialog\r\n      title={title}\r\n      message={message}\r\n      isOpen={isOpen}\r\n      onConfirm={onConfirm}\r\n      onCancel={onCancel}\r\n      confirmText=\"저장\"\r\n      cancelText=\"취소\"\r\n      type=\"info\"\r\n      isDarkMode={isDarkMode}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SaveConfirmDialog;\r\n","import { useState, useEffect, useCallback, useRef } from 'react';\r\nimport styles from './Settings.module.css';\r\nimport { useToast } from './ToastContext';\r\nimport { useTheme } from './ThemeProvider';\r\nimport SaveConfirmDialog from './dialogs/SaveConfirmDialog';\r\n\r\ninterface EnabledCategories {\r\n  docs: boolean;\r\n  office: boolean;\r\n  coding: boolean;\r\n  sns: boolean;\r\n}\r\n\r\ntype WindowModeType = 'windowed' | 'fullscreen' | 'fullscreen-auto-hide';\r\n\r\nexport interface SettingsState {\r\n  enabledCategories: EnabledCategories;\r\n  autoStartMonitoring: boolean;\r\n  darkMode: boolean;\r\n  windowMode: WindowModeType;\r\n  minimizeToTray: boolean;\r\n  showTrayNotifications: boolean;\r\n  reduceMemoryInBackground: boolean;\r\n  enableMiniView: boolean;\r\n  useHardwareAcceleration: boolean;\r\n  useTypingAnalysisGpuAcceleration: boolean;\r\n  processingMode: 'auto' | 'normal' | 'cpu-intensive' | 'gpu-intensive';\r\n  maxMemoryThreshold: number;\r\n  resumeAfterIdle: boolean;\r\n  showKeyCountInHeader: boolean;\r\n  showRealtimeWPM: boolean;\r\n  enableSoundEffects: boolean;\r\n  enableAnimations: boolean;\r\n  useCompactUI: boolean;\r\n}\r\n\r\ninterface SettingsProps {\r\n  onSave: (settings: SettingsState) => void;\r\n  initialSettings: SettingsState;\r\n  darkMode: boolean;\r\n  onDarkModeChange: (enabled: boolean) => void;\r\n  onWindowModeChange: (mode: WindowModeType) => void;\r\n}\r\n\r\nconst InfoTooltip = ({ text }: { text: string }) => {\r\n  const [showTooltip, setShowTooltip] = useState(false);\r\n  const tooltipRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handleMouseEnter = () => {\r\n    setShowTooltip(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setShowTooltip(false);\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={styles.infoIcon}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      i\r\n      {showTooltip && (\r\n        <div className={`${styles.tooltip} ${styles.show}`} ref={tooltipRef}>\r\n          <div className={styles.tooltipArrow}></div>\r\n          {text}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport function Settings({ \r\n  onSave, \r\n  initialSettings, \r\n  darkMode, \r\n  onDarkModeChange, \r\n  onWindowModeChange \r\n}: SettingsProps) {\r\n  const { isDarkMode, setDarkMode } = useTheme();\r\n  const [settings, setSettings] = useState<SettingsState>({\r\n    enabledCategories: {\r\n      docs: true,\r\n      office: true,\r\n      coding: true,\r\n      sns: true\r\n    },\r\n    autoStartMonitoring: true,\r\n    darkMode: isDarkMode,\r\n    windowMode: 'windowed',\r\n    minimizeToTray: true,\r\n    showTrayNotifications: true,\r\n    reduceMemoryInBackground: true,\r\n    enableMiniView: true,\r\n    useHardwareAcceleration: initialSettings?.useHardwareAcceleration ?? false,\r\n    useTypingAnalysisGpuAcceleration: initialSettings?.useTypingAnalysisGpuAcceleration ?? false,\r\n    processingMode: initialSettings?.processingMode ?? 'auto',\r\n    maxMemoryThreshold: initialSettings?.maxMemoryThreshold ?? 100,\r\n    resumeAfterIdle: initialSettings?.resumeAfterIdle ?? true,\r\n    showKeyCountInHeader: initialSettings?.showKeyCountInHeader ?? true,\r\n    showRealtimeWPM: initialSettings?.showRealtimeWPM ?? true,\r\n    enableSoundEffects: initialSettings?.enableSoundEffects ?? false,\r\n    enableAnimations: initialSettings?.enableAnimations ?? true,\r\n    useCompactUI: initialSettings?.useCompactUI ?? false,\r\n  });\r\n  const [needsRestart, setNeedsRestart] = useState(false);\r\n  const [showSaveConfirm, setShowSaveConfirm] = useState(false);\r\n  const { showToast } = useToast();\r\n  const [activeTab, setActiveTab] = useState<'general' | 'advanced' | 'display'>('general');\r\n  const [apiDebugInfo, setApiDebugInfo] = useState<string>('');\r\n  const [showDebugInfo, setShowDebugInfo] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (initialSettings) {\r\n      setSettings(prevSettings => ({\r\n        ...prevSettings,\r\n        ...initialSettings,\r\n        darkMode: isDarkMode,\r\n        showKeyCountInHeader: initialSettings.showKeyCountInHeader ?? prevSettings.showKeyCountInHeader,\r\n        showRealtimeWPM: initialSettings.showRealtimeWPM ?? prevSettings.showRealtimeWPM,\r\n        enableSoundEffects: initialSettings.enableSoundEffects ?? prevSettings.enableSoundEffects,\r\n        enableAnimations: initialSettings.enableAnimations ?? prevSettings.enableAnimations,\r\n        useCompactUI: initialSettings.useCompactUI ?? prevSettings.useCompactUI,\r\n      }));\r\n    }\r\n  }, [initialSettings, isDarkMode]);\r\n\r\n  useEffect(() => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      darkMode: isDarkMode\r\n    }));\r\n  }, [isDarkMode]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const isBodyDarkMode = isDarkMode;\r\n      if (isBodyDarkMode) {\r\n        document.documentElement.classList.add('dark-mode');\r\n        document.body.classList.add('dark-mode');\r\n        \r\n        if (settings.useCompactUI) {\r\n          document.documentElement.classList.add('compact-ui');\r\n          document.body.classList.add('compact-ui');\r\n        } else {\r\n          document.documentElement.classList.remove('compact-ui');\r\n          document.body.classList.remove('compact-ui');\r\n        }\r\n      } else {\r\n        document.documentElement.classList.remove('dark-mode');\r\n        document.body.classList.remove('dark-mode');\r\n        \r\n        if (settings.useCompactUI) {\r\n          document.documentElement.classList.add('compact-ui');\r\n          document.body.classList.add('compact-ui');\r\n        } else {\r\n          document.documentElement.classList.remove('compact-ui');\r\n          document.body.classList.remove('compact-ui');\r\n        }\r\n      }\r\n    }\r\n  }, [isDarkMode, settings.useCompactUI]);\r\n\r\n  useEffect(() => {\r\n    if (settings.enableSoundEffects) {\r\n      document.documentElement.classList.add('sound-effects');\r\n    } else {\r\n      document.documentElement.classList.remove('sound-effects');\r\n    }\r\n    \r\n    if (settings.enableAnimations) {\r\n      document.documentElement.classList.add('enable-animations');\r\n    } else {\r\n      document.documentElement.classList.remove('enable-animations');\r\n    }\r\n  }, [settings.enableSoundEffects, settings.enableAnimations]);\r\n\r\n  const handleCategoryToggle = (category: keyof typeof settings.enabledCategories) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      enabledCategories: {\r\n        ...prev.enabledCategories,\r\n        [category]: !prev.enabledCategories[category]\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleAutoStartToggle = () => {\r\n    setSettings(prev => ({\r\n      ...prev, \r\n      autoStartMonitoring: !prev.autoStartMonitoring\r\n    }));\r\n  };\r\n\r\n  const handleDarkModeToggle = () => {\r\n    const newValue = !settings.darkMode;\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      darkMode: newValue\r\n    }));\r\n    \r\n    if (onDarkModeChange) {\r\n      onDarkModeChange(newValue);\r\n    }\r\n    \r\n    setDarkMode(newValue);\r\n  };\r\n\r\n  const handleWindowModeChange = (mode: WindowModeType) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      windowMode: mode\r\n    }));\r\n    \r\n    // Electron API를 사용하여 창 모드 변경\r\n    if (window.electronAPI && window.electronAPI.setWindowMode) {\r\n      try {\r\n        window.electronAPI.setWindowMode(mode)\r\n          .catch((error: any) => {\r\n            console.error('창 모드 변경 중 오류:', error);\r\n            showToast('창 모드 변경 중 오류가 발생했습니다.', 'error');\r\n          });\r\n      } catch (error) {\r\n        console.error('창 모드 변경 함수 호출 중 오류:', error);\r\n        showToast('창 모드 변경 기능을 사용할 수 없습니다.', 'error');\r\n      }\r\n    }\r\n    \r\n    if (onWindowModeChange) {\r\n      onWindowModeChange(mode);\r\n    }\r\n  };\r\n\r\n  const handleMinimizeToTrayToggle = () => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      minimizeToTray: !prev.minimizeToTray\r\n    }));\r\n  };\r\n  \r\n  const handleShowTrayNotificationsToggle = () => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      showTrayNotifications: !prev.showTrayNotifications\r\n    }));\r\n  };\r\n  \r\n  const handleReduceMemoryToggle = () => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      reduceMemoryInBackground: !prev.reduceMemoryInBackground\r\n    }));\r\n  };\r\n\r\n  const handleMiniViewToggle = () => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      enableMiniView: !prev.enableMiniView\r\n    }));\r\n  };\r\n\r\n  const handleSettingChange = (key: keyof SettingsState, value: any) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const handleToggleSetting = (key: keyof SettingsState) => {\r\n    setSettings(prev => {\r\n      const newValue = !prev[key];\r\n      \r\n      if (key === 'useCompactUI') {\r\n        if (newValue) {\r\n          document.documentElement.classList.add('compact-ui');\r\n          document.body.classList.add('compact-ui');\r\n        } else {\r\n          document.documentElement.classList.remove('compact-ui');\r\n          document.body.classList.remove('compact-ui');\r\n        }\r\n      }\r\n      \r\n      if (key === 'enableSoundEffects') {\r\n        if (newValue) {\r\n          document.documentElement.classList.add('sound-effects');\r\n        } else {\r\n          document.documentElement.classList.remove('sound-effects');\r\n        }\r\n      }\r\n      \r\n      if (key === 'enableAnimations') {\r\n        if (newValue) {\r\n          document.documentElement.classList.add('enable-animations');\r\n        } else {\r\n          document.documentElement.classList.remove('enable-animations');\r\n        }\r\n      }\r\n      \r\n      return {\r\n        ...prev,\r\n        [key]: newValue\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleHardwareAccelerationToggle = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = e.target.checked;\r\n    if (newValue !== initialSettings?.useHardwareAcceleration) {\r\n      setNeedsRestart(true);\r\n    }\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      useHardwareAcceleration: newValue\r\n    }));\r\n  };\r\n\r\n  const handleTypingAnalysisGpuToggle = () => {\r\n    const newValue = !settings.useTypingAnalysisGpuAcceleration;\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      useTypingAnalysisGpuAcceleration: newValue\r\n    }));\r\n    console.log('타이핑 분석 GPU 가속 설정 변경:', newValue);\r\n  };\r\n  \r\n  const handleSaveSettings = () => {\r\n    const hasChanges = JSON.stringify(settings) !== JSON.stringify(initialSettings);\r\n    if (hasChanges) {\r\n      console.log('저장할 설정:', settings);\r\n      setShowSaveConfirm(true);\r\n    } else {\r\n      showToast('변경된 설정이 없습니다.', 'info');\r\n    }\r\n  };\r\n  \r\n  const confirmSaveSettings = () => {\r\n    setShowSaveConfirm(false);\r\n    \r\n    const hasSettingChanges = \r\n      JSON.stringify({...settings, darkMode: isDarkMode}) !== \r\n      JSON.stringify({...initialSettings, darkMode: isDarkMode});\r\n    \r\n    if (hasSettingChanges) {\r\n      if (settings.darkMode !== isDarkMode) {\r\n        setDarkMode(settings.darkMode);\r\n        \r\n        const root = document.documentElement;\r\n        if (settings.darkMode) {\r\n          root.style.setProperty('--card-bg', '#222222');\r\n          root.style.setProperty('--text-color', 'rgba(255, 255, 255, 0.87)');\r\n          root.style.setProperty('--border-color', 'rgba(255, 255, 255, 0.12)');\r\n          root.style.setProperty('--button-hover-bg', 'rgba(255, 255, 255, 0.08)');\r\n          root.style.setProperty('--primary-color', '#90caf9');\r\n        } else {\r\n          root.style.setProperty('--card-bg', '#ffffff');\r\n          root.style.setProperty('--text-color', 'rgba(0, 0, 0, 0.87)');\r\n          root.style.setProperty('--border-color', 'rgba(0, 0, 0, 0.12)');\r\n          root.style.setProperty('--button-hover-bg', 'rgba(0, 0, 0, 0.05)');\r\n          root.style.setProperty('--primary-color', '#1976d2');\r\n        }\r\n      }\r\n      \r\n      onSave({...settings, darkMode: settings.darkMode});\r\n      \r\n      if (settings.darkMode) {\r\n        document.documentElement.classList.add('dark-mode');\r\n        document.body.classList.add('dark-mode');\r\n      } else {\r\n        document.documentElement.classList.remove('dark-mode');\r\n        document.body.classList.remove('dark-mode');\r\n      }\r\n      \r\n      if (needsRestart) {\r\n        showToast('GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작하세요.', 'info');\r\n        if (window.electronAPI) {\r\n          if (typeof window.electronAPI.showRestartPrompt === 'function') {\r\n            window.electronAPI.showRestartPrompt();\r\n          } else {\r\n            if (window.confirm('GPU 가속 설정이 변경되었습니다. 지금 앱을 재시작하시겠습니까?')) {\r\n              if (typeof window.electronAPI.restartApp === 'function') {\r\n                window.electronAPI.restartApp();\r\n              } else {\r\n                console.error('restartApp 함수를 찾을 수 없습니다.');\r\n                showToast('앱을 수동으로 재시작해 주세요.', 'warning');\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        showToast('설정이 저장되었습니다.', 'success');\r\n      }\r\n    } else {\r\n      showToast('변경된 설정이 없습니다.', 'info');\r\n    }\r\n  };\r\n  \r\n  const cancelSaveSettings = () => {\r\n    setShowSaveConfirm(false);\r\n  };\r\n\r\n  const handleRestartClick = useCallback(() => {\r\n    try {\r\n      if (!window.electronAPI) {\r\n        showToast('Electron API를 찾을 수 없습니다. preload 스크립트가 올바르게 로드되었는지 확인하세요.', 'error');\r\n        return;\r\n      }\r\n      const apiInfo = Object.keys(window.electronAPI)\r\n        .map(key => `${key}: ${typeof (window.electronAPI as any)[key]}`)\r\n        .join('\\n');\r\n      console.log('사용 가능한 API 목록:', apiInfo);\r\n      setApiDebugInfo(apiInfo);\r\n      if (typeof window.electronAPI.restartApp === 'function') {\r\n        window.electronAPI.restartApp();\r\n        return;\r\n      } \r\n      if (typeof window.electronAPI.showRestartPrompt === 'function') {\r\n        window.electronAPI.showRestartPrompt();\r\n        return;\r\n      }\r\n      if (window.electron && typeof window.electron.restartApp === 'function') {\r\n        window.electron.restartApp();\r\n        return;\r\n      }\r\n      showToast('재시작 기능을 사용할 수 없습니다. 앱을 수동으로 재시작하세요.', 'warning');\r\n      setShowDebugInfo(true);\r\n    } catch (error) {\r\n      console.error('앱 재시작 시도 중 오류:', error);\r\n      showToast(`재시작 중 오류: ${(error as Error).message}`, 'error');\r\n      setApiDebugInfo(String(error));\r\n      setShowDebugInfo(true);\r\n    }\r\n  }, [showToast]);\r\n\r\n  const toggleDebugInfo = () => {\r\n    if (window.electronAPI) {\r\n      const apiInfo = Object.keys(window.electronAPI)\r\n        .map(key => {\r\n          const type = typeof (window.electronAPI as any)[key];\r\n          return `${key}: ${type}`;\r\n        })\r\n        .join('\\n');\r\n      setApiDebugInfo(apiInfo);\r\n    } else {\r\n      setApiDebugInfo('electronAPI가 정의되지 않았습니다');\r\n    }\r\n    setShowDebugInfo(!showDebugInfo);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.settingsContainer} ${isDarkMode ? styles.darkMode : ''} ${settings.useCompactUI ? styles.compactUI : ''}`}>\r\n      <h2>설정</h2>\r\n\r\n      <div className={styles.settingsLayout}>\r\n        <div className={styles.settingsTabs}>\r\n          <button \r\n            className={`${styles.tabButton} ${activeTab === 'general' ? styles.activeTab : ''}`}\r\n            onClick={() => setActiveTab('general')}\r\n          >\r\n            일반\r\n          </button>\r\n          <button \r\n            className={`${styles.tabButton} ${activeTab === 'display' ? styles.activeTab : ''}`}\r\n            onClick={() => setActiveTab('display')}\r\n          >\r\n            표시\r\n          </button>\r\n          <button \r\n            className={`${styles.tabButton} ${activeTab === 'advanced' ? styles.activeTab : ''}`}\r\n            onClick={() => setActiveTab('advanced')}\r\n          >\r\n            고급\r\n          </button>\r\n        </div>\r\n        \r\n        <div className={styles.settingsContent}>\r\n          {activeTab === 'general' && (\r\n            <div className={styles.tabContent}>\r\n              <div className={`${styles.settingSection} ${styles.highlightedSetting}`}>\r\n                <h3>모니터링 자동 시작</h3>\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.autoStartMonitoring} \r\n                        onChange={handleAutoStartToggle}\r\n                      />\r\n                      <span className={styles.toggleLabel}>앱 시작 시 자동으로 모니터링 시작</span>\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.resumeAfterIdle || false} \r\n                        onChange={(e) => handleSettingChange('resumeAfterIdle', e.target.checked)}\r\n                      />\r\n                      <span className={styles.toggleLabel}>일정 시간 사용하지 않다가 돌아왔을 때 자동 재시작</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className={styles.settingDescription}>\r\n                  자동 모니터링 설정을 통해 앱 시작 시 또는 일정 시간 사용하지 않다가 돌아왔을 때 \r\n                  자동으로 타이핑 모니터링을 시작할 수 있습니다.\r\n                </div>\r\n              </div>\r\n              \r\n              <div className={styles.settingSection}>\r\n                <h3>일반 설정</h3>\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.darkMode} \r\n                        onChange={handleDarkModeToggle}\r\n                      />\r\n                      <span className={styles.toggleLabel}>다크 모드</span>\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.enableSoundEffects} \r\n                        onChange={() => handleToggleSetting('enableSoundEffects')}\r\n                      />\r\n                      <span className={styles.toggleLabel}>소리 효과 활성화</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.enableAnimations} \r\n                        onChange={() => handleToggleSetting('enableAnimations')}\r\n                      />\r\n                      <span className={styles.toggleLabel}>애니메이션 효과 활성화</span>\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.useCompactUI} \r\n                        onChange={() => handleToggleSetting('useCompactUI')}\r\n                      />\r\n                      <span className={styles.toggleLabel}>압축 UI 사용 (작은 버튼 및 요소)</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.settingSection}>\r\n                <h3>화면 모드</h3>\r\n                <div className={styles.radioGroup}>\r\n                  <label className={styles.radioLabel}>\r\n                    <input \r\n                      type=\"radio\" \r\n                      name=\"windowMode\" \r\n                      checked={settings.windowMode === 'windowed'} \r\n                      onChange={() => handleWindowModeChange('windowed')}\r\n                    />\r\n                    <span className={styles.radioText}>창 모드</span>\r\n                  </label>\r\n                  \r\n                  <label className={styles.radioLabel}>\r\n                    <input \r\n                      type=\"radio\" \r\n                      name=\"windowMode\" \r\n                      checked={settings.windowMode === 'fullscreen'} \r\n                      onChange={() => handleWindowModeChange('fullscreen')}\r\n                    />\r\n                    <span className={styles.radioText}>전체화면 모드</span>\r\n                  </label>\r\n\r\n                  <label className={styles.radioLabel}>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"windowMode\"\r\n                      checked={settings.windowMode === 'fullscreen-auto-hide'}\r\n                      onChange={() => handleWindowModeChange('fullscreen-auto-hide')}\r\n                    />\r\n                    <span className={styles.radioText}>자동 숨김 모드</span>\r\n                  </label>\r\n                </div>\r\n                \r\n                <p className={styles.settingDescription}>\r\n                  자동 숨김 모드에서는 마우스를 화면 상단에 가져가면 도구모음이 자동으로 표시됩니다.\r\n                </p>\r\n              </div>\r\n              \r\n              <div className={styles.settingSection}>\r\n                <h3>모니터링 대상 카테고리</h3>\r\n                <div className={styles.categoryToggles}>\r\n                  <div className={styles.toggleGrid}>\r\n                    <div className={styles.toggleItem}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.enabledCategories.docs} \r\n                          onChange={() => handleCategoryToggle('docs')}\r\n                        />\r\n                        <span className={styles.toggleLabel}>문서 작업 (Notion, Google Docs 등)</span>\r\n                      </label>\r\n                    </div>\r\n\r\n                    <div className={styles.toggleItem}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.enabledCategories.office} \r\n                          onChange={() => handleCategoryToggle('office')}\r\n                        />\r\n                        <span className={styles.toggleLabel}>오피스 웹앱 (Microsoft Office, 한컴오피스 등)</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={styles.toggleGrid}>\r\n                    <div className={styles.toggleItem}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.enabledCategories.coding} \r\n                          onChange={() => handleCategoryToggle('coding')}\r\n                        />\r\n                        <span className={styles.toggleLabel}>코딩 관련 (GitHub, GitLab 등)</span>\r\n                      </label>\r\n                    </div>\r\n\r\n                    <div className={styles.toggleItem}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.enabledCategories.sns} \r\n                          onChange={() => handleCategoryToggle('sns')}\r\n                        />\r\n                        <span className={styles.toggleLabel}>SNS/메신저 (Discord, Slack 등)</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.settingDescription}>\r\n                  선택한 카테고리에 해당하는 애플리케이션 및 웹사이트에서의 타이핑만 모니터링합니다.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'display' && (\r\n            <div className={styles.tabContent}>\r\n              <div className={styles.settingSection}>\r\n                <h3>통계 표시 설정</h3>\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.showKeyCountInHeader} \r\n                        onChange={() => handleToggleSetting('showKeyCountInHeader')}\r\n                      />\r\n                      <span className={styles.toggleLabel}>헤더에 키 카운트 표시</span>\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  <div className={styles.toggleItem}>\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        checked={settings.showRealtimeWPM} \r\n                        onChange={() => handleToggleSetting('showRealtimeWPM')}\r\n                      />\r\n                      <span className={styles.toggleLabel}>실시간 WPM(분당 단어 수) 표시</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.settingDescription}>\r\n                  통계 표시 설정을 통해 앱이 표시하는 정보의 종류와 위치를 조정할 수 있습니다.\r\n                  실시간 데이터를 표시하면 더 정확한 타이핑 분석이 가능하지만 시스템 자원을 더 사용합니다.\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.settingSection}>\r\n                <h3>타이핑 분석 설정</h3>\r\n                <div className={styles.toggleItem}>\r\n                  <label>\r\n                    <input \r\n                      type=\"checkbox\" \r\n                      checked={settings.useTypingAnalysisGpuAcceleration} \r\n                      onChange={handleTypingAnalysisGpuToggle}\r\n                    />\r\n                    <span className={styles.toggleLabel}>타이핑 분석 GPU 가속 사용</span>\r\n                  </label>\r\n                  <p className={styles.settingDescription}>\r\n                    GPU 가속을 활성화하면 타이핑 분석 계산이 더 빨라질 수 있습니다.\r\n                    시스템에 호환되는 GPU가 있는 경우에만 작동합니다.\r\n                  </p>\r\n                </div>\r\n                \r\n                {/* 타이핑 분석 통계 섹션 추가 */}\r\n                <div className={styles.analysisStats}>\r\n                  <h4>타이핑 분석 통계</h4>\r\n                  <div className={styles.statsDescription}>\r\n                    타이핑 분석은 입력 속도, 정확도, 일관성 등을 추적하여 입력 패턴을 분석합니다.\r\n                    이 기능을 통해 타이핑 습관을 개선하고 효율성을 높일 수 있습니다.\r\n                  </div>\r\n                  <div className={styles.statItems}>\r\n                    <div className={styles.statItem}>\r\n                      <span className={styles.statLabel}>WPM</span>\r\n                      <span className={styles.statValue}>분당 단어 수 측정</span>\r\n                    </div>\r\n                    <div className={styles.statItem}>\r\n                      <span className={styles.statLabel}>정확도</span>\r\n                      <span className={styles.statValue}>오타율 및 정확도 분석</span>\r\n                    </div>\r\n                    <div className={styles.statItem}>\r\n                      <span className={styles.statLabel}>일관성</span>\r\n                      <span className={styles.statValue}>타이핑 리듬 및 일관성 측정</span>\r\n                    </div>\r\n                    <div className={styles.statItem}>\r\n                      <span className={styles.statLabel}>피로도</span>\r\n                      <span className={styles.statValue}>타이핑 피로도 추적 및 휴식 추천</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.settingSection}>\r\n                <h3>미니뷰 설정</h3>\r\n                <div className={styles.toggleItem}>\r\n                  <label>\r\n                    <input \r\n                      type=\"checkbox\" \r\n                      checked={settings.enableMiniView} \r\n                      onChange={handleMiniViewToggle}\r\n                      disabled={!settings.minimizeToTray}\r\n                    />\r\n                    <span className={styles.toggleLabel}>\r\n                      트레이 아이콘 클릭 시 미니뷰(PiP) 표시\r\n                      {!settings.minimizeToTray && (\r\n                        <small className={styles.disabledNote}> (트레이로 최소화 옵션이 활성화되어야 함)</small>\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n                \r\n                <p className={styles.settingDescription}>\r\n                  미니뷰를 활성화하면 트레이 아이콘을 클릭할 때 화면 상단에 작은 통계 창이 표시됩니다.\r\n                  이를 통해 앱을 최소화한 상태에서도 중요한 타이핑 통계를 확인할 수 있습니다.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'advanced' && (\r\n            <div className={styles.tabContent}>\r\n              <div className={styles.settingSection}>\r\n                <h3>성능 설정</h3>\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.settingItem}>\r\n                    <div className={styles.settingLabel}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.useHardwareAcceleration}\r\n                          onChange={handleHardwareAccelerationToggle}\r\n                        />\r\n                        <span className={styles.toggleLabel}>GPU 하드웨어 가속 사용 (재시작 필요)</span>\r\n                      </label>\r\n                      <InfoTooltip text=\"GPU 하드웨어 가속을 활성화하면 그래픽 렌더링과 일부 계산이 더 빨라질 수 있지만, 일부 시스템에서는 불안정할 수 있습니다. 변경 후 앱 재시작이 필요합니다.\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={styles.settingItem}>\r\n                    <div className={styles.settingLabel}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.useTypingAnalysisGpuAcceleration}\r\n                          onChange={handleTypingAnalysisGpuToggle}\r\n                          disabled={!settings.useHardwareAcceleration}\r\n                        />\r\n                        <span className={styles.toggleLabel}>GPU 기반 타이핑 분석 (베타)</span>\r\n                      </label>\r\n                      <InfoTooltip text=\"타이핑 분석에 GPU 가속을 사용합니다. 하드웨어 가속이 활성화된 경우에만 사용 가능합니다. 복잡한 분석이 많은 경우 성능이 향상될 수 있습니다.\" />\r\n                    </div>\r\n                    {!settings.useHardwareAcceleration && (\r\n                      <div className={styles.disabledMessage}>\r\n                        GPU 기반 타이핑 분석을 사용하려면 먼저 GPU 하드웨어 가속을 활성화하세요.\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.settingSection}>\r\n                <h3>메모리 설정</h3>\r\n                <div className={styles.settingGrid}>\r\n                  <div className={styles.settingItem}>\r\n                    <div className={styles.settingLabel}>\r\n                      <label>\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={settings.reduceMemoryInBackground} \r\n                          onChange={handleReduceMemoryToggle}\r\n                        />\r\n                        <span className={styles.toggleLabel}>백그라운드에서 메모리 사용 최적화</span>\r\n                      </label>\r\n                      <InfoTooltip text=\"앱이 백그라운드에 있을 때 메모리 사용량을 줄이기 위해 일부 기능을 비활성화합니다. 배터리 수명과 시스템 성능을 향상시킵니다.\" />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className={styles.rangeItem}>\r\n                    <div className={styles.settingLabel}>\r\n                      <label htmlFor=\"memoryThreshold\">\r\n                        <span className={styles.rangeLabel}>최대 메모리 사용량 임계값: {settings.maxMemoryThreshold}MB</span>\r\n                      </label>\r\n                      <InfoTooltip text=\"앱의 메모리 사용량이 이 임계값을 초과하면 자동으로 메모리 정리를 수행합니다.\" />\r\n                    </div>\r\n                    <input\r\n                      type=\"range\"\r\n                      id=\"memoryThreshold\"\r\n                      min=\"50\"\r\n                      max=\"500\"\r\n                      step=\"10\"\r\n                      value={settings.maxMemoryThreshold}\r\n                      onChange={(e) => handleSettingChange('maxMemoryThreshold', parseInt(e.target.value, 10))}\r\n                      className={styles.rangeSlider}\r\n                      disabled={!settings.reduceMemoryInBackground}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className={styles.settingSection}>\r\n                <h3>처리 모드</h3>\r\n                <div className={styles.settingLabel} style={{ marginBottom: '10px' }}>\r\n                  <span>처리 모드 선택</span>\r\n                  <InfoTooltip text=\"처리 모드에 따라 앱의 성능과 리소스 사용량이 조정됩니다. 자동 모드는 시스템 환경에 따라 최적의 설정을 선택합니다.\" />\r\n                </div>\r\n                <div className={styles.radioGroup}>\r\n                  <label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"processingMode\"\r\n                      value=\"auto\"\r\n                      checked={settings.processingMode === 'auto'}\r\n                      onChange={() => handleSettingChange('processingMode', 'auto')}\r\n                    />\r\n                    <span className={styles.radioLabel}>자동</span>\r\n                  </label>\r\n                  <label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"processingMode\"\r\n                      value=\"normal\"\r\n                      checked={settings.processingMode === 'normal'}\r\n                      onChange={() => handleSettingChange('processingMode', 'normal')}\r\n                    />\r\n                    <span className={styles.radioLabel}>일반</span>\r\n                  </label>\r\n                  <label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"processingMode\"\r\n                      value=\"cpu-intensive\"\r\n                      checked={settings.processingMode === 'cpu-intensive'}\r\n                      onChange={() => handleSettingChange('processingMode', 'cpu-intensive')}\r\n                    />\r\n                    <span className={styles.radioLabel}>CPU 집중</span>\r\n                  </label>\r\n                  <label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"processingMode\"\r\n                      value=\"gpu-intensive\"\r\n                      checked={settings.processingMode === 'gpu-intensive'}\r\n                      onChange={() => handleSettingChange('processingMode', 'gpu-intensive')}\r\n                      disabled={!settings.useHardwareAcceleration}\r\n                    />\r\n                    <span className={styles.radioLabel}>GPU 집중 (하드웨어 가속 필요)</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              \r\n              {needsRestart && (\r\n                <div className={styles.restartNotice}>\r\n                  <p>GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작해야 합니다.</p>\r\n                  <button \r\n                    className={styles.restartButton}\r\n                    onClick={handleRestartClick}\r\n                  >\r\n                    지금 재시작\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.buttonRow}>\r\n        <button \r\n          className={styles.saveButton}\r\n          onClick={handleSaveSettings}\r\n        >\r\n          설정 저장\r\n        </button>\r\n      </div>\r\n      \r\n      <SaveConfirmDialog \r\n        isOpen={showSaveConfirm}\r\n        onConfirm={confirmSaveSettings}\r\n        onCancel={cancelSaveSettings}\r\n        isDarkMode={isDarkMode}\r\n      />\r\n    </div>\r\n  );\r\n}","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport styles from './RestartLoading.module.css';\r\n\r\ninterface RestartLoadingProps {\r\n  message?: string;\r\n  isVisible: boolean;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport default function RestartLoading({ \r\n  message = '앱을 재시작하는 중입니다...',\r\n  isVisible,\r\n  onClose\r\n}: RestartLoadingProps) {\r\n  const [dots, setDots] = useState('');\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  // 로딩 애니메이션 효과\r\n  useEffect(() => {\r\n    if (!isVisible) return;\r\n    \r\n    // 진행 점 애니메이션\r\n    const dotsInterval = setInterval(() => {\r\n      setDots(prev => {\r\n        if (prev.length >= 3) return '';\r\n        return prev + '.';\r\n      });\r\n    }, 500);\r\n    \r\n    // 진행 표시줄 애니메이션\r\n    const progressInterval = setInterval(() => {\r\n      setProgress(prev => {\r\n        if (prev >= 100) return 100;\r\n        return prev + 5;\r\n      });\r\n    }, 100);\r\n    \r\n    return () => {\r\n      clearInterval(dotsInterval);\r\n      clearInterval(progressInterval);\r\n    };\r\n  }, [isVisible]);\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className={styles.overlay}>\r\n      <div className={styles.loadingContainer}>\r\n        <div className={styles.spinner}></div>\r\n        <h3 className={styles.title}>{message}{dots}</h3>\r\n        \r\n        <div className={styles.progressContainer}>\r\n          <div \r\n            className={styles.progressBar}\r\n            style={{ width: `${progress}%` }}\r\n          ></div>\r\n        </div>\r\n        \r\n        <p className={styles.note}>앱이 곧 다시 시작됩니다.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * 다크 모드 클래스를 전역 요소에 적용하는 함수\r\n */\r\nexport function applyDarkModeToAllElements(isDark: boolean) {\r\n  if (isDark) {\r\n    document.body.classList.add('dark-mode');\r\n    document.documentElement.classList.add('dark-mode');\r\n    \r\n    // 주요 컨테이너에도 클래스 추가\r\n    document.querySelectorAll('.tab-content, .chart-container, .history-table').forEach(el => {\r\n      el.classList.add('dark-mode');\r\n    });\r\n  } else {\r\n    document.body.classList.remove('dark-mode');\r\n    document.documentElement.classList.remove('dark-mode');\r\n    \r\n    // 주요 컨테이너에서도 클래스 제거\r\n    document.querySelectorAll('.tab-content, .chart-container, .history-table').forEach(el => {\r\n      el.classList.remove('dark-mode');\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * 현재 시스템이 다크 모드인지 확인하는 함수\r\n */\r\nexport function isSystemInDarkMode(): boolean {\r\n  if (typeof window === 'undefined') return false;\r\n  return window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { useToast } from '../components/ToastContext';\r\nimport { applyDarkModeToAllElements } from '../utils/darkModeUtils';\r\nimport type { ElectronAPI } from '../types/electron';\r\nimport type { WindowModeType } from '../global';\r\n\r\n// SettingsState 타입 인터페이스를 export하여 다른 파일에서 import할 수 있게 함\r\nexport interface SettingsState {\r\n  enabledCategories: {\r\n    docs: boolean;\r\n    office: boolean;\r\n    coding: boolean;\r\n    sns: boolean;\r\n  };\r\n  autoStartMonitoring: boolean;\r\n  resumeAfterIdle: boolean;\r\n  darkMode: boolean;\r\n  windowMode: WindowModeType;\r\n  minimizeToTray: boolean;\r\n  showTrayNotifications: boolean;\r\n  reduceMemoryInBackground: boolean;\r\n  enableMiniView: boolean;\r\n  useHardwareAcceleration: boolean;\r\n  processingMode: 'auto' | 'normal' | 'cpu-intensive' | 'gpu-intensive';\r\n  maxMemoryThreshold: number;\r\n}\r\n\r\n// 기본 설정 값 - GPU 및 처리 모드 추가\r\nconst defaultSettings: SettingsState = {\r\n  enabledCategories: {\r\n    docs: true,\r\n    office: true,\r\n    coding: true,\r\n    sns: true\r\n  },\r\n  autoStartMonitoring: true,\r\n  resumeAfterIdle: true,\r\n  darkMode: false,\r\n  windowMode: 'windowed',\r\n  minimizeToTray: true,\r\n  showTrayNotifications: true,\r\n  reduceMemoryInBackground: true,\r\n  enableMiniView: true,\r\n  useHardwareAcceleration: false,\r\n  processingMode: 'auto',\r\n  maxMemoryThreshold: 100\r\n};\r\n\r\nexport function useSettings(electronAPI: ElectronAPI | null) {\r\n  const { showToast } = useToast();\r\n  const [settings, setSettings] = useState<SettingsState>(defaultSettings);\r\n  const [darkMode, setDarkMode] = useState<boolean>(false);\r\n  const [windowMode, setWindowMode] = useState<WindowModeType>('windowed');\r\n  const [isInitialized, setIsInitialized] = useState<boolean>(false);\r\n\r\n  // 설정 로드 함수\r\n  const loadSettings = useCallback(async () => {\r\n    try {\r\n      if (electronAPI?.loadSettings) {\r\n        const loadedSettings = await electronAPI.loadSettings();\r\n        if (loadedSettings) {\r\n          console.log('설정 로드 성공:', loadedSettings);\r\n          setSettings(loadedSettings);\r\n          setDarkMode(loadedSettings.darkMode || false);\r\n          setWindowMode(loadedSettings.windowMode || 'windowed');\r\n          // 다크 모드 적용\r\n          applyDarkModeToAllElements(loadedSettings.darkMode || false);\r\n          return loadedSettings;\r\n        }\r\n      } else {\r\n        // localStorage에서 로드 시도\r\n        try {\r\n          const storedSettings = localStorage.getItem('app_settings');\r\n          if (storedSettings) {\r\n            const parsedSettings = JSON.parse(storedSettings) as SettingsState;\r\n            console.log('localStorage에서 설정 로드:', parsedSettings);\r\n            setSettings(parsedSettings);\r\n            setDarkMode(parsedSettings.darkMode || false);\r\n            setWindowMode(parsedSettings.windowMode || 'windowed');\r\n            // 다크 모드 적용\r\n            applyDarkModeToAllElements(parsedSettings.darkMode || false);\r\n            return parsedSettings;\r\n          }\r\n        } catch (storageError) {\r\n          console.error('localStorage 로드 오류:', storageError);\r\n        }\r\n      }\r\n      \r\n      // 기본 설정 반환\r\n      return defaultSettings;\r\n    } catch (error) {\r\n      console.error('설정 로드 오류:', error);\r\n      showToast?.('설정을 불러오지 못했습니다', 'error');\r\n      return defaultSettings;\r\n    }\r\n  }, [electronAPI, showToast]);\r\n\r\n  // 설정 저장 함수 개선\r\n  const handleSaveSettings = useCallback(async (newSettings: SettingsState) => {\r\n    try {\r\n      // 변경사항이 있을 때만 저장 진행\r\n      const hasChanges = JSON.stringify(newSettings) !== JSON.stringify(settings);\r\n      if (!hasChanges) {\r\n        console.log('변경된 설정이 없습니다.');\r\n        showToast?.('변경된 설정이 없습니다', 'info');\r\n        return true;\r\n      }\r\n\r\n      // Electron API를 통한 저장\r\n      if (electronAPI?.saveSettings) {\r\n        console.log('Electron API를 통해 설정 저장:', newSettings);\r\n        const result = await electronAPI.saveSettings(newSettings);\r\n        \r\n        if (result) {\r\n          console.log('설정 저장 성공');\r\n          setSettings(newSettings);\r\n          // 다크 모드 설정 업데이트\r\n          if (newSettings.darkMode !== darkMode) {\r\n            setDarkMode(newSettings.darkMode);\r\n            applyDarkModeToAllElements(newSettings.darkMode);\r\n            if (electronAPI?.setDarkMode) {\r\n              await electronAPI.setDarkMode(newSettings.darkMode);\r\n            }\r\n            // 이벤트 발생 (다른 컴포넌트에 알림)\r\n            const event = new CustomEvent('darkmode-changed', { detail: { darkMode: newSettings.darkMode } });\r\n            window.dispatchEvent(event);\r\n          }\r\n          \r\n          // 윈도우 모드 설정 업데이트\r\n          if (newSettings.windowMode !== windowMode) {\r\n            setWindowMode(newSettings.windowMode);\r\n            if (electronAPI?.setWindowMode) {\r\n              await electronAPI.setWindowMode(newSettings.windowMode);\r\n            }\r\n          }\r\n          showToast?.('설정이 저장되었습니다', 'success');\r\n          return true;\r\n        } else {\r\n          console.error('설정 저장 실패');\r\n          showToast?.('설정 저장에 실패했습니다', 'error');\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      // localStorage를 통한 저장 (Electron API가 없을 때)\r\n      try {\r\n        localStorage.setItem('app_settings', JSON.stringify(newSettings));\r\n        console.log('localStorage에 설정 저장 성공:', newSettings);\r\n        setSettings(newSettings);\r\n        \r\n        // 다크 모드 설정 업데이트\r\n        if (newSettings.darkMode !== darkMode) {\r\n          setDarkMode(newSettings.darkMode);\r\n          applyDarkModeToAllElements(newSettings.darkMode);\r\n          // 이벤트 발생 (다른 컴포넌트에 알림)\r\n          const event = new CustomEvent('darkmode-changed', { detail: { darkMode: newSettings.darkMode } });\r\n          window.dispatchEvent(event);\r\n        }\r\n        \r\n        // 윈도우 모드 설정 업데이트\r\n        if (newSettings.windowMode !== windowMode) {\r\n          setWindowMode(newSettings.windowMode);\r\n        }\r\n        \r\n        showToast?.('설정이 저장되었습니다', 'success');\r\n        return true;\r\n      } catch (storageError) {\r\n        console.error('localStorage 저장 오류:', storageError);\r\n        showToast?.('설정 저장에 실패했습니다', 'error');\r\n        return false;\r\n      }\r\n    } catch (error) {\r\n      console.error('설정 저장 중 오류 발생:', error);\r\n      showToast?.('설정을 저장할 수 없습니다', 'error');\r\n      return false;\r\n    }\r\n  }, [electronAPI, settings, darkMode, windowMode, showToast]);\r\n\r\n  // 다크 모드 설정 함수\r\n  const handleDarkModeChange = useCallback(async (enabled: boolean) => {\r\n    try {\r\n      setDarkMode(enabled);\r\n      applyDarkModeToAllElements(enabled);\r\n      \r\n      // Electron API를 통한 다크 모드 설정\r\n      if (electronAPI?.setDarkMode) {\r\n        await electronAPI.setDarkMode(enabled);\r\n      }\r\n      \r\n      // 이벤트 발생 (다른 컴포넌트에 알림)\r\n      const event = new CustomEvent('darkmode-changed', { detail: { darkMode: enabled } });\r\n      window.dispatchEvent(event);\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('다크 모드 설정 오류:', error);\r\n      return false;\r\n    }\r\n  }, [electronAPI]);\r\n\r\n  // 윈도우 모드 설정 함수\r\n  const handleWindowModeChange = useCallback(async (mode: WindowModeType) => {\r\n    try {\r\n      setWindowMode(mode);\r\n      \r\n      // Electron API를 통한 윈도우 모드 설정\r\n      if (electronAPI?.setWindowMode) {\r\n        await electronAPI.setWindowMode(mode);\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('윈도우 모드 설정 오류:', error);\r\n      return false;\r\n    }\r\n  }, [electronAPI]);\r\n\r\n  // 초기화\r\n  useEffect(() => {\r\n    if (!isInitialized) {\r\n      loadSettings().then(() => {\r\n        setIsInitialized(true);\r\n      });\r\n    }\r\n  }, [loadSettings, isInitialized]);\r\n\r\n  return {\r\n    settings,\r\n    darkMode,\r\n    windowMode,\r\n    handleSaveSettings,\r\n    handleDarkModeChange,\r\n    handleWindowModeChange,\r\n    loadSettings\r\n  };\r\n}\r\n","import { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { useToast } from '../components/ToastContext';\r\nimport { ElectronAPI } from '../types/electron';\r\n\r\nconst MAX_LOGS_TO_LOAD = 100; // 최대 로그 수 제한\r\n\r\n// 타입 정의 추가\r\ninterface LogEntry {\r\n  id: number;\r\n  content: string;\r\n  key_count: number;\r\n  typing_time: number;\r\n  timestamp: string;\r\n  created_at: string;\r\n  is_saved?: boolean;\r\n  window_title?: string;\r\n  browser_name?: string;\r\n  total_chars?: number;\r\n  total_chars_no_space?: number;\r\n  total_words?: number;\r\n  pages?: number;\r\n  accuracy?: number;\r\n}\r\n\r\n// 통계 업데이트 인터페이스 정의 추가\r\ninterface TypingStatsUpdate {\r\n  keyCount: number;\r\n  typingTime: number;\r\n  windowTitle?: string;\r\n  browserName?: string;\r\n  totalChars?: number;\r\n  totalCharsNoSpace?: number;\r\n  totalWords?: number;\r\n  pages?: number;\r\n  accuracy?: number;\r\n}\r\n\r\n// 저장 데이터 인터페이스 정의 추가\r\ninterface RecordData {\r\n  content: string;\r\n  keyCount: number;\r\n  typingTime: string;\r\n  timestamp: string;\r\n  windowTitle?: string;\r\n  browserName?: string;\r\n  totalChars?: number;\r\n  totalWords?: number;\r\n  pages?: number;\r\n  accuracy?: number;\r\n}\r\n\r\nexport interface TypingStatsState {\r\n  keyCount: number;\r\n  typingTime: number;\r\n  windowTitle: string;\r\n  browserName: string;\r\n  totalChars: number;\r\n  totalCharsNoSpace: number;\r\n  totalWords: number;\r\n  pages: number;\r\n  accuracy: number;\r\n}\r\n\r\nexport function useTypingStats(electronAPI: ElectronAPI | null) {\r\n  // API에서 가져온 로그 데이터\r\n  const [logs, setLogs] = useState<LogEntry[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  // 메모리 관리를 위한 ref 사용\r\n  const eventsCleanupRef = useRef<(() => void)[]>([]);\r\n  const intervalsRef = useRef<NodeJS.Timeout[]>([]);\r\n  \r\n  // 현재 통계 상태 - useRef로 관리하여 불필요한 렌더링 방지\r\n  const currentStatsRef = useRef<TypingStatsState>({\r\n    keyCount: 0,\r\n    typingTime: 0,\r\n    windowTitle: '',\r\n    browserName: '',\r\n    totalChars: 0,\r\n    totalCharsNoSpace: 0,\r\n    totalWords: 0,\r\n    pages: 0,\r\n    accuracy: 100\r\n  });\r\n  \r\n  // 화면에 표시할 통계만 useState로 관리\r\n  const [displayStats, setDisplayStats] = useState({...currentStatsRef.current});\r\n  const { showToast } = useToast();\r\n  \r\n  // 주기적으로 표시 통계 업데이트 (불필요한 렌더링 방지)\r\n  useEffect(() => {\r\n    const updateInterval = setInterval(() => {\r\n      // 변경사항이 있는 경우에만 상태 업데이트\r\n      if (JSON.stringify(currentStatsRef.current) !== JSON.stringify(displayStats)) {\r\n        setDisplayStats({...currentStatsRef.current});\r\n      }\r\n    }, 2000); // 2초마다 업데이트\r\n    \r\n    intervalsRef.current.push(updateInterval);\r\n    \r\n    return () => clearInterval(updateInterval);\r\n  }, [displayStats]);\r\n\r\n  // 통계 시작 핸들러\r\n  const handleStartTracking = useCallback(() => {\r\n    try {\r\n      if (electronAPI) {\r\n        electronAPI.startTracking?.();\r\n        setIsTracking(true);\r\n      } else {\r\n        console.warn('electronAPI가 없습니다.');\r\n        setIsTracking(true); // API가 없어도 UI는 tracking 상태 표시\r\n      }\r\n    } catch (error) {\r\n      console.error('startTracking 호출 오류:', error);\r\n      setIsTracking(true);\r\n    }\r\n  }, [electronAPI]);\r\n\r\n  // 통계 중지 핸들러\r\n  const handleStopTracking = useCallback(() => {\r\n    try {\r\n      if (electronAPI) {\r\n        electronAPI.stopTracking?.();\r\n        setIsTracking(false);\r\n      } else {\r\n        console.warn('electronAPI가 없습니다.');\r\n        setIsTracking(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('stopTracking 호출 오류:', error);\r\n      setIsTracking(false);\r\n    }\r\n  }, [electronAPI]);\r\n\r\n  // 로그 데이터 로드 함수\r\n  const fetchLogs = useCallback(async (limit = MAX_LOGS_TO_LOAD) => {\r\n    if (isLoading) return; // 이미 로딩 중이면 중복 호출 방지\r\n    \r\n    try {\r\n      setIsLoading(true);\r\n      const endpoint = `/api/getLogs?limit=${limit}`;\r\n      const response = await fetch(endpoint);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`API 요청 실패: ${response.status} ${response.statusText}`);\r\n      }\r\n      \r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        throw new Error('서버에서 잘못된 응답 형식 반환');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // 필요한 필드만 추출하여 메모리 최적화\r\n        const optimizedLogs = data.logs.map((log: any) => ({\r\n          id: log.id,\r\n          content: log.content,\r\n          key_count: log.key_count,\r\n          typing_time: log.typing_time,\r\n          timestamp: log.timestamp,\r\n          created_at: log.created_at,\r\n          window_title: log.window_title,\r\n          browser_name: log.browser_name,\r\n          total_chars: log.total_chars,\r\n          total_words: log.total_words,\r\n          pages: log.pages,\r\n          accuracy: log.accuracy\r\n        }));\r\n        \r\n        // 상태 업데이트 조건부로 수행\r\n        if (JSON.stringify(logs) !== JSON.stringify(optimizedLogs)) {\r\n          setLogs(optimizedLogs);\r\n        }\r\n      } else {\r\n        console.error('로그 불러오기 실패:', data.error);\r\n        setLogs([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('로그 API 요청 오류:', error);\r\n      setLogs([]);\r\n      setError('로그를 불러오는 중 문제가 발생했습니다.');\r\n      showToast?.('데이터 로드 중 오류가 발생했습니다', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [logs, showToast, isLoading]);\r\n\r\n  // 데이터베이스 저장 함수\r\n  const saveToDatabase = useCallback(async (record: RecordData) => {\r\n    try {\r\n      const response = await fetch('/api/saveLogs', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(record)\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (response.ok) {\r\n        await fetchLogs(); // 로그 다시 불러오기\r\n      } else {\r\n        console.error('저장 실패:', result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('저장 API 요청 오류:', error);\r\n    }\r\n  }, [fetchLogs]);\r\n\r\n  // 통계 저장 핸들러\r\n  const handleSaveStats = useCallback((content: string) => {\r\n    try {\r\n      if (electronAPI) {\r\n        electronAPI.saveStats?.(content);\r\n      }\r\n      \r\n      // DB에도 저장\r\n      const recordData: RecordData = {\r\n        content,\r\n        keyCount: currentStatsRef.current.keyCount,\r\n        typingTime: currentStatsRef.current.typingTime.toString(), // number를 string으로 변환\r\n        timestamp: new Date().toISOString(),\r\n        windowTitle: currentStatsRef.current.windowTitle,\r\n        browserName: currentStatsRef.current.browserName,\r\n        totalChars: currentStatsRef.current.totalChars,\r\n        totalWords: currentStatsRef.current.totalWords,\r\n        pages: currentStatsRef.current.pages,\r\n        accuracy: currentStatsRef.current.accuracy\r\n      };\r\n      \r\n      saveToDatabase(recordData);\r\n    } catch (error) {\r\n      console.error('saveStats 호출 오류:', error);\r\n      // API 호출 실패해도 데이터베이스에는 저장 시도\r\n      const recordData: RecordData = {\r\n        content,\r\n        keyCount: currentStatsRef.current.keyCount,\r\n        typingTime: currentStatsRef.current.typingTime.toString(), // number를 string으로 변환\r\n        timestamp: new Date().toISOString(),\r\n        windowTitle: currentStatsRef.current.windowTitle,\r\n        browserName: currentStatsRef.current.browserName || 'Unknown'\r\n      };\r\n      \r\n      saveToDatabase(recordData);\r\n    }\r\n  }, [electronAPI, saveToDatabase]);\r\n\r\n  // 초기화 함수\r\n  const initializeEventListeners = useCallback(() => {\r\n    if (!electronAPI) return;\r\n    \r\n    // 이벤트 리스너 설정 및 정리 함수 모음\r\n    const cleanupFunctions: (() => void)[] = [];\r\n    \r\n    // 타이핑 통계 업데이트 이벤트 리스너\r\n    if (electronAPI.onTypingStatsUpdate) {\r\n      const cleanup = electronAPI.onTypingStatsUpdate((data: TypingStatsUpdate) => {\r\n        // 통계 상태 업데이트 로직\r\n        currentStatsRef.current = {\r\n          ...currentStatsRef.current,\r\n          ...data\r\n        };\r\n      });\r\n      \r\n      cleanupFunctions.push(cleanup);\r\n    }\r\n    \r\n    // 저장된 통계 이벤트 리스너\r\n    if (electronAPI.onStatsSaved) {\r\n      const cleanup = electronAPI.onStatsSaved(() => {\r\n        // 저장 완료 후 로직\r\n        fetchLogs();\r\n      });\r\n      \r\n      cleanupFunctions.push(cleanup);\r\n    }\r\n    \r\n    // 정리 함수를 ref에 저장\r\n    eventsCleanupRef.current = cleanupFunctions;\r\n  }, [electronAPI, fetchLogs]);\r\n\r\n  // 컴포넌트 마운트 시 이벤트 리스너 설정\r\n  useEffect(() => {\r\n    initializeEventListeners();\r\n    \r\n    // 컴포넌트 언마운트 시 이벤트 리스너 정리\r\n    return () => {\r\n      eventsCleanupRef.current.forEach(cleanup => {\r\n        try {\r\n          cleanup();\r\n        } catch (error) {\r\n          console.error('이벤트 리스너 정리 오류:', error);\r\n        }\r\n      });\r\n    };\r\n  }, [initializeEventListeners]);\r\n\r\n  // 메모리 관리를 위한 정리 함수\r\n  useEffect(() => {\r\n    return () => {\r\n      // 등록된 모든 이벤트 리스너 제거\r\n      eventsCleanupRef.current.forEach(cleanup => cleanup());\r\n      eventsCleanupRef.current = [];\r\n      \r\n      // 등록된 모든 인터벌 제거\r\n      intervalsRef.current.forEach(clearInterval);\r\n      intervalsRef.current = [];\r\n      \r\n      // 대용량 객체 참조 끊기\r\n      setLogs([]);\r\n      currentStatsRef.current = {\r\n        keyCount: 0,\r\n        typingTime: 0,\r\n        windowTitle: '',\r\n        browserName: '',\r\n        totalChars: 0,\r\n        totalCharsNoSpace: 0,\r\n        totalWords: 0,\r\n        pages: 0,\r\n        accuracy: 100\r\n      };\r\n      \r\n      // 메모리 해제 요청\r\n      if (window.gc) {\r\n        try {\r\n          window.gc();\r\n        } catch (e) {\r\n          console.log('GC 호출 실패');\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // 초기 로딩시 로그 데이터 가져오기\r\n  useEffect(() => {\r\n    fetchLogs();\r\n  }, [fetchLogs]);\r\n\r\n  return {\r\n    logs,\r\n    isLoading, \r\n    isTracking,\r\n    displayStats,\r\n    handleStartTracking,\r\n    handleStopTracking,\r\n    handleSaveStats,\r\n    fetchLogs,\r\n    currentStatsRef,\r\n    error\r\n  };\r\n}\r\n","import { useState, useCallback, useEffect } from 'react';\r\nimport { ElectronAPI } from '../types/electron';\r\n\r\n// API 인터페이스 정의 수정 - ElectronAPI와 호환되도록 변경\r\ninterface TabNavigationAPI extends Partial<ElectronAPI> {\r\n  // ElectronAPI의 모든 속성을 선택적으로 상속\r\n}\r\n\r\ninterface UseTabNavigationProps {\r\n  initialTab: string;\r\n  electronAPI?: TabNavigationAPI | null; // 옵셔널로 변경\r\n}\r\n\r\nexport function useTabNavigation({ initialTab, electronAPI }: UseTabNavigationProps) {\r\n  const [activeTab, setActiveTab] = useState(initialTab);\r\n  const [debugMode, setDebugMode] = useState(false);\r\n\r\n  // 탭 변경 핸들러\r\n  const handleTabChange = useCallback((tab: string) => {\r\n    setActiveTab(tab);\r\n  }, []);\r\n\r\n  // 디버그 모드 토글\r\n  const toggleDebugMode = useCallback(() => {\r\n    setDebugMode(prev => !prev);\r\n  }, []);\r\n\r\n  // 컴포넌트 마운트 시 실행할 코드\r\n  useEffect(() => {\r\n    // 여기에 필요한 초기화 로직 추가\r\n  }, []);\r\n\r\n  return {\r\n    activeTab,\r\n    debugMode,\r\n    handleTabChange,\r\n    toggleDebugMode\r\n  };\r\n}\r\n","import { useEffect, useRef, useCallback } from 'react';\r\n\r\n// Define MemoryInfo interface locally\r\ninterface MemoryInfo {\r\n  usedJSHeapSize: number;\r\n  totalJSHeapSize: number;\r\n  jsHeapSizeLimit: number;\r\n}\r\n\r\nexport interface MemoryManagementOptions {\r\n  debugMode?: boolean;\r\n  checkInterval?: number;\r\n  memoryThreshold?: number;\r\n  activeTab?: string;\r\n  onClearLogs?: () => void;\r\n}\r\n\r\n/**\r\n * 메모리 관리를 위한 커스텀 훅\r\n * 주기적으로 메모리 상태를 확인하고 필요시 정리 작업을 수행합니다.\r\n */\r\nexport function useMemoryManagement({ \r\n  debugMode = false,\r\n  checkInterval = 30000, // 기본 30초\r\n  memoryThreshold = 100, // 기본 100MB\r\n  activeTab = 'monitor',\r\n  onClearLogs = () => {}\r\n}: MemoryManagementOptions = {}) {\r\n  const intervalsRef = useRef<NodeJS.Timeout[]>([]);\r\n  const memoryWarningShownRef = useRef<boolean>(false);\r\n  const lastCleanupTimeRef = useRef<number>(0);\r\n  const CLEANUP_COOLDOWN = 60000; // 정리 작업 간 최소 시간 간격 (1분)\r\n  \r\n  // 메모리 사용량 확인 및 정리 함수\r\n  const checkMemoryUsage = useCallback(() => {\r\n    // 브라우저에서 실행 중인지 확인\r\n    if (typeof window === 'undefined') return;\r\n\r\n    // 성능 API를 통한 메모리 정보 수집\r\n    if (window.performance && (window.performance as any).memory) {\r\n      const memoryInfo = (window.performance as any).memory;\r\n      const usedHeapSize = memoryInfo.usedJSHeapSize / (1024 * 1024);\r\n      const totalHeapSize = memoryInfo.totalJSHeapSize / (1024 * 1024);\r\n      const percentUsed = (usedHeapSize / totalHeapSize) * 100;\r\n      \r\n      if (debugMode) {\r\n        console.log(`메모리 사용량: ${Math.round(usedHeapSize)}MB (${Math.round(percentUsed)}%)`);\r\n      }\r\n      \r\n      // 임계치 이상이면 불필요한 데이터 해제 (쿨다운 시간 체크)\r\n      const now = Date.now();\r\n      if (usedHeapSize > memoryThreshold && (now - lastCleanupTimeRef.current > CLEANUP_COOLDOWN)) {\r\n        lastCleanupTimeRef.current = now;\r\n        \r\n        // 경고 로그 (한 번만 표시)\r\n        if (!memoryWarningShownRef.current && debugMode) {\r\n          console.warn(`메모리 사용량 경고: ${Math.round(usedHeapSize)}MB (임계치: ${memoryThreshold}MB)`);\r\n          memoryWarningShownRef.current = true;\r\n        }\r\n        \r\n        // 필요하지 않은 큰 객체 참조 해제\r\n        if (activeTab !== 'history' && activeTab !== 'stats' && activeTab !== 'chart') {\r\n          // 로그 데이터가 필요 없는 탭에서는 메모리에서 해제\r\n          onClearLogs();\r\n          \r\n          // 자동 최적화 수행\r\n          if (typeof window.__memoryOptimizer?.optimizeMemory === 'function') {\r\n            window.__memoryOptimizer.optimizeMemory(usedHeapSize > memoryThreshold * 1.5);\r\n            if (debugMode) {\r\n              console.log('메모리 자동 최적화 수행됨');\r\n            }\r\n          }\r\n          \r\n          // GC 힌트 제공\r\n          if (window.gc) {\r\n            window.gc();\r\n            if (debugMode) {\r\n              console.log('GC 호출됨');\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 메모리 사용량이 임계치 아래로 내려가면 경고 상태 초기화\r\n      if (usedHeapSize < memoryThreshold * 0.8) {\r\n        memoryWarningShownRef.current = false;\r\n      }\r\n    }\r\n  }, [activeTab, debugMode, memoryThreshold, onClearLogs]);\r\n  \r\n  // 컴포넌트 마운트 시 타이머 설정\r\n  useEffect(() => {\r\n    // 초기 메모리 체크\r\n    checkMemoryUsage();\r\n    \r\n    // 주기적으로 메모리 사용량 체크\r\n    const memoryCheckInterval = setInterval(checkMemoryUsage, checkInterval);\r\n    intervalsRef.current.push(memoryCheckInterval);\r\n    \r\n    // 페이지 가시성 변경 이벤트 핸들러\r\n    const handleVisibilityChange = () => {\r\n      if (document.visibilityState === 'visible') {\r\n        // 탭이 다시 보이게 되면 메모리 체크 실행\r\n        checkMemoryUsage();\r\n      }\r\n    };\r\n    \r\n    // 이벤트 리스너 등록\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n    \r\n    // 페이지 언마운트 시 정리\r\n    return () => {\r\n      clearInterval(memoryCheckInterval);\r\n      \r\n      // 등록된 모든 인터벌 제거\r\n      intervalsRef.current.forEach(clearInterval);\r\n      intervalsRef.current = [];\r\n      \r\n      // 이벤트 리스너 제거\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n      \r\n      // 메모리 해제 요청\r\n      if (window.gc) {\r\n        try {\r\n          window.gc();\r\n        } catch (e) {\r\n          console.warn('GC 호출 실패');\r\n        }\r\n      }\r\n    };\r\n  }, [checkMemoryUsage, checkInterval]);\r\n  \r\n  // 수동으로 메모리 정리 실행 함수\r\n  const cleanupMemory = useCallback(() => {\r\n    // 브라우저 환경 확인\r\n    if (typeof window === 'undefined') return false;\r\n    \r\n    // 최적화 유틸리티 사용 시도\r\n    if (typeof window.__memoryOptimizer?.optimizeMemory === 'function') {\r\n      window.__memoryOptimizer.optimizeMemory(true);\r\n      if (debugMode) {\r\n        console.log('수동 메모리 최적화 실행됨');\r\n      }\r\n      return true;\r\n    }\r\n    \r\n    // 브라우저에 GC 권장\r\n    if (window.gc) {\r\n      try {\r\n        window.gc();\r\n        if (debugMode) {\r\n          console.log('GC 호출 성공');\r\n        }\r\n        return true;\r\n      } catch (e) {\r\n        console.warn('GC 호출 실패');\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }, [debugMode]);\r\n\r\n  // 인터벌 관리를 위한 추가 함수\r\n  const addInterval = useCallback((interval: NodeJS.Timeout) => {\r\n    intervalsRef.current.push(interval);\r\n  }, []);\r\n  \r\n  const clearIntervals = useCallback(() => {\r\n    intervalsRef.current.forEach(clearInterval);\r\n    intervalsRef.current = [];\r\n  }, []);\r\n\r\n  return {\r\n    cleanupMemory,\r\n    addInterval,\r\n    clearIntervals,\r\n    checkMemoryUsage\r\n  };\r\n}\r\n","import { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { ElectronAPI } from '../types/electron';\r\n\r\nexport interface AutoHideHeaderOptions {\r\n  windowMode: string; \r\n  electronAPI: ElectronAPI | null;\r\n}\r\n\r\nexport function useAutoHideHeader({ windowMode, electronAPI }: AutoHideHeaderOptions) {\r\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\r\n  const autoHideTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n  \r\n  // 자동 숨김 기능 처리 (윈도우 기본 헤더용)\r\n  useEffect(() => {\r\n    const isAutoHideMode = windowMode === 'fullscreen-auto-hide';\r\n    \r\n    if (!isAutoHideMode) {\r\n      // 자동 숨김이 아닌 경우 항상 표시\r\n      if (electronAPI?.windowControl) {\r\n        electronAPI.windowControl('showHeader');\r\n      }\r\n      return;\r\n    }\r\n    \r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      const { clientY } = e;\r\n      \r\n      // 마우스가 화면 상단 100px 이내에 있을 때 헤더 표시\r\n      if (clientY < 100) {\r\n        setIsHeaderVisible(true);\r\n        if (electronAPI?.windowControl) {\r\n          electronAPI.windowControl('showHeader');\r\n        }\r\n        \r\n        if (autoHideTimeoutRef.current) {\r\n          clearTimeout(autoHideTimeoutRef.current);\r\n          autoHideTimeoutRef.current = null;\r\n        }\r\n      } else if (clientY > 150 && isHeaderVisible) {\r\n        // 마우스가 아래로 이동했을 때 타이머 설정\r\n        if (!autoHideTimeoutRef.current) {\r\n          autoHideTimeoutRef.current = setTimeout(() => {\r\n            setIsHeaderVisible(false);\r\n            if (electronAPI?.windowControl) {\r\n              electronAPI.windowControl('hideHeader');\r\n            }\r\n            autoHideTimeoutRef.current = null;\r\n          }, 1500);\r\n        }\r\n      }\r\n    };\r\n    \r\n    // 캡처 옵션과 우선순위 높임\r\n    window.addEventListener('mousemove', handleMouseMove, { \r\n      passive: true, \r\n      capture: true \r\n    });\r\n    \r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMouseMove, { capture: true });\r\n      if (autoHideTimeoutRef.current) {\r\n        clearTimeout(autoHideTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [windowMode, isHeaderVisible, electronAPI]);\r\n  \r\n  // 헤더 표시/숨김 설정을 위한 함수\r\n  const setHeaderVisibility = useCallback((isVisible: boolean) => {\r\n    setIsHeaderVisible(isVisible);\r\n    if (electronAPI?.windowControl) {\r\n      electronAPI.windowControl(isVisible ? 'showHeader' : 'hideHeader');\r\n    }\r\n  }, [electronAPI]);\r\n\r\n  return {\r\n    isHeaderVisible,\r\n    setHeaderVisibility\r\n  };\r\n}\r\n","/**\r\n * 이미지 최적화 관련 유틸리티\r\n * 이미지 캐시 정리 및 최적화 기능 제공\r\n */\r\nimport { isElementInViewport } from './dom-optimizer';\r\n\r\n/**\r\n * 이미지 캐시 정리\r\n * 렌더러에 로드된 이미지 캐시를 효율적으로 관리\r\n */\r\nexport function clearImageCache(): void {\r\n  try {\r\n    // 화면에 보이지 않는 이미지 선택\r\n    const images = document.querySelectorAll('img:not([data-keep-cache=\"true\"])');\r\n    images.forEach(img => {\r\n      if (!isElementInViewport(img)) {\r\n        // HTMLImageElement로 타입 캐스팅하여 src 속성에 접근\r\n        const imgElement = img as HTMLImageElement;\r\n        const originalSrc = imgElement.src;\r\n        if (originalSrc) {\r\n          imgElement.setAttribute('data-original-src', originalSrc);\r\n          imgElement.src = '';\r\n          \r\n          // 필요할 때 복원하기 위한 이벤트 리스너\r\n          imgElement.addEventListener('error', () => {\r\n            const savedSrc = imgElement.getAttribute('data-original-src');\r\n            if (savedSrc) imgElement.src = savedSrc;\r\n          }, { once: true });\r\n        }\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.warn('이미지 캐시 정리 중 오류:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * 이미지 리소스를 최적화하여 메모리 사용량을 줄입니다.\r\n * @returns Promise<boolean>\r\n */\r\nexport async function optimizeImageResources(): Promise<boolean> {\r\n  try {\r\n    // 1. 화면에 보이지 않는 이미지 검색\r\n    const images = document.querySelectorAll('img:not([data-optimized])');\r\n    let optimizedCount = 0;\r\n    \r\n    for (const img of Array.from(images)) {\r\n      const imgElement = img as HTMLImageElement;\r\n      const rect = imgElement.getBoundingClientRect();\r\n      \r\n      // 화면에 보이지 않는 이미지이고 소스가 있는 경우\r\n      if ((rect.top < -window.innerHeight || rect.bottom > window.innerHeight * 2 ||\r\n           rect.left < -window.innerWidth || rect.right > window.innerWidth * 2) && \r\n          imgElement.src && !imgElement.src.startsWith('data:')) {\r\n        \r\n        // 원본 소스 저장\r\n        const originalSrc = imgElement.src;\r\n        imgElement.setAttribute('data-original-src', originalSrc);\r\n        \r\n        // 빈 이미지 또는 초소형 플레이스홀더로 대체\r\n        imgElement.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\r\n        \r\n        // 이미지가 다시 보이게 되면 복원하기 위한 Intersection Observer 설정\r\n        const observer = new IntersectionObserver((entries) => {\r\n          entries.forEach(entry => {\r\n            if (entry.isIntersecting) {\r\n              const targetImg = entry.target as HTMLImageElement;\r\n              const originalSrc = targetImg.getAttribute('data-original-src');\r\n              \r\n              if (originalSrc) {\r\n                targetImg.src = originalSrc;\r\n                targetImg.removeAttribute('data-original-src');\r\n                targetImg.setAttribute('data-optimized', 'restored');\r\n              }\r\n              \r\n              observer.disconnect();\r\n            }\r\n          });\r\n        }, { rootMargin: '200px' }); // 뷰포트 주변 200px 영역까지 고려\r\n        \r\n        observer.observe(imgElement);\r\n        imgElement.setAttribute('data-optimized', 'true');\r\n        optimizedCount++;\r\n      }\r\n    }\r\n    \r\n    if (optimizedCount > 0) {\r\n      console.log(`이미지 리소스 최적화 완료: ${optimizedCount}개 이미지 처리됨`);\r\n    }\r\n    \r\n    // 2. 초대형 캔버스 및 SVG 요소 처리\r\n    const heavyElements = document.querySelectorAll('canvas[width][height], svg[width][height]');\r\n    heavyElements.forEach(element => {\r\n      const width = parseInt(element.getAttribute('width') || '0');\r\n      const height = parseInt(element.getAttribute('height') || '0');\r\n      \r\n      // 너무 큰 캔버스/SVG가 메모리를 많이 차지할 수 있음\r\n      if (width * height > 1000000) { // 1M 픽셀 이상\r\n        if (!element.hasAttribute('data-optimized')) {\r\n          // 화면에 보이지 않을 때만 처리\r\n          const rect = element.getBoundingClientRect();\r\n          if (rect.top < -window.innerHeight || rect.bottom > window.innerHeight * 2) {\r\n            element.setAttribute('data-optimized', 'hidden');\r\n            // HTMLElement로 타입 캐스팅하여 style 속성에 접근\r\n            const htmlElement = element as HTMLElement;\r\n            htmlElement.setAttribute('data-original-display', htmlElement.style.display);\r\n            htmlElement.style.display = 'none';\r\n          }\r\n        }\r\n      }\r\n    });\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('이미지 리소스 최적화 오류:', error);\r\n    return false;\r\n  }\r\n}\r\n","'use client';\r\n\r\nimport React, { useState, useCallback, useEffect } from 'react';\r\nimport { TypingMonitor } from './TypingMonitor';\r\nimport { TypingChart } from './TypingChart';\r\nimport { TabNavigation } from './TabNavigation';\r\nimport { MainLayout } from './MainLayout';\r\nimport { DebugPanel } from './DebugPanel';\r\nimport { Settings } from './Settings'; \r\nimport RestartLoading from './RestartLoading';\r\nimport { useElectronApi } from '../hooks/useElectronApi';\r\nimport { useSettings } from '../hooks/useSettings';\r\nimport { useTypingStats } from '../hooks/useTypingStats';\r\nimport { useTabNavigation } from '../hooks/useTabNavigation';\r\nimport { useMemoryManagement } from '../hooks/useMemoryManagement';\r\nimport { useAutoHideHeader } from '../hooks/useAutoHideHeader';\r\nimport { optimizeImageResources } from '../utils/memory/image-optimizer';\r\nimport { useTheme } from './ThemeProvider';\r\nimport styles from './HomeContent.module.css';\r\n\r\n// LogEntry 타입 정의 추가\r\ninterface LogEntry {\r\n  id: number;\r\n  content: string;\r\n  key_count: number;\r\n  typing_time: number;\r\n  timestamp: string;\r\n  created_at: string;\r\n  is_saved?: boolean;\r\n  window_title?: string;\r\n  browser_name?: string;\r\n  total_chars?: number;\r\n  total_chars_no_space?: number;\r\n  total_words?: number;\r\n  pages?: number;\r\n  accuracy?: number;\r\n}\r\n\r\n// RestartLoadingData 인터페이스 추가\r\ninterface RestartLoadingData {\r\n  message?: string;\r\n  timeout?: number;\r\n}\r\n\r\nexport const HomeContent = React.memo(function HomeContent() {\r\n  // Electron API 초기화\r\n  const { electronAPI, api } = useElectronApi();\r\n  \r\n  // 설정 상태 관리\r\n  const { \r\n    settings, \r\n    darkMode, \r\n    windowMode,\r\n    handleSaveSettings, \r\n    handleDarkModeChange, \r\n    handleWindowModeChange \r\n  } = useSettings(electronAPI);\r\n  \r\n  // 사용하지 않는 함수에 _ 추가\r\n  const _loadSettings = async () => {\r\n    try {\r\n      if (electronAPI && electronAPI.loadSettings) {\r\n        const settings = await electronAPI.loadSettings();\r\n        \r\n        const completeSettings = {\r\n          enabledCategories: settings.enabledCategories || {\r\n            docs: true,\r\n            office: true,\r\n            coding: true,\r\n            sns: true\r\n          },\r\n          autoStartMonitoring: settings.autoStartMonitoring ?? true,\r\n          resumeAfterIdle: settings.resumeAfterIdle ?? true,\r\n          darkMode: settings.darkMode ?? false,\r\n          windowMode: settings.windowMode ?? 'windowed',\r\n          minimizeToTray: settings.minimizeToTray ?? true,\r\n          showTrayNotifications: settings.showTrayNotifications ?? true,\r\n          reduceMemoryInBackground: settings.reduceMemoryInBackground ?? true,\r\n          enableMiniView: settings.enableMiniView ?? true,\r\n          useHardwareAcceleration: settings.useHardwareAcceleration ?? false,\r\n          processingMode: settings.processingMode ?? 'auto',\r\n          maxMemoryThreshold: settings.maxMemoryThreshold ?? 100\r\n        };\r\n        \r\n        handleSaveSettings(completeSettings);\r\n        handleDarkModeChange(settings.darkMode);\r\n      }\r\n    } catch (error) {\r\n      console.error('설정 로드 중 오류:', error);\r\n    }\r\n  };\r\n\r\n  // 탭 관리\r\n  const { \r\n    activeTab, \r\n    debugMode, \r\n    handleTabChange, \r\n    toggleDebugMode \r\n  } = useTabNavigation({ \r\n    initialTab: 'monitor',\r\n    electronAPI: api\r\n  });\r\n  \r\n  // 자동 숨김 헤더 관리\r\n  const { isHeaderVisible } = useAutoHideHeader({\r\n    windowMode, \r\n    electronAPI\r\n  });\r\n  \r\n  // 타이핑 통계 관리 - 사용하지 않는 변수에 대한 구조 분해 할당 수정\r\n  const { \r\n    logs: typingLogs, \r\n    isLoading: _isLoading,  // _isLoading 속성이 아닌 isLoading에서 이름 변경\r\n    isTracking,\r\n    displayStats,\r\n    handleStartTracking,\r\n    handleStopTracking,\r\n    handleSaveStats,\r\n    currentStatsRef,\r\n    fetchLogs: _fetchLogs  // _fetchLogs 속성이 아닌 fetchLogs에서 이름 변경\r\n  } = useTypingStats(electronAPI);\r\n  \r\n  // 현재 표시할 로그 관리\r\n  const [currentLogs, setCurrentLogs] = useState<LogEntry[]>([]);\r\n  \r\n  // 메모리 관리 훅 사용 개선\r\n  const memoryManager = useMemoryManagement({\r\n    debugMode,\r\n    activeTab,\r\n    memoryThreshold: 100, \r\n    checkInterval: 30000, \r\n    onClearLogs: () => {\r\n      if (activeTab !== 'history' && activeTab !== 'stats' && activeTab !== 'chart') {\r\n        setCurrentLogs([]);\r\n        \r\n        try {\r\n          optimizeImageResources().catch((err: Error) => {\r\n            console.error('이미지 리소스 최적화 중 오류:', err);\r\n          });\r\n        } catch (err) {\r\n          console.error('이미지 최적화 실행 오류:', err);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // 컴포넌트 첫 로드 시 메모리 최적화 실행\r\n  useEffect(() => {\r\n    try {\r\n      if (window.__memoryOptimizer?.requestGC) {\r\n        window.__memoryOptimizer.requestGC(false).catch(err => {\r\n          console.error('메모리 최적화 오류:', err);\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('GC 요청 오류:', err);\r\n    }\r\n    \r\n    const imageOptimizationInterval = setInterval(() => {\r\n      optimizeImageResources().catch((err: Error) => {\r\n        console.error('이미지 리소스 최적화 주기 작업 중 오류:', err);\r\n      });\r\n    }, 300000);\r\n    \r\n    memoryManager.addInterval(imageOptimizationInterval);\r\n    \r\n    return () => {\r\n      memoryManager.clearIntervals();\r\n    };\r\n  }, [memoryManager]);\r\n\r\n  React.useEffect(() => {\r\n    if (typingLogs && typingLogs.length > 0) {\r\n      setCurrentLogs(typingLogs);\r\n    }\r\n  }, [typingLogs]);\r\n\r\n  const [isRestarting, setIsRestarting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!electronAPI) return;\r\n    \r\n    const unsubscribe = electronAPI.onShowRestartLoading?.((data: RestartLoadingData) => {\r\n      setIsRestarting(true);\r\n      \r\n      if (data.timeout) {\r\n        setTimeout(() => {\r\n          setIsRestarting(false);\r\n        }, data.timeout);\r\n      }\r\n    }) || (() => {});\r\n    \r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [electronAPI]);\r\n\r\n  const { isDarkMode } = useTheme();\r\n\r\n  const renderContent = useCallback(() => {\r\n    switch (activeTab) {\r\n      case 'monitor':\r\n        return (\r\n          <TypingMonitor\r\n            stats={displayStats}\r\n            isTracking={isTracking}\r\n            onStartTracking={handleStartTracking}\r\n            onStopTracking={handleStopTracking}\r\n            onSaveStats={handleSaveStats}\r\n          />\r\n        );\r\n      case 'stats':\r\n        return (\r\n          <React.Suspense fallback={<div>Loading chart...</div>}>\r\n            <TypingChart \r\n              logs={typingLogs}\r\n            />\r\n          </React.Suspense>\r\n        );\r\n      case 'settings':\r\n        return (\r\n          <div className=\"settings-tab-wrapper\" style={{\r\n            maxWidth: '100%', // 800px에서 100%로 변경하여 너비 확장\r\n            margin: '0 auto',\r\n            width: '100%'\r\n          }}>\r\n            <Settings\r\n              onSave={handleSaveSettings}\r\n              initialSettings={{\r\n                ...settings,\r\n                useTypingAnalysisGpuAcceleration: false,\r\n                showKeyCountInHeader: true, // 필요한 누락된 속성 추가\r\n                showRealtimeWPM: true,      // 필요한 누락된 속성 추가\r\n                enableSoundEffects: false,  // 필요한 누락된 속성 추가\r\n                enableAnimations: true,     // 필요한 누락된 속성 추가\r\n                useCompactUI: false         // 필요한 누락된 속성 추가\r\n              }}\r\n              darkMode={darkMode}\r\n              onDarkModeChange={handleDarkModeChange}\r\n              onWindowModeChange={handleWindowModeChange}\r\n            />\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }, [\r\n    activeTab, \r\n    displayStats, \r\n    isTracking, \r\n    handleStartTracking, \r\n    handleStopTracking, \r\n    handleSaveStats,\r\n    typingLogs,\r\n    settings, \r\n    darkMode, \r\n    handleDarkModeChange, \r\n    handleWindowModeChange,\r\n    handleSaveSettings\r\n  ]);\r\n\r\n  return (\r\n    <MainLayout \r\n      darkMode={darkMode}\r\n      windowMode={windowMode} \r\n      electronAPI={electronAPI}\r\n      isHeaderVisible={isHeaderVisible}\r\n    >\r\n      <RestartLoading \r\n        isVisible={isRestarting}\r\n        message=\"앱을 재시작하는 중입니다\"\r\n      />\r\n      \r\n      <TabNavigation\r\n        activeTab={activeTab}\r\n        onTabChange={handleTabChange}\r\n        onDebugToggle={toggleDebugMode}\r\n        debugMode={debugMode}\r\n      />\r\n      \r\n      <div className={`${styles.homeContent} ${isDarkMode ? styles.darkMode : ''}`}>\r\n        <div className={styles.section}>\r\n          <h2 className={styles.sectionTitle}>Loop 애플리케이션</h2>\r\n          <p className={styles.description}>\r\n            Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션입니다.\r\n          </p>\r\n          \r\n          {renderContent()}\r\n        </div>\r\n      </div>\r\n      \r\n      <DebugPanel\r\n        isVisible={debugMode}\r\n        stats={currentStatsRef.current}\r\n        logsCount={currentLogs.length}\r\n        isTracking={isTracking}\r\n        windowMode={windowMode}\r\n      />\r\n    </MainLayout>\r\n  );\r\n});\r\n\r\nexport default HomeContent;\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { TypingAnalyzer } from './TypingAnalyzer';\r\n\r\n// 타입 정의 추가\r\ninterface TypingStats {\r\n  keyCount: number;\r\n  typingTime: number;\r\n  totalChars: number;\r\n  totalWords: number;\r\n  accuracy: number;\r\n}\r\n\r\n// 일렉트론 API 타입 정의\r\ndeclare global {\r\n  interface Window {\r\n    electronAPI?: {\r\n      onStatsUpdate?: (callback: (newStats: TypingStats) => void) => () => void;\r\n      requestCurrentStats?: () => void;\r\n      getTrackingStatus?: () => Promise<boolean>;\r\n      toggleTracking?: () => Promise<boolean>;\r\n    };\r\n  }\r\n}\r\n\r\nexport default function TypingAnalyzerWrapper() {\r\n  // 기본값을 가진 상태 초기화\r\n  const [stats, setStats] = useState<TypingStats>({\r\n    keyCount: 0,\r\n    typingTime: 0,\r\n    totalChars: 0,\r\n    totalWords: 0,\r\n    accuracy: 0\r\n  });\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  // _isElectron으로 변경하여 ESLint 경고 제거\r\n  const [_isElectron, setIsElectron] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    // 일렉트론 API 존재 확인\r\n    const api = window.electronAPI;\r\n    const hasApi = !!api;\r\n    setIsElectron(hasApi);\r\n    \r\n    // 모의 데이터 생성 (일렉트론 API가 없을 때 사용)\r\n    if (!hasApi) {\r\n      // 브라우저 환경에서는 모의 데이터 사용\r\n      const mockStats: TypingStats = {\r\n        keyCount: 1250,\r\n        typingTime: 1800,\r\n        totalChars: 1050,\r\n        totalWords: 210,\r\n        accuracy: 98.5\r\n      };\r\n      \r\n      setStats(mockStats);\r\n      setIsTracking(true);\r\n      return;\r\n    }\r\n    \r\n    // 일렉트론 API가 있고 필요한 메서드가 있는 경우만 처리\r\n    try {\r\n      let cleanup: (() => void) | undefined;\r\n      \r\n      // onStatsUpdate 메서드가 있는지 확인\r\n      if (api.onStatsUpdate && typeof api.onStatsUpdate === 'function') {\r\n        cleanup = api.onStatsUpdate((newStats: TypingStats) => {\r\n          if (newStats) {\r\n            setStats(newStats);\r\n          }\r\n        });\r\n      }\r\n      \r\n      // requestCurrentStats 메서드가 있는지 확인\r\n      if (api.requestCurrentStats && typeof api.requestCurrentStats === 'function') {\r\n        api.requestCurrentStats();\r\n      }\r\n      \r\n      // getTrackingStatus 메서드가 있는지 확인\r\n      if (api.getTrackingStatus && typeof api.getTrackingStatus === 'function') {\r\n        api.getTrackingStatus()\r\n          .then((status: boolean) => {\r\n            setIsTracking(status);\r\n          })\r\n          .catch((err: any) => {\r\n            console.warn('추적 상태를 가져오는데 실패했습니다:', err);\r\n            setIsTracking(false);\r\n          });\r\n      }\r\n      \r\n      return () => {\r\n        if (cleanup && typeof cleanup === 'function') {\r\n          cleanup();\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('일렉트론 API 사용 중 오류 발생:', error);\r\n      \r\n      // 오류 발생 시 모의 데이터 사용\r\n      const fallbackStats: TypingStats = {\r\n        keyCount: 500,\r\n        typingTime: 600,\r\n        totalChars: 450,\r\n        totalWords: 90,\r\n        accuracy: 95.0\r\n      };\r\n      \r\n      setStats(fallbackStats);\r\n      setIsTracking(false);\r\n    }\r\n  }, []);\r\n  \r\n  // TypingAnalyzer 컴포넌트에 _isTracking 속성 사용 (대신 isTracking을 사용)\r\n  return <TypingAnalyzer stats={stats} _isTracking={isTracking} />;\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport HomeContent from './components/HomeContent';\r\nimport styles from './page.module.css';\r\nimport TypingAnalyzerWrapper from './components/TypingAnalyzerWrapper';\r\nimport { MainLayout } from './components/MainLayout';\r\n\r\n// 네이티브 모듈 테스트 컴포넌트 동적 임포트\r\nconst NativeModuleTest = dynamic(\r\n  () => import('./components/NativeModuleTest'),\r\n  { ssr: false }\r\n);\r\n\r\n// 'use client' 컴포넌트에서는 metadata를 export할 수 없으므로 제거\r\n// metadata는 layout.tsx로 이동\r\n\r\nexport default function Home() {\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // 컴포넌트 마운트 상태 추적\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  if (!mounted) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <main className={styles.main}>\r\n        <div className={styles.container}>\r\n          <h1 className={styles.title}>Loop</h1>\r\n          <p className={styles.description}>\r\n            Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션\r\n          </p>\r\n\r\n          {/* 기존 내용 유지 */}\r\n          <HomeContent />\r\n          <TypingAnalyzerWrapper />\r\n        </div>\r\n      </main>\r\n    </MainLayout>\r\n  );\r\n}"],"names":["PreloadChunks","moduleIds","Toast","message","type","duration","onClose","visible","setVisible","useState","useEffect","timer","setTimeout","clearTimeout","div","className","styles","span","ToastContext","createContext","undefined","ToastProvider","children","toast","setToast","Provider","value","showToast","useToast","context","useContext","console","warn","BailoutToCSR","reason","dynamic","dynamicOptions","options","mergedOptions","loadableOptions","loader","Loadable","modules","loadableGenerated","enhancedFetch","url","response","fetch","headers","error","getMemoryInfo","ok","status","json","success","Error","optimizeMemory","level","emergency","method","body","JSON","stringify","toString","forceGarbageCollection","data","statusText","window","gc","log","timestamp","Date","now","fallbackError","getGpuInfo","navigator","createFallbackGpuInfo","result","fetchError","webglAvailable","vendorInfo","canvas","document","createElement","gl","getContext","debugInfo","getExtension","vendor","getParameter","UNMASKED_VENDOR_WEBGL","renderer","UNMASKED_RENDERER_WEBGL","e","available","fallback","gpuInfo","name","accelerationEnabled","deviceType","driverVersion","fallbackReason","setGpuAcceleration","enable","requestBody","enabled","performGpuComputation","computationType","convertModule","mod","default","hasDefault","defaultOptions","Promise","resolve","loading","ssr","opts","Lazy","lazy","then","Loading","LoadableComponent","props","fallbackElement","isLoading","pastDelay","hasSuspenseBoundary","Wrap","Suspense","Fragment","wrapProps","displayName","formatTime","seconds","minutes","Math","floor","remainingSeconds","hours","remainingMinutes","getAverageSpeed","keyCount","time","round","TypingMonitor","React","browserCheckResultRef","stats","isTracking","onStartTracking","onStopTracking","onSaveStats","description","setDescription","lastAction","setLastAction","activeWebsiteTab","setActiveWebsiteTab","activeStatsTab","setActiveStatsTab","checkBrowserInfo","useCallback","electronAPI","getCurrentBrowserInfo","current","info","interval","setInterval","clearInterval","handleDescriptionChange","target","handleSave","handleToggleTracking","handleWebsiteTabChange","tab","handleStatsTabChange","websiteTabContent","useMemo","a","href","rel","statsTabContent","toLocaleString","typingTime","pages","toFixed","totalWords","totalChars","totalCharsNoSpace","accuracy","h2","button","onClick","strong","h3","browserName","isGoogleDocs","title","windowTitle","substring","length","p","textarea","onChange","placeholder","rows","disabled","trim","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","filterLogsForChart","sevenDaysAgo","setDate","getDate","logs","filter","slice","TypingChart","isDarkMode","setIsDarkMode","chartRefs","useRef","isMountedRef","checkDarkMode","documentElement","isDark","classList","contains","handleDarkModeChange","event","detail","darkMode","addEventListener","observer","MutationObserver","observe","attributes","attributeFilter","disconnect","removeEventListener","forEach","chart","destroy","filteredLogs","Array","isArray","getChartOptions","responsive","maintainAspectRatio","animation","elements","point","radius","hoverRadius","line","tension","devicePixelRatio","plugins","legend","position","labels","color","font","size","display","text","weight","tooltip","backgroundColor","titleColor","bodyColor","borderColor","borderWidth","callbacks","label","raw","scales","x","ticks","maxTicksLimit","grid","y","tickLength","chartData","keyCountData","timeData","speedData","wordData","charData","dataMap","Map","i","parse","date","toLocaleDateString","has","set","totalKeyCount","totalTime","get","key_count","typing_time","contentLength","content","ceil","sortedDates","from","keys","sort","b","getTime","map","parts","split","d","createChartData","bgColor","datasets","pointBackgroundColor","fill","speedChartData","shouldRenderCharts","setShouldRenderCharts","setChartRef","instance","push","Line","redraw","ref","Bar","TabNavigation","memo","activeTab","onTabChange","onDebugToggle","debugMode","style","pointerEvents","ClientSideControls","ThemeContext","theme","toggleTheme","setDarkMode","useTheme","safeLocalStorage","getItem","localStorage","key","setItem","getAppSettings","savedSettings","saveAppSettings","newSettings","currentSettings","settings","applyCSSVariables","root","setProperty","ThemeProvider","setTheme","isInitialized","setIsInitialized","themeChangeRef","applyDarkModeCSS","add","remove","catch","hasSavedSettings","savedMode","systemDarkMode","matchMedia","matches","loadElectronSettings","getDarkMode","darkModeEnabled","darkModeMediaQuery","handleColorSchemeChange","handleBeforeUnload","MainLayout","windowMode","main","height","overflow","padding","DebugPanel","isVisible","logsCount","ConfirmDialog","isOpen","onConfirm","onCancel","confirmText","cancelText","handleKeyDown","aria-label","autoFocus","settingsType","SaveConfirmDialog","InfoTooltip","showTooltip","setShowTooltip","tooltipRef","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","Settings","initialSettings","onSave","onDarkModeChange","onWindowModeChange","setSettings","enabledCategories","docs","office","coding","sns","autoStartMonitoring","minimizeToTray","showTrayNotifications","reduceMemoryInBackground","enableMiniView","useHardwareAcceleration","useTypingAnalysisGpuAcceleration","processingMode","maxMemoryThreshold","resumeAfterIdle","showKeyCountInHeader","showRealtimeWPM","enableSoundEffects","enableAnimations","useCompactUI","needsRestart","setNeedsRestart","showSaveConfirm","setShowSaveConfirm","setActiveTab","apiDebugInfo","setApiDebugInfo","showDebugInfo","setShowDebugInfo","prevSettings","prev","handleCategoryToggle","category","handleWindowModeChange","mode","setWindowMode","handleSettingChange","handleToggleSetting","newValue","handleTypingAnalysisGpuToggle","handleRestartClick","apiInfo","Object","join","restartApp","showRestartPrompt","electron","String","input","checked","handleAutoStartToggle","handleDarkModeToggle","h4","handleMiniViewToggle","small","handleHardwareAccelerationToggle","handleReduceMemoryToggle","htmlFor","id","min","max","step","parseInt","marginBottom","handleSaveSettings","confirmSaveSettings","hasSettingChanges","confirm","cancelSaveSettings","RestartLoading","dots","setDots","progress","setProgress","dotsInterval","progressInterval","width","applyDarkModeToAllElements","querySelectorAll","el","defaultSettings","optimizeImageResources","images","optimizedCount","img","rect","getBoundingClientRect","top","innerHeight","bottom","left","innerWidth","right","imgElement","src","startsWith","originalSrc","setAttribute","IntersectionObserver","entries","entry","isIntersecting","targetImg","getAttribute","removeAttribute","rootMargin","element","hasAttribute","htmlElement","HomeContent","api","useElectronApi","useSettings","loadSettings","loadedSettings","storedSettings","parsedSettings","storageError","hasChanges","saveSettings","CustomEvent","dispatchEvent","handleTabChange","toggleDebugMode","useTabNavigation","initialTab","setDebugMode","isHeaderVisible","useAutoHideHeader","setIsHeaderVisible","autoHideTimeoutRef","isAutoHideMode","windowControl","handleMouseMove","clientY","passive","capture","setHeaderVisibility","typingLogs","_isLoading","displayStats","handleStartTracking","handleStopTracking","handleSaveStats","currentStatsRef","fetchLogs","_fetchLogs","useTypingStats","setLogs","setIsLoading","setIsTracking","setError","eventsCleanupRef","intervalsRef","setDisplayStats","updateInterval","startTracking","stopTracking","limit","MAX_LOGS_TO_LOAD","contentType","includes","optimizedLogs","created_at","window_title","browser_name","total_chars","total_words","saveToDatabase","record","saveStats","recordData","toISOString","initializeEventListeners","cleanupFunctions","onTypingStatsUpdate","cleanup","onStatsSaved","currentLogs","setCurrentLogs","memoryManager","useMemoryManagement","checkInterval","memoryThreshold","onClearLogs","memoryWarningShownRef","lastCleanupTimeRef","checkMemoryUsage","performance","memory","memoryInfo","usedHeapSize","usedJSHeapSize","totalHeapSize","totalJSHeapSize","percentUsed","CLEANUP_COOLDOWN","__memoryOptimizer","memoryCheckInterval","handleVisibilityChange","visibilityState","cleanupMemory","addInterval","clearIntervals","err","requestGC","imageOptimizationInterval","isRestarting","setIsRestarting","unsubscribe","onShowRestartLoading","timeout","renderContent","maxWidth","margin","TypingAnalyzerWrapper","setStats","_isElectron","setIsElectron","hasApi","mockStats","onStatsUpdate","newStats","requestCurrentStats","getTrackingStatus","fallbackStats","TypingAnalyzer","_isTracking","Home","mounted","setMounted","h1"],"sourceRoot":"","ignoreList":[8,10,16,19]}