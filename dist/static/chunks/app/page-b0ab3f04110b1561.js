(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{255:(e,t,n)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),n(5155),n(7650),n(5744),n(589)},753:e=>{e.exports={monitorContainer:"TypingMonitor_monitorContainer__ER1LM",controlPanel:"TypingMonitor_controlPanel__mnPAg",startButton:"TypingMonitor_startButton__6Kfxe",stopButton:"TypingMonitor_stopButton__KAJ8v",saveButton:"TypingMonitor_saveButton__WglP8",statsPanel:"TypingMonitor_statsPanel__hOEWj",statItem:"TypingMonitor_statItem__uJud3",statLabel:"TypingMonitor_statLabel___96yv",statValue:"TypingMonitor_statValue__Gutae",saveSection:"TypingMonitor_saveSection__KoLn9",descriptionInput:"TypingMonitor_descriptionInput__B_Lx7",helpSection:"TypingMonitor_helpSection__JbpyP",statusIndicator:"TypingMonitor_statusIndicator__kULxH",indicator:"TypingMonitor_indicator__z3RHP",active:"TypingMonitor_active__hioKY",pulse:"TypingMonitor_pulse__PJDcF",googleDocsLink:"TypingMonitor_googleDocsLink__sa_xR",websiteTabs:"TypingMonitor_websiteTabs__RgoMF",websiteTabHeader:"TypingMonitor_websiteTabHeader__V_y3l",websiteTabButton:"TypingMonitor_websiteTabButton__rXPP4",activeWebsiteTab:"TypingMonitor_activeWebsiteTab__niDOn",websiteTabContent:"TypingMonitor_websiteTabContent__RBMcj",websiteLinks:"TypingMonitor_websiteLinks__3vAID",websiteLink:"TypingMonitor_websiteLink__lqd9U",actionFeedback:"TypingMonitor_actionFeedback__VPiGl",fadeIn:"TypingMonitor_fadeIn__BRcC2",browserStatus:"TypingMonitor_browserStatus__b4rGV",browserInfo:"TypingMonitor_browserInfo__w3N_l",browserRow:"TypingMonitor_browserRow__27uT0",browserValue:"TypingMonitor_browserValue__cu5JE",detectedBadge:"TypingMonitor_detectedBadge__iDUgv",notDetectedBadge:"TypingMonitor_notDetectedBadge__EtIo1",browserList:"TypingMonitor_browserList__JrDTA",browserColumn:"TypingMonitor_browserColumn__EOGEk",trackingButton:"TypingMonitor_trackingButton__szR9V",trackingActive:"TypingMonitor_trackingActive__eHDsS",monitorHeader:"TypingMonitor_monitorHeader__yUhAy",container:"TypingMonitor_container__TzhrN",contentWrapper:"TypingMonitor_contentWrapper__PPmCK",leftPanel:"TypingMonitor_leftPanel__FJhBH",rightPanel:"TypingMonitor_rightPanel__DQxqP",statsTabs:"TypingMonitor_statsTabs__BFC0M",statsTabButton:"TypingMonitor_statsTabButton__PM_Rt",activeStatsTab:"TypingMonitor_activeStatsTab__rEAV4",statsTabContent:"TypingMonitor_statsTabContent__RAlml",statsGroup:"TypingMonitor_statsGroup__eqddv",statCard:"TypingMonitor_statCard__qVky4"}},773:(e,t,n)=>{"use strict";n.d(t,{t:()=>l,d:()=>d});var a=n(5155),s=n(2115),o=n(5821),r=n.n(o);function i(e){let{message:t,type:n,duration:o=3e3,onClose:i}=e,[c,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{l(!1),i&&i()},o);return()=>clearTimeout(e)},[o,i]),c?(0,a.jsx)("div",{className:"".concat(r().toast," ").concat(r()[n]),children:(0,a.jsx)("span",{className:r().message,children:t})}):null}let c=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[n,o]=(0,s.useState)(null);return(0,a.jsxs)(c.Provider,{value:{showToast:(e,t)=>{o({message:e,type:t}),setTimeout(()=>{o(null)},3e3)}},children:[t,n&&(0,a.jsx)(i,{message:n.message,type:n.type,onClose:()=>o(null)})]})}let d=()=>{let e=(0,s.useContext)(c);return void 0===e?{showToast:(e,t)=>{console.warn("ToastProvider가 설정되지 않았습니다:",e)}}:e}},2146:(e,t,n)=>{"use strict";function a(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),n(5262)},2147:e=>{e.exports={chartContainer:"TypingChart_chartContainer__Xxoiu",charts:"TypingChart_charts__fz60g",chartItem:"TypingChart_chartItem__CNTM_",chartWrapper:"TypingChart_chartWrapper__1KDYX",noData:"TypingChart_noData__zjjvx"}},2335:e=>{e.exports={settingsContainer:"Settings_settingsContainer__0SxHP",darkMode:"Settings_darkMode__a5VLX",settingsLayout:"Settings_settingsLayout__AhsXc",settingsTabs:"Settings_settingsTabs__rbo3s",settingsContent:"Settings_settingsContent__WWkgP",tabContent:"Settings_tabContent__tyrL8",tabButton:"Settings_tabButton__LwWsw",activeTab:"Settings_activeTab__IamTX",settingSection:"Settings_settingSection__XwrF7",settingGrid:"Settings_settingGrid__B8uYm",toggleGrid:"Settings_toggleGrid__Tt89I",categoryToggles:"Settings_categoryToggles__HQHhT",toggleItem:"Settings_toggleItem___q_0D",toggleLabel:"Settings_toggleLabel__8fIJv",settingGroup:"Settings_settingGroup___gjRv",settingRow:"Settings_settingRow__WD9zX",radioGroup:"Settings_radioGroup__QGEGo",radioLabel:"Settings_radioLabel__Iog9l",radioText:"Settings_radioText__hi7nW",selectLabel:"Settings_selectLabel__p8LXx",selectControl:"Settings_selectControl__Wv09K",numberInput:"Settings_numberInput__hKIK9",buttonRow:"Settings_buttonRow__7DE_2",saveButton:"Settings_saveButton__hOtLB",disabledNote:"Settings_disabledNote__pj8Vq",settingDescription:"Settings_settingDescription__uTSPW",settingSectionTitle:"Settings_settingSectionTitle__7AAKi",highlightedSetting:"Settings_highlightedSetting__nv197",restartNotice:"Settings_restartNotice__7IuFo",restartButton:"Settings_restartButton__W35gK",buttonGroup:"Settings_buttonGroup__INZRh",debugButton:"Settings_debugButton__fDkOc",debugInfo:"Settings_debugInfo__oW81q",infoIcon:"Settings_infoIcon__ZdJw4",tooltip:"Settings_tooltip__ByqrZ",show:"Settings_show__A77K4",tooltipArrow:"Settings_tooltipArrow__nXaFe",settingItem:"Settings_settingItem__rllCH",settingLabel:"Settings_settingLabel__7bLGD",settingControl:"Settings_settingControl__8o6yL",rangeSlider:"Settings_rangeSlider__P5Kf6",rangeLabel:"Settings_rangeLabel__v4Egm",rangeItem:"Settings_rangeItem__ZYQkW",disabledMessage:"Settings_disabledMessage__88H9y",analysisStats:"Settings_analysisStats__dujwc",statsDescription:"Settings_statsDescription__hjLpw",statItems:"Settings_statItems__633pW",statItem:"Settings_statItem__u5qPd",statLabel:"Settings_statLabel__2ivZ5",statValue:"Settings_statValue___GGL0",compactUI:"Settings_compactUI__uuPPM"}},3252:e=>{e.exports={overlay:"ConfirmDialog_overlay__XcVfx",dialog:"ConfirmDialog_dialog__CZkp6",fadeIn:"ConfirmDialog_fadeIn____2_q",header:"ConfirmDialog_header__TwDKK",info:"ConfirmDialog_info__c4R3u",warning:"ConfirmDialog_warning__CAxfo",error:"ConfirmDialog_error__1lLKt",success:"ConfirmDialog_success__4OJVN",closeButton:"ConfirmDialog_closeButton__xqxS2",content:"ConfirmDialog_content__DjEqW",message:"ConfirmDialog_message__e3Avu",actions:"ConfirmDialog_actions___hCeq",button:"ConfirmDialog_button__4hdj9",cancelButton:"ConfirmDialog_cancelButton__jtlqe",confirmButton:"ConfirmDialog_confirmButton__qHQyl",warningButton:"ConfirmDialog_warningButton__NGvq4",errorButton:"ConfirmDialog_errorButton__vhkIj",successButton:"ConfirmDialog_successButton__ZgRV9",darkMode:"ConfirmDialog_darkMode__GApyi"}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return r},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return i}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return s?new s:new a}function r(e){return s?s.bind(e):a.bind(e)}function i(){return s?s.snapshot():function(e,...t){return e(...t)}}},5375:e=>{e.exports={overlay:"RestartLoading_overlay__xTGoM",loadingContainer:"RestartLoading_loadingContainer__fs5qH",spinner:"RestartLoading_spinner__pt5Mz",spin:"RestartLoading_spin__IcW5Z",title:"RestartLoading_title__0PqQH",progressContainer:"RestartLoading_progressContainer__fWgDe",progressBar:"RestartLoading_progressBar__MFOGS",note:"RestartLoading_note__iqeE6"}},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=n(7828)},5821:e=>{e.exports={toast:"Toast_toast__n4V9V",fadeIn:"Toast_fadeIn__8co0A",fadeOut:"Toast_fadeOut__PBTbC",success:"Toast_success__n3sBF",error:"Toast_error__vTefu",info:"Toast_info__iczaj",warning:"Toast_warning__u1w7_",message:"Toast_message__Ivwz3"}},6645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=n(8229)._(n(7357));function s(e,t){var n;let s={};"function"==typeof e&&(s.loader=e);let o={...s,...t};return(0,a.default)({...o,modules:null==(n=o.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7026:e=>{e.exports={homeContent:"HomeContent_homeContent__jZ_K_",darkMode:"HomeContent_darkMode__uK4L2",section:"HomeContent_section__hVGXB",sectionTitle:"HomeContent_sectionTitle__CzvG8",description:"HomeContent_description__5NY6r",themeSection:"HomeContent_themeSection__jOkZs",subsectionTitle:"HomeContent_subsectionTitle__QdR5C",themeToggleContainer:"HomeContent_themeToggleContainer__lPJ9F",themeLabel:"HomeContent_themeLabel__NFs8T",themeToggleMain:"HomeContent_themeToggleMain__78GJ7",themeDescription:"HomeContent_themeDescription__nFQEb"}},7339:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>i,Os:()=>s,du:()=>o,hT:()=>r,pT:()=>l,xz:()=>d});async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}})}catch(t){throw console.error("Fetch 요청 실패 (".concat(e,"):"),t),t}}async function s(){try{let e=await a("/api/native/memory");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){return console.error("메모리 정보 가져오기 실패:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let n=await a("/api/native/memory",{method:"PUT",body:JSON.stringify({type:"optimize",level:e.toString(),emergency:t})});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(e){return console.error("메모리 최적화 실패:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function r(){try{let e=JSON.stringify({type:"gc"});try{let t=await a("/api/native/memory",{method:"POST",body:e});if(t.ok)return await t.json();console.warn("POST 메서드 실패, PUT 메서드로 다시 시도합니다.")}catch(e){console.warn("POST 메서드 실패, PUT 메서드로 다시 시도합니다.",e)}let t=await a("/api/native/memory",{method:"PUT",body:e});if(!t.ok)throw console.error("가비지 컬렉션 요청 실패: ".concat(t.status," ").concat(t.statusText)),Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){console.error("가비지 컬렉션 실패:",e);try{if("function"==typeof window.gc)return window.gc(),console.log("브라우저 GC 폴백 사용"),{success:!0,message:"브라우저 GC 폴백으로 실행됨",timestamp:Date.now()}}catch(e){console.warn("브라우저 GC 폴백도 실패:",e)}return{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function i(){try{if(!window.navigator)return c("navigator 객체를 사용할 수 없음");try{let e=await a("/api/native/gpu");if(!e.ok)return console.warn("GPU 정보 요청 실패: ".concat(e.status,". 폴백 GPU 정보 반환")),c("API 응답 오류: ".concat(e.status));let t=await e.json();if(t&&t.success)return t;return console.warn("GPU 정보 요청은 성공했지만 유효한 데이터가 없습니다. 폴백 정보 반환",t),c("유효하지 않은 응답 데이터")}catch(e){return console.error("GPU 정보 요청 중 오류:",e),c(e instanceof Error?e.message:"네트워크 오류")}}catch(e){return console.error("GPU 정보 가져오기 처리 중 예상치 못한 오류:",e),c("예상치 못한 오류")}}function c(e){let t=!1,n="알 수 없음";try{{let e=document.createElement("canvas"),a=e.getContext("webgl")||e.getContext("experimental-webgl");if(a){t=!0;let e=a.getExtension("WEBGL_debug_renderer_info");if(e){let t=a.getParameter(e.UNMASKED_VENDOR_WEBGL)||"알 수 없음",s=a.getParameter(e.UNMASKED_RENDERER_WEBGL)||"알 수 없음";n="".concat(t," (").concat(s,")")}}}}catch(e){console.warn("WebGL 지원 확인 중 오류:",e)}return{success:!0,available:t,fallback:!0,gpuInfo:{name:"브라우저 폴백",vendor:n,available:t,accelerationEnabled:!1,deviceType:"Software",driverVersion:"폴백 구현",fallbackReason:e},timestamp:Date.now()}}async function l(e){try{let t=JSON.stringify({enable:e}),n=await a("/api/native/gpu/acceleration",{method:"PUT",body:t});if(!n.ok)throw Error("GPU 가속 설정 요청 실패: ".concat(n.status));return await n.json()}catch(e){return console.error("GPU 가속 설정 오류:",e),{success:!1,enabled:!1,result:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function d(e,t){try{let n=JSON.stringify({data:e,computationType:t}),s=await a("/api/native/gpu",{method:"POST",body:n});if(!s.ok)throw Error("GPU 계산 요청 실패: ".concat(s.status));return await s.json()}catch(e){return console.error("GPU 계산 오류:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}},7357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=n(5155),s=n(2115),o=n(2146);function r(e){return{default:e&&"default"in e?e.default:e}}n(255);let i={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},n=(0,s.lazy)(()=>t.loader().then(r)),c=t.loading;function l(e){let r=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,l=i?s.Suspense:s.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(n,{...e})]}):(0,a.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...e})});return(0,a.jsx)(l,{...i?{fallback:r}:{},children:d})}return l.displayName="LoadableComponent",l}},7828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,n(4054).createAsyncLocalStorage)()},8334:e=>{e.exports={appContainer:"page_appContainer__p4TtA",mainContent:"page_mainContent__51TpB",appContent:"page_appContent__VvQm4",appTabs:"page_appTabs__dehwV",tabButton:"page_tabButton__stR9X",activeTab:"page_activeTab__kgdSK",typingContainer:"page_typingContainer__Ltx96",statsContainer:"page_statsContainer__15RXV",historyContainer:"page_historyContainer__PhcIa",monitorContainer:"page_monitorContainer__nzoP_",debugButton:"page_debugButton__OpmNi",debugActive:"page_debugActive__1OXf0",debugPanel:"page_debugPanel__3hMsI",debugPanelBottom:"page_debugPanelBottom__KC93m",debugInfo:"page_debugInfo__i9tMu",zenMode:"page_zenMode__IMTVJ",headerDetectionArea:"page_headerDetectionArea__Mg4up",navLinks:"page_navLinks__3Mchl",navLink:"page_navLink__2S7dD","dark-mode":"page_dark-mode__8RLxf",sectionContainer:"page_sectionContainer__RYMeh",themeSection:"page_themeSection__GgLK9"}},9545:(e,t,n)=>{Promise.resolve().then(n.bind(n,9731))},9731:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Y});var a=n(5155),s=n(2115),o=n(6645),r=n.n(o),i=n(753),c=n.n(i);let l=e=>{if(e<60)return"".concat(e,"초");let t=Math.floor(e/60),n=e%60;if(t<60)return"".concat(t,"분 ").concat(n,"초");let a=Math.floor(t/60);return"".concat(a,"시간 ").concat(t%60,"분 ").concat(n,"초")},d=(e,t)=>t<=0?"0 타/분":"".concat(Math.round(e/t*60)," 타/분"),u=s.memo(function(e){var t,n,o,r,i;let{stats:u,isTracking:m,onStartTracking:g,onStopTracking:h,onSaveStats:p}=e,[_,b]=(0,s.useState)(""),[w,f]=(0,s.useState)(""),[v,y]=(0,s.useState)("docs"),[x,j]=(0,s.useState)("typing"),k=s.useRef(null),C=(0,s.useCallback)(async()=>{var e;if(null===(e=window.electronAPI)||void 0===e?void 0:e.getCurrentBrowserInfo)try{k.current=await window.electronAPI.getCurrentBrowserInfo()}catch(e){console.error("브라우저 정보 확인 오류:",e)}},[]);(0,s.useEffect)(()=>{if(m){C();let e=setInterval(C,3e4);return()=>clearInterval(e)}},[m,C]);let N=(0,s.useCallback)(e=>{b(e.target.value)},[]),T=(0,s.useCallback)(()=>{p(_),b(""),f("저장됨"),setTimeout(()=>{f("")},2e3)},[_,p]),S=(0,s.useCallback)(()=>{m?h():g()},[m,g,h]),M=(0,s.useCallback)(e=>{y(e)},[]),L=(0,s.useCallback)(e=>{j(e)},[]),I=(0,s.useMemo)(()=>{switch(v){case"docs":return(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://docs.google.com/document/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 문서 열기"}),(0,a.jsx)("a",{href:"https://docs.google.com/spreadsheets/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 스프레드시트 열기"}),(0,a.jsx)("a",{href:"https://docs.google.com/presentation/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 프레젠테이션 열기"}),(0,a.jsx)("a",{href:"https://www.notion.so/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Notion 열기"})]});case"office":return(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://www.office.com/launch/word",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Word 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.office.com/launch/excel",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Excel 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.office.com/launch/powerpoint",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"PowerPoint 온라인 열기"}),(0,a.jsx)("a",{href:"https://www.hancom.com/main/main.do",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"한글과컴퓨터 열기"})]});case"coding":return(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitHub 열기"}),(0,a.jsx)("a",{href:"https://gitlab.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitLab 열기"}),(0,a.jsx)("a",{href:"https://codesandbox.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodeSandbox 열기"}),(0,a.jsx)("a",{href:"https://codepen.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodePen 열기"})]});case"sns":return(0,a.jsxs)("div",{className:c().websiteLinks,children:[(0,a.jsx)("a",{href:"https://slack.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Slack 열기"}),(0,a.jsx)("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Discord 열기"}),(0,a.jsx)("a",{href:"https://www.messenger.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Messenger 열기"}),(0,a.jsx)("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Gmail 열기"})]});default:return null}},[v]),P=(0,s.useMemo)(()=>{var e,t,n,s;switch(x){case"typing":return(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"타자 수"}),(0,a.jsx)("div",{className:c().statValue,children:u.keyCount.toLocaleString()})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"타이핑 시간"}),(0,a.jsx)("div",{className:c().statValue,children:l(u.typingTime)})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"평균 속도"}),(0,a.jsx)("div",{className:c().statValue,children:d(u.keyCount,u.typingTime)})]})]});case"document":return(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"페이지 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(e=u.pages)||void 0===e?void 0:e.toFixed(1))||"0.0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"단어 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(t=u.totalWords)||void 0===t?void 0:t.toLocaleString())||"0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"글자 수"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(n=u.totalChars)||void 0===n?void 0:n.toLocaleString())||"0"})]})]});case"accuracy":return(0,a.jsxs)("div",{className:c().statsGroup,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"글자 수 (공백 제외)"}),(0,a.jsx)("div",{className:c().statValue,children:(null===(s=u.totalCharsNoSpace)||void 0===s?void 0:s.toLocaleString())||"0"})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"정확도"}),(0,a.jsxs)("div",{className:c().statValue,children:[u.accuracy||100,"%"]})]})]});default:return null}},[x,u]);return(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsxs)("div",{className:c().monitorHeader,children:[(0,a.jsx)("h2",{children:"타이핑 모니터링"}),(0,a.jsx)("button",{className:"".concat(c().trackingButton," ").concat(m?c().trackingActive:""),onClick:S,children:m?"모니터링 중지":"모니터링 시작"})]}),(0,a.jsxs)("div",{className:c().statusIndicator,children:[(0,a.jsx)("div",{className:"".concat(c().indicator," ").concat(m?c().active:"")}),(0,a.jsxs)("span",{children:["모니터링 상태: ",(0,a.jsx)("strong",{children:m?"활성화":"비활성화"})]}),w&&(0,a.jsx)("div",{className:c().actionFeedback,children:w})]}),(0,a.jsxs)("div",{className:c().contentWrapper,children:[(0,a.jsxs)("div",{className:c().leftPanel,children:[(0,a.jsxs)("div",{className:c().browserStatus,children:[(0,a.jsx)("h3",{children:"브라우저 상태"}),(0,a.jsxs)("div",{className:c().browserInfo,children:[(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"감지된 브라우저:"}),(0,a.jsx)("span",{className:c().browserValue,children:u.browserName||(null===(t=k.current)||void 0===t?void 0:t.name)||"없음"})]}),(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"구글 문서 감지:"}),(0,a.jsx)("span",{className:c().browserValue,children:(null===(n=k.current)||void 0===n?void 0:n.isGoogleDocs)?(0,a.jsx)("span",{className:c().detectedBadge,children:"감지됨 ✓"}):(0,a.jsx)("span",{className:c().notDetectedBadge,children:"아님 ⨯"})})]}),(0,a.jsxs)("div",{className:c().browserRow,children:[(0,a.jsx)("span",{children:"현재 창:"}),(0,a.jsxs)("span",{className:c().browserValue,title:u.windowTitle||(null===(o=k.current)||void 0===o?void 0:o.title)||"",children:[(u.windowTitle||(null===(r=k.current)||void 0===r?void 0:r.title)||"없음").substring(0,60),(u.windowTitle||(null===(i=k.current)||void 0===i?void 0:i.title)||"").length>60?"...":""]})]})]})]}),(0,a.jsxs)("div",{className:c().websiteTabs,children:[(0,a.jsxs)("div",{className:c().websiteTabHeader,children:[(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("docs"===v?c().activeWebsiteTab:""),onClick:()=>M("docs"),children:"구글 문서"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("office"===v?c().activeWebsiteTab:""),onClick:()=>M("office"),children:"오피스"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("coding"===v?c().activeWebsiteTab:""),onClick:()=>M("coding"),children:"코딩"}),(0,a.jsx)("button",{className:"".concat(c().websiteTabButton," ").concat("sns"===v?c().activeWebsiteTab:""),onClick:()=>M("sns"),children:"SNS/메신저"})]}),(0,a.jsx)("div",{className:c().websiteTabContent,children:I})]})]}),(0,a.jsxs)("div",{className:c().rightPanel,children:[(0,a.jsxs)("div",{className:c().statsTabs,children:[(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("typing"===x?c().activeStatsTab:""),onClick:()=>L("typing"),children:"타이핑 정보"}),(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("document"===x?c().activeStatsTab:""),onClick:()=>L("document"),children:"문서 정보"}),(0,a.jsx)("button",{className:"".concat(c().statsTabButton," ").concat("accuracy"===x?c().activeStatsTab:""),onClick:()=>L("accuracy"),children:"정확도 & 속도"})]}),(0,a.jsx)("div",{className:c().statsTabContent,children:P}),(0,a.jsxs)("div",{className:c().saveSection,children:[(0,a.jsx)("h3",{children:"세션 저장"}),(0,a.jsx)("p",{children:"작업한 내용에 대한 설명을 입력하세요"}),(0,a.jsx)("textarea",{className:c().descriptionInput,value:_,onChange:N,placeholder:"작업 내용 (예: 보고서 작성, 논문 작성 등)",rows:4}),(0,a.jsx)("button",{className:c().saveButton,onClick:T,disabled:0===u.keyCount||!_.trim(),children:"통계 저장"})]})]})]})]})});var m=n(2502),g=n(4065),h=n(2147),p=n.n(h);m.t1.register(m.PP,m.kc,m.FN,m.No,m.E8,m.hE,m.m_,m.s$);let _=e=>{let t=new Date;return t.setDate(t.getDate()-7),e.filter(e=>new Date(e.timestamp)>=t).slice(0,50)},b=s.memo(function(e){let{logs:t}=e,[n,o]=(0,s.useState)(!1),r=(0,s.useRef)([]),i=(0,s.useRef)(!0);(0,s.useEffect)(()=>{let e=()=>{o(document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode"))};e();let t=e=>{o(e.detail.darkMode)};window.addEventListener("darkmode-changed",t);let n=new MutationObserver(e);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),n.observe(document.body,{attributes:!0,attributeFilter:["class"]}),i.current=!0,()=>{if(i.current=!1,n.disconnect(),window.removeEventListener("darkmode-changed",t),r.current.forEach(e=>{e&&e.destroy&&e.destroy()}),window.gc)try{window.gc()}catch(e){console.log("GC 호출 실패")}}},[]);let c=(0,s.useMemo)(()=>{try{if(!Array.isArray(t))return console.warn("유효하지 않은 로그 데이터:",t),[];return _(t)}catch(e){return console.error("로그 필터링 중 오류:",e),[]}},[t]),l=(0,s.useCallback)(e=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{point:{radius:2,hoverRadius:4},line:{tension:0}},devicePixelRatio:1,plugins:{legend:{position:"top",labels:{color:n?"#E0E0E0":"#333",font:{size:11}}},title:{display:!0,text:e,color:n?"#E0E0E0":"#333",font:{size:12,weight:"normal"}},tooltip:{enabled:!0,backgroundColor:n?"rgba(30, 30, 30, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:n?"#E0E0E0":"#333",bodyColor:n?"#B0B0B0":"#666",borderColor:n?"#303030":"#ddd",borderWidth:1,callbacks:{label:function(e){return e.raw}}}},scales:{x:{ticks:{color:n?"#B0B0B0":"#666",maxTicksLimit:7,font:{size:10}},grid:{color:n?"rgba(60, 60, 60, 0.3)":"rgba(0, 0, 0, 0.1)",display:!1}},y:{ticks:{color:n?"#B0B0B0":"#666",font:{size:10}},grid:{color:n?"rgba(60, 60, 60, 0.3)":"rgba(0, 0, 0, 0.1)",tickLength:5}}}}),[n]),d=(0,s.useMemo)(()=>{try{if(!Array.isArray(c)||0===c.length)return{labels:[],keyCountData:[],timeData:[],speedData:[],wordData:[],charData:[]};let t=new Map;for(let n=0;n<c.length;n++){var e;let a=c[n];if(!a||"object"!=typeof a||!a.timestamp||!Date.parse(a.timestamp))continue;let s=new Date(a.timestamp).toLocaleDateString();t.has(s)||t.set(s,{totalKeyCount:0,totalTime:0,totalChars:0,totalWords:0});let o=t.get(s);o.totalKeyCount+=a.key_count||0,o.totalTime+=a.typing_time||0;let r=(null===(e=a.content)||void 0===e?void 0:e.length)||0;o.totalChars+=r,o.totalWords+=Math.ceil(r/5)}let n=Array.from(t.keys()).sort((e,t)=>new Date(e).getTime()-new Date(t).getTime());return{labels:n.map(e=>{let t=e.split("/");return t.length>=2?"".concat(t[0],"/").concat(t[1]):e}),keyCountData:n.map(e=>t.get(e).totalKeyCount),timeData:n.map(e=>Math.round(t.get(e).totalTime/60)),speedData:n.map(e=>{let n=t.get(e);return n.totalTime>0?Math.round(n.totalKeyCount/n.totalTime*60):0}),wordData:n.map(e=>t.get(e).totalWords),charData:n.map(e=>t.get(e).totalChars)}}catch(e){return console.error("차트 데이터 생성 중 오류:",e),{labels:[],keyCountData:[],timeData:[],speedData:[],wordData:[],charData:[]}}},[c]),u=(0,s.useCallback)((e,t,n,a,s)=>({labels:e,datasets:[{label:n,data:t,borderColor:a,backgroundColor:s,pointBackgroundColor:a,borderWidth:1,fill:!1}]}),[]),m=(0,s.useMemo)(()=>u(d.labels,d.speedData,"평균 타이핑 속도 (타/분)",n?"rgb(3, 218, 198)":"rgb(75, 192, 192)",n?"rgba(3, 218, 198, 0.5)":"rgba(75, 192, 192, 0.5)"),[d.labels,d.speedData,n,u]),[h,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!h&&c.length>0){let e=setTimeout(()=>{i.current&&b(!0)},100);return()=>clearTimeout(e)}},[c.length,h]);let w=(0,s.useCallback)(e=>{e&&r.current.push(e)},[]);return(0,a.jsxs)("div",{className:p().chartContainer,children:[(0,a.jsx)("h2",{children:"타이핑 통계 차트"}),c.length>0?(0,a.jsxs)("div",{className:p().charts,children:[h&&d.labels.length>0&&(0,a.jsxs)("div",{className:p().chartItem,children:[(0,a.jsx)("h3",{children:"일별 평균 타이핑 속도"}),(0,a.jsx)("div",{className:p().chartWrapper,children:(0,a.jsx)(g.N1,{data:m,options:l("일별 평균 속도 (타/분)"),redraw:!1,ref:w})})]}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:p().chartItem,children:[(0,a.jsx)("h3",{children:"일별 총 타자 수"}),(0,a.jsx)("div",{className:p().chartWrapper,children:(0,a.jsx)(g.yP,{data:{labels:d.labels,datasets:[{label:"총 타자 수",data:d.keyCountData,backgroundColor:n?"rgba(30, 136, 229, 0.7)":"rgba(54, 162, 235, 0.5)"}]},options:l("일별 총 타자 수"),redraw:!1,ref:w})})]}),(0,a.jsxs)("div",{className:p().chartItem,children:[(0,a.jsx)("h3",{children:"일별 총 타이핑 시간"}),(0,a.jsx)("div",{className:p().chartWrapper,children:(0,a.jsx)(g.yP,{data:{labels:d.labels,datasets:[{label:"총 타이핑 시간 (분)",data:d.timeData,backgroundColor:n?"rgba(207, 102, 121, 0.7)":"rgba(255, 99, 132, 0.5)"}]},options:l("일별 총 타이핑 시간 (분)"),redraw:!1,ref:w})})]})]})]}):(0,a.jsx)("p",{className:p().noData,children:"저장된 타이핑 데이터가 없습니다."})]})});var w=n(8334),f=n.n(w);let v=(0,s.memo)(function(e){let{activeTab:t,onTabChange:n,onDebugToggle:s,debugMode:o}=e;return(0,a.jsxs)("div",{className:f().appTabs,style:{pointerEvents:"auto"},children:[(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat("monitor"===t?f().activeTab:""),onClick:()=>n("monitor"),style:{pointerEvents:"auto"},children:"모니터링"}),(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat("history"===t?f().activeTab:""),onClick:()=>n("history"),style:{pointerEvents:"auto"},children:"히스토리"}),(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat("stats"===t?f().activeTab:""),onClick:()=>n("stats"),style:{pointerEvents:"auto"},children:"통계"}),(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat("chart"===t?f().activeTab:""),onClick:()=>n("chart"),style:{pointerEvents:"auto"},children:"차트"}),(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat("settings"===t?f().activeTab:""),onClick:()=>n("settings"),style:{pointerEvents:"auto"},children:"설정"}),(0,a.jsx)("button",{className:"".concat(f().tabButton," ").concat(f().debugButton," ").concat(o?f().debugActive:""),onClick:s,title:"디버그 모드 토글",style:{pointerEvents:"auto"},children:"\uD83D\uDC1E"})]})});function y(e){let{children:t}=e;return(0,a.jsx)("div",{className:"client-controls-wrapper",children:t})}var x=n(773);let j=(0,s.createContext)({theme:"light",toggleTheme:()=>{},setDarkMode:()=>{},isDarkMode:!1}),k=()=>(0,s.useContext)(j),C={getItem:e=>{try{return localStorage.getItem(e)}catch(e){return console.error("로컬 스토리지 접근 오류:",e),null}},setItem:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return console.error("로컬 스토리지 저장 오류:",e),!1}}},N=()=>{let e=C.getItem("app-settings");if(!e)return{};try{return JSON.parse(e)}catch(e){return console.error("설정 파싱 오류:",e),{}}},T=e=>{try{let t={...N(),...e};return C.setItem("app-settings",JSON.stringify(t))}catch(e){return console.error("설정 저장 오류:",e),!1}},S=e=>{let t=document.documentElement;e?(t.style.setProperty("--card-bg","#222222"),t.style.setProperty("--text-color","rgba(255, 255, 255, 0.87)"),t.style.setProperty("--border-color","rgba(255, 255, 255, 0.12)"),t.style.setProperty("--button-hover-bg","rgba(255, 255, 255, 0.08)"),t.style.setProperty("--primary-color","#90caf9")):(t.style.setProperty("--card-bg","#ffffff"),t.style.setProperty("--text-color","rgba(0, 0, 0, 0.87)"),t.style.setProperty("--border-color","rgba(0, 0, 0, 0.12)"),t.style.setProperty("--button-hover-bg","rgba(0, 0, 0, 0.05)"),t.style.setProperty("--primary-color","#1976d2"))};function M(e){let{children:t}=e,[n,o]=(0,s.useState)("light"),[r,i]=(0,s.useState)(!1),[c,l]=(0,s.useState)(!1),d=(0,s.useRef)(!1),u=(0,s.useCallback)(e=>{e?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),S(e)},[]),m=(0,s.useCallback)(e=>{d.current||(d.current=!0,o(e?"dark":"light"),i(e),u(e),T({darkMode:e}),window.electronAPI&&window.electronAPI.setDarkMode&&window.electronAPI.setDarkMode(e).catch(e=>{console.error("Electron API로 다크 모드 설정 중 오류:",e)}),setTimeout(()=>{d.current=!1},500))},[u]),g=(0,s.useCallback)(()=>{d.current||m(!r)},[r,m]);return(0,s.useEffect)(()=>{if(!c)try{let e=N(),t=void 0!==e.darkMode;if(t){let t=!0===e.darkMode;u(t),o(t?"dark":"light"),i(t)}else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;u(e),o(e?"dark":"light"),i(e)}(async()=>{if(window.electronAPI&&window.electronAPI.getDarkMode)try{let n=await window.electronAPI.getDarkMode();d.current||t&&e.darkMode===n||(d.current=!0,m(n),setTimeout(()=>{d.current=!1},500))}catch(e){console.error("Electron API에서 다크 모드 설정을 가져오는 중 오류:",e)}l(!0)})();let n=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{try{let t=N();void 0!==t.darkMode||d.current||m(e.matches)}catch(e){console.error("시스템 테마 변경 처리 오류:",e)}};return n.addEventListener("change",a),()=>{n.removeEventListener("change",a)}}catch(e){console.error("테마 초기화 중 오류:",e),l(!0)}},[u,m,c]),(0,s.useEffect)(()=>{let e=()=>{try{localStorage.setItem("theme-last-state",r?"dark":"light")}catch(e){console.error("localStorage 접근 오류:",e)}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[r]),(0,a.jsx)(j.Provider,{value:{theme:n,toggleTheme:g,setDarkMode:m,isDarkMode:r},children:t})}function L(e){let{children:t,darkMode:n=!1,windowMode:s="windowed",electronAPI:o=null}=e;return o||window.electronAPI,(0,a.jsx)(M,{children:(0,a.jsx)(x.t,{children:(0,a.jsx)("div",{className:"app-layout",children:(0,a.jsx)("main",{className:"content-area",style:{height:"100vh",overflow:"auto",padding:"16px"},children:(0,a.jsx)(y,{children:t})})})})})}let I=(0,s.memo)(function(e){let{isVisible:t,stats:n,logsCount:s,isTracking:o,windowMode:r}=e;return t?(0,a.jsxs)("div",{className:f().debugPanelBottom,children:[(0,a.jsx)("h3",{children:"디버그 정보"}),(0,a.jsxs)("div",{className:f().debugInfo,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"isTracking:"})," ",o?"true":"false"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Logs:"})," ",s,"개"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Current keyCount:"})," ",n.keyCount]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Browser:"})," ",n.browserName||"N/A"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Window:"})," ",n.windowTitle||"N/A"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Window Mode:"})," ",r]})]})]}):null});var P=n(2335),A=n.n(P),E=n(3252),D=n.n(E);let B=e=>{let{title:t,message:n,isOpen:o,onConfirm:r,onCancel:i,confirmText:c="확인",cancelText:l="취소",type:d="info",isDarkMode:u=!1}=e;return((0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o&&i()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[o,i]),(0,s.useEffect)(()=>{let e=e=>{"Enter"===e.key&&o&&r()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[o,r]),o)?(0,a.jsx)("div",{className:"".concat(D().overlay," ").concat(u?D().darkMode:""),children:(0,a.jsxs)("div",{className:D().dialog,children:[(0,a.jsxs)("div",{className:"".concat(D().header," ").concat(D()[d]),children:[(0,a.jsx)("h2",{children:t}),(0,a.jsx)("button",{className:D().closeButton,onClick:i,"aria-label":"닫기",children:"\xd7"})]}),(0,a.jsx)("div",{className:D().content,children:(0,a.jsx)("p",{className:D().message,children:n})}),(0,a.jsxs)("div",{className:D().actions,children:[(0,a.jsx)("button",{className:"".concat(D().button," ").concat(D().cancelButton),onClick:i,children:l}),(0,a.jsx)("button",{className:"".concat(D().button," ").concat(D().confirmButton," ").concat(D()[d+"Button"]),onClick:r,autoFocus:!0,children:c})]})]})}):null},G=e=>{let{isOpen:t,onConfirm:n,onCancel:s,settingsType:o="설정",isDarkMode:r=!1}=e,i="".concat(o," 저장"),c="변경된 ".concat(o,"을(를) 저장하시겠습니까?");return(0,a.jsx)(B,{title:i,message:c,isOpen:t,onConfirm:n,onCancel:s,confirmText:"저장",cancelText:"취소",type:"info",isDarkMode:r})},R=e=>{let{text:t}=e,[n,o]=(0,s.useState)(!1),r=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:A().infoIcon,onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},children:["i",n&&(0,a.jsxs)("div",{className:"".concat(A().tooltip," ").concat(A().show),ref:r,children:[(0,a.jsx)("div",{className:A().tooltipArrow}),t]})]})};function O(e){var t,n,o,r,i,c,l,d,u,m;let{onSave:g,initialSettings:h,darkMode:p,onDarkModeChange:_,onWindowModeChange:b}=e,{isDarkMode:w,setDarkMode:f}=k(),[v,y]=(0,s.useState)({enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,darkMode:w,windowMode:"windowed",minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:null!==(t=null==h?void 0:h.useHardwareAcceleration)&&void 0!==t&&t,useTypingAnalysisGpuAcceleration:null!==(n=null==h?void 0:h.useTypingAnalysisGpuAcceleration)&&void 0!==n&&n,processingMode:null!==(o=null==h?void 0:h.processingMode)&&void 0!==o?o:"auto",maxMemoryThreshold:null!==(r=null==h?void 0:h.maxMemoryThreshold)&&void 0!==r?r:100,resumeAfterIdle:null===(i=null==h?void 0:h.resumeAfterIdle)||void 0===i||i,showKeyCountInHeader:null===(c=null==h?void 0:h.showKeyCountInHeader)||void 0===c||c,showRealtimeWPM:null===(l=null==h?void 0:h.showRealtimeWPM)||void 0===l||l,enableSoundEffects:null!==(d=null==h?void 0:h.enableSoundEffects)&&void 0!==d&&d,enableAnimations:null===(u=null==h?void 0:h.enableAnimations)||void 0===u||u,useCompactUI:null!==(m=null==h?void 0:h.useCompactUI)&&void 0!==m&&m}),[j,C]=(0,s.useState)(!1),[N,T]=(0,s.useState)(!1),{showToast:S}=(0,x.d)(),[M,L]=(0,s.useState)("general"),[I,P]=(0,s.useState)(""),[E,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h&&y(e=>{var t,n,a,s,o;return{...e,...h,darkMode:w,showKeyCountInHeader:null!==(t=h.showKeyCountInHeader)&&void 0!==t?t:e.showKeyCountInHeader,showRealtimeWPM:null!==(n=h.showRealtimeWPM)&&void 0!==n?n:e.showRealtimeWPM,enableSoundEffects:null!==(a=h.enableSoundEffects)&&void 0!==a?a:e.enableSoundEffects,enableAnimations:null!==(s=h.enableAnimations)&&void 0!==s?s:e.enableAnimations,useCompactUI:null!==(o=h.useCompactUI)&&void 0!==o?o:e.useCompactUI}})},[h,w]),(0,s.useEffect)(()=>{y(e=>({...e,darkMode:w}))},[w]),(0,s.useEffect)(()=>{w?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),v.useCompactUI?(document.documentElement.classList.add("compact-ui"),document.body.classList.add("compact-ui")):(document.documentElement.classList.remove("compact-ui"),document.body.classList.remove("compact-ui"))},[w,v.useCompactUI]),(0,s.useEffect)(()=>{v.enableSoundEffects?document.documentElement.classList.add("sound-effects"):document.documentElement.classList.remove("sound-effects"),v.enableAnimations?document.documentElement.classList.add("enable-animations"):document.documentElement.classList.remove("enable-animations")},[v.enableSoundEffects,v.enableAnimations]);let B=e=>{y(t=>({...t,enabledCategories:{...t.enabledCategories,[e]:!t.enabledCategories[e]}}))},O=e=>{if(y(t=>({...t,windowMode:e})),window.electronAPI&&window.electronAPI.setWindowMode)try{window.electronAPI.setWindowMode(e).catch(e=>{console.error("창 모드 변경 중 오류:",e),S("창 모드 변경 중 오류가 발생했습니다.","error")})}catch(e){console.error("창 모드 변경 함수 호출 중 오류:",e),S("창 모드 변경 기능을 사용할 수 없습니다.","error")}b&&b(e)},W=(e,t)=>{y(n=>({...n,[e]:t}))},H=e=>{y(t=>{let n=!t[e];return"useCompactUI"===e&&(n?(document.documentElement.classList.add("compact-ui"),document.body.classList.add("compact-ui")):(document.documentElement.classList.remove("compact-ui"),document.body.classList.remove("compact-ui"))),"enableSoundEffects"===e&&(n?document.documentElement.classList.add("sound-effects"):document.documentElement.classList.remove("sound-effects")),"enableAnimations"===e&&(n?document.documentElement.classList.add("enable-animations"):document.documentElement.classList.remove("enable-animations")),{...t,[e]:n}})},U=()=>{let e=!v.useTypingAnalysisGpuAcceleration;y(t=>({...t,useTypingAnalysisGpuAcceleration:e})),console.log("타이핑 분석 GPU 가속 설정 변경:",e)},V=(0,s.useCallback)(()=>{try{if(!window.electronAPI){S("Electron API를 찾을 수 없습니다. preload 스크립트가 올바르게 로드되었는지 확인하세요.","error");return}let e=Object.keys(window.electronAPI).map(e=>"".concat(e,": ").concat(typeof window.electronAPI[e])).join("\n");if(console.log("사용 가능한 API 목록:",e),P(e),"function"==typeof window.electronAPI.restartApp){window.electronAPI.restartApp();return}if("function"==typeof window.electronAPI.showRestartPrompt){window.electronAPI.showRestartPrompt();return}if(window.electron&&"function"==typeof window.electron.restartApp){window.electron.restartApp();return}S("재시작 기능을 사용할 수 없습니다. 앱을 수동으로 재시작하세요.","warning"),D(!0)}catch(e){console.error("앱 재시작 시도 중 오류:",e),S("재시작 중 오류: ".concat(e.message),"error"),P(String(e)),D(!0)}},[S]);return(0,a.jsxs)("div",{className:"".concat(A().settingsContainer," ").concat(w?A().darkMode:""," ").concat(v.useCompactUI?A().compactUI:""),children:[(0,a.jsx)("h2",{children:"설정"}),(0,a.jsxs)("div",{className:A().settingsLayout,children:[(0,a.jsxs)("div",{className:A().settingsTabs,children:[(0,a.jsx)("button",{className:"".concat(A().tabButton," ").concat("general"===M?A().activeTab:""),onClick:()=>L("general"),children:"일반"}),(0,a.jsx)("button",{className:"".concat(A().tabButton," ").concat("display"===M?A().activeTab:""),onClick:()=>L("display"),children:"표시"}),(0,a.jsx)("button",{className:"".concat(A().tabButton," ").concat("advanced"===M?A().activeTab:""),onClick:()=>L("advanced"),children:"고급"})]}),(0,a.jsxs)("div",{className:A().settingsContent,children:["general"===M&&(0,a.jsxs)("div",{className:A().tabContent,children:[(0,a.jsxs)("div",{className:"".concat(A().settingSection," ").concat(A().highlightedSetting),children:[(0,a.jsx)("h3",{children:"모니터링 자동 시작"}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.autoStartMonitoring,onChange:()=>{y(e=>({...e,autoStartMonitoring:!e.autoStartMonitoring}))}}),(0,a.jsx)("span",{className:A().toggleLabel,children:"앱 시작 시 자동으로 모니터링 시작"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.resumeAfterIdle||!1,onChange:e=>W("resumeAfterIdle",e.target.checked)}),(0,a.jsx)("span",{className:A().toggleLabel,children:"일정 시간 사용하지 않다가 돌아왔을 때 자동 재시작"})]})})]}),(0,a.jsx)("div",{className:A().settingDescription,children:"자동 모니터링 설정을 통해 앱 시작 시 또는 일정 시간 사용하지 않다가 돌아왔을 때 자동으로 타이핑 모니터링을 시작할 수 있습니다."})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"일반 설정"}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.darkMode,onChange:()=>{let e=!v.darkMode;y(t=>({...t,darkMode:e})),_&&_(e),f(e)}}),(0,a.jsx)("span",{className:A().toggleLabel,children:"다크 모드"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enableSoundEffects,onChange:()=>H("enableSoundEffects")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"소리 효과 활성화"})]})})]}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enableAnimations,onChange:()=>H("enableAnimations")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"애니메이션 효과 활성화"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.useCompactUI,onChange:()=>H("useCompactUI")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"압축 UI 사용 (작은 버튼 및 요소)"})]})})]})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"화면 모드"}),(0,a.jsxs)("div",{className:A().radioGroup,children:[(0,a.jsxs)("label",{className:A().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",checked:"windowed"===v.windowMode,onChange:()=>O("windowed")}),(0,a.jsx)("span",{className:A().radioText,children:"창 모드"})]}),(0,a.jsxs)("label",{className:A().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",checked:"fullscreen"===v.windowMode,onChange:()=>O("fullscreen")}),(0,a.jsx)("span",{className:A().radioText,children:"전체화면 모드"})]}),(0,a.jsxs)("label",{className:A().radioLabel,children:[(0,a.jsx)("input",{type:"radio",name:"windowMode",checked:"fullscreen-auto-hide"===v.windowMode,onChange:()=>O("fullscreen-auto-hide")}),(0,a.jsx)("span",{className:A().radioText,children:"자동 숨김 모드"})]})]}),(0,a.jsx)("p",{className:A().settingDescription,children:"자동 숨김 모드에서는 마우스를 화면 상단에 가져가면 도구모음이 자동으로 표시됩니다."})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"모니터링 대상 카테고리"}),(0,a.jsxs)("div",{className:A().categoryToggles,children:[(0,a.jsxs)("div",{className:A().toggleGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enabledCategories.docs,onChange:()=>B("docs")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"문서 작업 (Notion, Google Docs 등)"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enabledCategories.office,onChange:()=>B("office")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"오피스 웹앱 (Microsoft Office, 한컴오피스 등)"})]})})]}),(0,a.jsxs)("div",{className:A().toggleGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enabledCategories.coding,onChange:()=>B("coding")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"코딩 관련 (GitHub, GitLab 등)"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enabledCategories.sns,onChange:()=>B("sns")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"SNS/메신저 (Discord, Slack 등)"})]})})]})]}),(0,a.jsx)("div",{className:A().settingDescription,children:"선택한 카테고리에 해당하는 애플리케이션 및 웹사이트에서의 타이핑만 모니터링합니다."})]})]}),"display"===M&&(0,a.jsxs)("div",{className:A().tabContent,children:[(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"통계 표시 설정"}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.showKeyCountInHeader,onChange:()=>H("showKeyCountInHeader")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"헤더에 키 카운트 표시"})]})}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.showRealtimeWPM,onChange:()=>H("showRealtimeWPM")}),(0,a.jsx)("span",{className:A().toggleLabel,children:"실시간 WPM(분당 단어 수) 표시"})]})})]}),(0,a.jsx)("div",{className:A().settingDescription,children:"통계 표시 설정을 통해 앱이 표시하는 정보의 종류와 위치를 조정할 수 있습니다. 실시간 데이터를 표시하면 더 정확한 타이핑 분석이 가능하지만 시스템 자원을 더 사용합니다."})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"타이핑 분석 설정"}),(0,a.jsxs)("div",{className:A().toggleItem,children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.useTypingAnalysisGpuAcceleration,onChange:U}),(0,a.jsx)("span",{className:A().toggleLabel,children:"타이핑 분석 GPU 가속 사용"})]}),(0,a.jsx)("p",{className:A().settingDescription,children:"GPU 가속을 활성화하면 타이핑 분석 계산이 더 빨라질 수 있습니다. 시스템에 호환되는 GPU가 있는 경우에만 작동합니다."})]}),(0,a.jsxs)("div",{className:A().analysisStats,children:[(0,a.jsx)("h4",{children:"타이핑 분석 통계"}),(0,a.jsx)("div",{className:A().statsDescription,children:"타이핑 분석은 입력 속도, 정확도, 일관성 등을 추적하여 입력 패턴을 분석합니다. 이 기능을 통해 타이핑 습관을 개선하고 효율성을 높일 수 있습니다."}),(0,a.jsxs)("div",{className:A().statItems,children:[(0,a.jsxs)("div",{className:A().statItem,children:[(0,a.jsx)("span",{className:A().statLabel,children:"WPM"}),(0,a.jsx)("span",{className:A().statValue,children:"분당 단어 수 측정"})]}),(0,a.jsxs)("div",{className:A().statItem,children:[(0,a.jsx)("span",{className:A().statLabel,children:"정확도"}),(0,a.jsx)("span",{className:A().statValue,children:"오타율 및 정확도 분석"})]}),(0,a.jsxs)("div",{className:A().statItem,children:[(0,a.jsx)("span",{className:A().statLabel,children:"일관성"}),(0,a.jsx)("span",{className:A().statValue,children:"타이핑 리듬 및 일관성 측정"})]}),(0,a.jsxs)("div",{className:A().statItem,children:[(0,a.jsx)("span",{className:A().statLabel,children:"피로도"}),(0,a.jsx)("span",{className:A().statValue,children:"타이핑 피로도 추적 및 휴식 추천"})]})]})]})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"미니뷰 설정"}),(0,a.jsx)("div",{className:A().toggleItem,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.enableMiniView,onChange:()=>{y(e=>({...e,enableMiniView:!e.enableMiniView}))},disabled:!v.minimizeToTray}),(0,a.jsxs)("span",{className:A().toggleLabel,children:["트레이 아이콘 클릭 시 미니뷰(PiP) 표시",!v.minimizeToTray&&(0,a.jsx)("small",{className:A().disabledNote,children:" (트레이로 최소화 옵션이 활성화되어야 함)"})]})]})}),(0,a.jsx)("p",{className:A().settingDescription,children:"미니뷰를 활성화하면 트레이 아이콘을 클릭할 때 화면 상단에 작은 통계 창이 표시됩니다. 이를 통해 앱을 최소화한 상태에서도 중요한 타이핑 통계를 확인할 수 있습니다."})]})]}),"advanced"===M&&(0,a.jsxs)("div",{className:A().tabContent,children:[(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"성능 설정"}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().settingItem,children:(0,a.jsxs)("div",{className:A().settingLabel,children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.useHardwareAcceleration,onChange:e=>{let t=e.target.checked;t!==(null==h?void 0:h.useHardwareAcceleration)&&C(!0),y(e=>({...e,useHardwareAcceleration:t}))}}),(0,a.jsx)("span",{className:A().toggleLabel,children:"GPU 하드웨어 가속 사용 (재시작 필요)"})]}),(0,a.jsx)(R,{text:"GPU 하드웨어 가속을 활성화하면 그래픽 렌더링과 일부 계산이 더 빨라질 수 있지만, 일부 시스템에서는 불안정할 수 있습니다. 변경 후 앱 재시작이 필요합니다."})]})}),(0,a.jsxs)("div",{className:A().settingItem,children:[(0,a.jsxs)("div",{className:A().settingLabel,children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.useTypingAnalysisGpuAcceleration,onChange:U,disabled:!v.useHardwareAcceleration}),(0,a.jsx)("span",{className:A().toggleLabel,children:"GPU 기반 타이핑 분석 (베타)"})]}),(0,a.jsx)(R,{text:"타이핑 분석에 GPU 가속을 사용합니다. 하드웨어 가속이 활성화된 경우에만 사용 가능합니다. 복잡한 분석이 많은 경우 성능이 향상될 수 있습니다."})]}),!v.useHardwareAcceleration&&(0,a.jsx)("div",{className:A().disabledMessage,children:"GPU 기반 타이핑 분석을 사용하려면 먼저 GPU 하드웨어 가속을 활성화하세요."})]})]})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"메모리 설정"}),(0,a.jsxs)("div",{className:A().settingGrid,children:[(0,a.jsx)("div",{className:A().settingItem,children:(0,a.jsxs)("div",{className:A().settingLabel,children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:v.reduceMemoryInBackground,onChange:()=>{y(e=>({...e,reduceMemoryInBackground:!e.reduceMemoryInBackground}))}}),(0,a.jsx)("span",{className:A().toggleLabel,children:"백그라운드에서 메모리 사용 최적화"})]}),(0,a.jsx)(R,{text:"앱이 백그라운드에 있을 때 메모리 사용량을 줄이기 위해 일부 기능을 비활성화합니다. 배터리 수명과 시스템 성능을 향상시킵니다."})]})}),(0,a.jsxs)("div",{className:A().rangeItem,children:[(0,a.jsxs)("div",{className:A().settingLabel,children:[(0,a.jsx)("label",{htmlFor:"memoryThreshold",children:(0,a.jsxs)("span",{className:A().rangeLabel,children:["최대 메모리 사용량 임계값: ",v.maxMemoryThreshold,"MB"]})}),(0,a.jsx)(R,{text:"앱의 메모리 사용량이 이 임계값을 초과하면 자동으로 메모리 정리를 수행합니다."})]}),(0,a.jsx)("input",{type:"range",id:"memoryThreshold",min:"50",max:"500",step:"10",value:v.maxMemoryThreshold,onChange:e=>W("maxMemoryThreshold",parseInt(e.target.value,10)),className:A().rangeSlider,disabled:!v.reduceMemoryInBackground})]})]})]}),(0,a.jsxs)("div",{className:A().settingSection,children:[(0,a.jsx)("h3",{children:"처리 모드"}),(0,a.jsxs)("div",{className:A().settingLabel,style:{marginBottom:"10px"},children:[(0,a.jsx)("span",{children:"처리 모드 선택"}),(0,a.jsx)(R,{text:"처리 모드에 따라 앱의 성능과 리소스 사용량이 조정됩니다. 자동 모드는 시스템 환경에 따라 최적의 설정을 선택합니다."})]}),(0,a.jsxs)("div",{className:A().radioGroup,children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"processingMode",value:"auto",checked:"auto"===v.processingMode,onChange:()=>W("processingMode","auto")}),(0,a.jsx)("span",{className:A().radioLabel,children:"자동"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"processingMode",value:"normal",checked:"normal"===v.processingMode,onChange:()=>W("processingMode","normal")}),(0,a.jsx)("span",{className:A().radioLabel,children:"일반"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"processingMode",value:"cpu-intensive",checked:"cpu-intensive"===v.processingMode,onChange:()=>W("processingMode","cpu-intensive")}),(0,a.jsx)("span",{className:A().radioLabel,children:"CPU 집중"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"processingMode",value:"gpu-intensive",checked:"gpu-intensive"===v.processingMode,onChange:()=>W("processingMode","gpu-intensive"),disabled:!v.useHardwareAcceleration}),(0,a.jsx)("span",{className:A().radioLabel,children:"GPU 집중 (하드웨어 가속 필요)"})]})]})]}),j&&(0,a.jsxs)("div",{className:A().restartNotice,children:[(0,a.jsx)("p",{children:"GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작해야 합니다."}),(0,a.jsx)("button",{className:A().restartButton,onClick:V,children:"지금 재시작"})]})]})]})]}),(0,a.jsx)("div",{className:A().buttonRow,children:(0,a.jsx)("button",{className:A().saveButton,onClick:()=>{JSON.stringify(v)!==JSON.stringify(h)?(console.log("저장할 설정:",v),T(!0)):S("변경된 설정이 없습니다.","info")},children:"설정 저장"})}),(0,a.jsx)(G,{isOpen:N,onConfirm:()=>{if(T(!1),JSON.stringify({...v,darkMode:w})!==JSON.stringify({...h,darkMode:w})){if(v.darkMode!==w){f(v.darkMode);let e=document.documentElement;v.darkMode?(e.style.setProperty("--card-bg","#222222"),e.style.setProperty("--text-color","rgba(255, 255, 255, 0.87)"),e.style.setProperty("--border-color","rgba(255, 255, 255, 0.12)"),e.style.setProperty("--button-hover-bg","rgba(255, 255, 255, 0.08)"),e.style.setProperty("--primary-color","#90caf9")):(e.style.setProperty("--card-bg","#ffffff"),e.style.setProperty("--text-color","rgba(0, 0, 0, 0.87)"),e.style.setProperty("--border-color","rgba(0, 0, 0, 0.12)"),e.style.setProperty("--button-hover-bg","rgba(0, 0, 0, 0.05)"),e.style.setProperty("--primary-color","#1976d2"))}g({...v,darkMode:v.darkMode}),v.darkMode?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),j?(S("GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작하세요.","info"),window.electronAPI&&("function"==typeof window.electronAPI.showRestartPrompt?window.electronAPI.showRestartPrompt():window.confirm("GPU 가속 설정이 변경되었습니다. 지금 앱을 재시작하시겠습니까?")&&("function"==typeof window.electronAPI.restartApp?window.electronAPI.restartApp():(console.error("restartApp 함수를 찾을 수 없습니다."),S("앱을 수동으로 재시작해 주세요.","warning"))))):S("설정이 저장되었습니다.","success")}else S("변경된 설정이 없습니다.","info")},onCancel:()=>{T(!1)},isDarkMode:w})]})}var W=n(5375),H=n.n(W);function U(e){let{message:t="앱을 재시작하는 중입니다...",isVisible:n,onClose:o}=e,[r,i]=(0,s.useState)(""),[c,l]=(0,s.useState)(0);return((0,s.useEffect)(()=>{if(!n)return;let e=setInterval(()=>{i(e=>e.length>=3?"":e+".")},500),t=setInterval(()=>{l(e=>e>=100?100:e+5)},100);return()=>{clearInterval(e),clearInterval(t)}},[n]),n)?(0,a.jsx)("div",{className:H().overlay,children:(0,a.jsxs)("div",{className:H().loadingContainer,children:[(0,a.jsx)("div",{className:H().spinner}),(0,a.jsxs)("h3",{className:H().title,children:[t,r]}),(0,a.jsx)("div",{className:H().progressContainer,children:(0,a.jsx)("div",{className:H().progressBar,style:{width:"".concat(c,"%")}})}),(0,a.jsx)("p",{className:H().note,children:"앱이 곧 다시 시작됩니다."})]})}):null}var V=n(4715);function z(e){e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode"),document.querySelectorAll(".tab-content, .chart-container, .history-table").forEach(e=>{e.classList.add("dark-mode")})):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"),document.querySelectorAll(".tab-content, .chart-container, .history-table").forEach(e=>{e.classList.remove("dark-mode")}))}let K={enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,resumeAfterIdle:!0,darkMode:!1,windowMode:"windowed",minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:!1,processingMode:"auto",maxMemoryThreshold:100};async function J(){try{let e=document.querySelectorAll("img:not([data-optimized])"),t=0;for(let n of Array.from(e)){let e=n.getBoundingClientRect();if((e.top<-window.innerHeight||e.bottom>2*window.innerHeight||e.left<-window.innerWidth||e.right>2*window.innerWidth)&&n.src&&!n.src.startsWith("data:")){let e=n.src;n.setAttribute("data-original-src",e),n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";let a=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=t.getAttribute("data-original-src");n&&(t.src=n,t.removeAttribute("data-original-src"),t.setAttribute("data-optimized","restored")),a.disconnect()}})},{rootMargin:"200px"});a.observe(n),n.setAttribute("data-optimized","true"),t++}}return t>0&&console.log("이미지 리소스 최적화 완료: ".concat(t,"개 이미지 처리됨")),document.querySelectorAll("canvas[width][height], svg[width][height]").forEach(e=>{let t=parseInt(e.getAttribute("width")||"0"),n=parseInt(e.getAttribute("height")||"0");if(t*n>1e6&&!e.hasAttribute("data-optimized")){let t=e.getBoundingClientRect();(t.top<-window.innerHeight||t.bottom>2*window.innerHeight)&&(e.setAttribute("data-optimized","hidden"),e.setAttribute("data-original-display",e.style.display),e.style.display="none")}}),!0}catch(e){return console.error("이미지 리소스 최적화 오류:",e),!1}}var q=n(7026),F=n.n(q);let X=s.memo(function(){let{electronAPI:e,api:t}=(0,V.q)(),{settings:n,darkMode:o,windowMode:r,handleSaveSettings:i,handleDarkModeChange:c,handleWindowModeChange:l}=function(e){let{showToast:t}=(0,x.d)(),[n,a]=(0,s.useState)(K),[o,r]=(0,s.useState)(!1),[i,c]=(0,s.useState)("windowed"),[l,d]=(0,s.useState)(!1),u=(0,s.useCallback)(async()=>{try{if(null==e?void 0:e.loadSettings){let t=await e.loadSettings();if(t)return console.log("설정 로드 성공:",t),a(t),r(t.darkMode||!1),c(t.windowMode||"windowed"),z(t.darkMode||!1),t}else try{let e=localStorage.getItem("app_settings");if(e){let t=JSON.parse(e);return console.log("localStorage에서 설정 로드:",t),a(t),r(t.darkMode||!1),c(t.windowMode||"windowed"),z(t.darkMode||!1),t}}catch(e){console.error("localStorage 로드 오류:",e)}return K}catch(e){return console.error("설정 로드 오류:",e),null==t||t("설정을 불러오지 못했습니다","error"),K}},[e,t]),m=(0,s.useCallback)(async s=>{try{if(JSON.stringify(s)===JSON.stringify(n))return console.log("변경된 설정이 없습니다."),null==t||t("변경된 설정이 없습니다","info"),!0;if(null==e?void 0:e.saveSettings){if(console.log("Electron API를 통해 설정 저장:",s),!await e.saveSettings(s))return console.error("설정 저장 실패"),null==t||t("설정 저장에 실패했습니다","error"),!1;if(console.log("설정 저장 성공"),a(s),s.darkMode!==o){r(s.darkMode),z(s.darkMode),(null==e?void 0:e.setDarkMode)&&await e.setDarkMode(s.darkMode);let t=new CustomEvent("darkmode-changed",{detail:{darkMode:s.darkMode}});window.dispatchEvent(t)}return s.windowMode!==i&&(c(s.windowMode),(null==e?void 0:e.setWindowMode)&&await e.setWindowMode(s.windowMode)),null==t||t("설정이 저장되었습니다","success"),!0}try{if(localStorage.setItem("app_settings",JSON.stringify(s)),console.log("localStorage에 설정 저장 성공:",s),a(s),s.darkMode!==o){r(s.darkMode),z(s.darkMode);let e=new CustomEvent("darkmode-changed",{detail:{darkMode:s.darkMode}});window.dispatchEvent(e)}return s.windowMode!==i&&c(s.windowMode),null==t||t("설정이 저장되었습니다","success"),!0}catch(e){return console.error("localStorage 저장 오류:",e),null==t||t("설정 저장에 실패했습니다","error"),!1}}catch(e){return console.error("설정 저장 중 오류 발생:",e),null==t||t("설정을 저장할 수 없습니다","error"),!1}},[e,n,o,i,t]),g=(0,s.useCallback)(async t=>{try{r(t),z(t),(null==e?void 0:e.setDarkMode)&&await e.setDarkMode(t);let n=new CustomEvent("darkmode-changed",{detail:{darkMode:t}});return window.dispatchEvent(n),!0}catch(e){return console.error("다크 모드 설정 오류:",e),!1}},[e]),h=(0,s.useCallback)(async t=>{try{return c(t),(null==e?void 0:e.setWindowMode)&&await e.setWindowMode(t),!0}catch(e){return console.error("윈도우 모드 설정 오류:",e),!1}},[e]);return(0,s.useEffect)(()=>{l||u().then(()=>{d(!0)})},[u,l]),{settings:n,darkMode:o,windowMode:i,handleSaveSettings:m,handleDarkModeChange:g,handleWindowModeChange:h,loadSettings:u}}(e),{activeTab:d,debugMode:m,handleTabChange:g,toggleDebugMode:h}=function(e){let{initialTab:t,electronAPI:n}=e,[a,o]=(0,s.useState)(t),[r,i]=(0,s.useState)(!1),c=(0,s.useCallback)(e=>{o(e)},[]),l=(0,s.useCallback)(()=>{i(e=>!e)},[]);return(0,s.useEffect)(()=>{},[]),{activeTab:a,debugMode:r,handleTabChange:c,toggleDebugMode:l}}({initialTab:"monitor",electronAPI:t}),{isHeaderVisible:p}=function(e){let{windowMode:t,electronAPI:n}=e,[a,o]=(0,s.useState)(!0),r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if("fullscreen-auto-hide"!==t){(null==n?void 0:n.windowControl)&&n.windowControl("showHeader");return}let e=e=>{let{clientY:t}=e;t<100?(o(!0),(null==n?void 0:n.windowControl)&&n.windowControl("showHeader"),r.current&&(clearTimeout(r.current),r.current=null)):t>150&&a&&!r.current&&(r.current=setTimeout(()=>{o(!1),(null==n?void 0:n.windowControl)&&n.windowControl("hideHeader"),r.current=null},1500))};return window.addEventListener("mousemove",e,{passive:!0,capture:!0}),()=>{window.removeEventListener("mousemove",e,{capture:!0}),r.current&&clearTimeout(r.current)}},[t,a,n]),{isHeaderVisible:a,setHeaderVisibility:(0,s.useCallback)(e=>{o(e),(null==n?void 0:n.windowControl)&&n.windowControl(e?"showHeader":"hideHeader")},[n])}}({windowMode:r,electronAPI:e}),{logs:_,isLoading:w,isTracking:f,displayStats:y,handleStartTracking:j,handleStopTracking:C,handleSaveStats:N,currentStatsRef:T,fetchLogs:S}=function(e){let[t,n]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[r,i]=(0,s.useState)(!1),[c,l]=(0,s.useState)(null),d=(0,s.useRef)([]),u=(0,s.useRef)([]),m=(0,s.useRef)({keyCount:0,typingTime:0,windowTitle:"",browserName:"",totalChars:0,totalCharsNoSpace:0,totalWords:0,pages:0,accuracy:100}),[g,h]=(0,s.useState)({...m.current}),{showToast:p}=(0,x.d)();(0,s.useEffect)(()=>{let e=setInterval(()=>{JSON.stringify(m.current)!==JSON.stringify(g)&&h({...m.current})},2e3);return u.current.push(e),()=>clearInterval(e)},[g]);let _=(0,s.useCallback)(()=>{try{if(e){var t;null===(t=e.startTracking)||void 0===t||t.call(e),i(!0)}else console.warn("electronAPI가 없습니다."),i(!0)}catch(e){console.error("startTracking 호출 오류:",e),i(!0)}},[e]),b=(0,s.useCallback)(()=>{try{if(e){var t;null===(t=e.stopTracking)||void 0===t||t.call(e),i(!1)}else console.warn("electronAPI가 없습니다."),i(!1)}catch(e){console.error("stopTracking 호출 오류:",e),i(!1)}},[e]),w=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!a)try{o(!0);let a=await fetch("/api/getLogs?limit=".concat(e));if(!a.ok)throw Error("API 요청 실패: ".concat(a.status," ").concat(a.statusText));let s=a.headers.get("content-type");if(!s||!s.includes("application/json"))throw Error("서버에서 잘못된 응답 형식 반환");let r=await a.json();if(r.success){let e=r.logs.map(e=>({id:e.id,content:e.content,key_count:e.key_count,typing_time:e.typing_time,timestamp:e.timestamp,created_at:e.created_at,window_title:e.window_title,browser_name:e.browser_name,total_chars:e.total_chars,total_words:e.total_words,pages:e.pages,accuracy:e.accuracy}));JSON.stringify(t)!==JSON.stringify(e)&&n(e)}else console.error("로그 불러오기 실패:",r.error),n([])}catch(e){console.error("로그 API 요청 오류:",e),n([]),l("로그를 불러오는 중 문제가 발생했습니다."),null==p||p("데이터 로드 중 오류가 발생했습니다","error")}finally{o(!1)}},[t,p,a]),f=(0,s.useCallback)(async e=>{try{let t=await fetch("/api/saveLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();t.ok?await w():console.error("저장 실패:",n.error)}catch(e){console.error("저장 API 요청 오류:",e)}},[w]),v=(0,s.useCallback)(t=>{try{if(e){var n;null===(n=e.saveStats)||void 0===n||n.call(e,t)}let a={content:t,keyCount:m.current.keyCount,typingTime:m.current.typingTime.toString(),timestamp:new Date().toISOString(),windowTitle:m.current.windowTitle,browserName:m.current.browserName,totalChars:m.current.totalChars,totalWords:m.current.totalWords,pages:m.current.pages,accuracy:m.current.accuracy};f(a)}catch(e){console.error("saveStats 호출 오류:",e),f({content:t,keyCount:m.current.keyCount,typingTime:m.current.typingTime.toString(),timestamp:new Date().toISOString(),windowTitle:m.current.windowTitle,browserName:m.current.browserName||"Unknown"})}},[e,f]),y=(0,s.useCallback)(()=>{if(!e)return;let t=[];if(e.onTypingStatsUpdate){let n=e.onTypingStatsUpdate(e=>{m.current={...m.current,...e}});t.push(n)}if(e.onStatsSaved){let n=e.onStatsSaved(()=>{w()});t.push(n)}d.current=t},[e,w]);return(0,s.useEffect)(()=>(y(),()=>{d.current.forEach(e=>{try{e()}catch(e){console.error("이벤트 리스너 정리 오류:",e)}})}),[y]),(0,s.useEffect)(()=>()=>{if(d.current.forEach(e=>e()),d.current=[],u.current.forEach(clearInterval),u.current=[],n([]),m.current={keyCount:0,typingTime:0,windowTitle:"",browserName:"",totalChars:0,totalCharsNoSpace:0,totalWords:0,pages:0,accuracy:100},window.gc)try{window.gc()}catch(e){console.log("GC 호출 실패")}},[]),(0,s.useEffect)(()=>{w()},[w]),{logs:t,isLoading:a,isTracking:r,displayStats:g,handleStartTracking:_,handleStopTracking:b,handleSaveStats:v,fetchLogs:w,currentStatsRef:m,error:c}}(e),[M,P]=(0,s.useState)([]),A=function(){let{debugMode:e=!1,checkInterval:t=3e4,memoryThreshold:n=100,activeTab:a="monitor",onClearLogs:o=()=>{}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.useRef)([]),i=(0,s.useRef)(!1),c=(0,s.useRef)(0),l=(0,s.useCallback)(()=>{if(window.performance&&window.performance.memory){let s=window.performance.memory,r=s.usedJSHeapSize/1048576,l=s.totalJSHeapSize/1048576;e&&console.log("메모리 사용량: ".concat(Math.round(r),"MB (").concat(Math.round(r/l*100),"%)"));let d=Date.now();if(r>n&&d-c.current>6e4&&(c.current=d,!i.current&&e&&(console.warn("메모리 사용량 경고: ".concat(Math.round(r),"MB (임계치: ").concat(n,"MB)")),i.current=!0),"history"!==a&&"stats"!==a&&"chart"!==a)){var t;o(),"function"==typeof(null===(t=window.__memoryOptimizer)||void 0===t?void 0:t.optimizeMemory)&&(window.__memoryOptimizer.optimizeMemory(r>1.5*n),e&&console.log("메모리 자동 최적화 수행됨")),window.gc&&(window.gc(),e&&console.log("GC 호출됨"))}r<.8*n&&(i.current=!1)}},[a,e,n,o]);(0,s.useEffect)(()=>{l();let e=setInterval(l,t);r.current.push(e);let n=()=>{"visible"===document.visibilityState&&l()};return document.addEventListener("visibilitychange",n),()=>{if(clearInterval(e),r.current.forEach(clearInterval),r.current=[],document.removeEventListener("visibilitychange",n),window.gc)try{window.gc()}catch(e){console.warn("GC 호출 실패")}}},[l,t]);let d=(0,s.useCallback)(()=>{var t;if("function"==typeof(null===(t=window.__memoryOptimizer)||void 0===t?void 0:t.optimizeMemory))return window.__memoryOptimizer.optimizeMemory(!0),e&&console.log("수동 메모리 최적화 실행됨"),!0;if(window.gc)try{return window.gc(),e&&console.log("GC 호출 성공"),!0}catch(e){console.warn("GC 호출 실패")}return!1},[e]);return{cleanupMemory:d,addInterval:(0,s.useCallback)(e=>{r.current.push(e)},[]),clearIntervals:(0,s.useCallback)(()=>{r.current.forEach(clearInterval),r.current=[]},[]),checkMemoryUsage:l}}({debugMode:m,activeTab:d,memoryThreshold:100,checkInterval:3e4,onClearLogs:()=>{if("history"!==d&&"stats"!==d&&"chart"!==d){P([]);try{J().catch(e=>{console.error("이미지 리소스 최적화 중 오류:",e)})}catch(e){console.error("이미지 최적화 실행 오류:",e)}}}});(0,s.useEffect)(()=>{try{var e;(null===(e=window.__memoryOptimizer)||void 0===e?void 0:e.requestGC)&&window.__memoryOptimizer.requestGC(!1).catch(e=>{console.error("메모리 최적화 오류:",e)})}catch(e){console.error("GC 요청 오류:",e)}let t=setInterval(()=>{J().catch(e=>{console.error("이미지 리소스 최적화 주기 작업 중 오류:",e)})},3e5);return A.addInterval(t),()=>{A.clearIntervals()}},[A]),s.useEffect(()=>{_&&_.length>0&&P(_)},[_]);let[E,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var t;if(!e)return;let n=(null===(t=e.onShowRestartLoading)||void 0===t?void 0:t.call(e,e=>{D(!0),e.timeout&&setTimeout(()=>{D(!1)},e.timeout)}))||(()=>{});return()=>{n()}},[e]);let{isDarkMode:B}=k(),G=(0,s.useCallback)(()=>{switch(d){case"monitor":return(0,a.jsx)(u,{stats:y,isTracking:f,onStartTracking:j,onStopTracking:C,onSaveStats:N});case"stats":return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading chart..."}),children:(0,a.jsx)(b,{logs:_})});case"settings":return(0,a.jsx)("div",{className:"settings-tab-wrapper",style:{maxWidth:"100%",margin:"0 auto",width:"100%"},children:(0,a.jsx)(O,{onSave:i,initialSettings:{...n,useTypingAnalysisGpuAcceleration:!1,showKeyCountInHeader:!0,showRealtimeWPM:!0,enableSoundEffects:!1,enableAnimations:!0,useCompactUI:!1},darkMode:o,onDarkModeChange:c,onWindowModeChange:l})});default:return null}},[d,y,f,j,C,N,_,n,o,c,l,i]);return(0,a.jsxs)(L,{darkMode:o,windowMode:r,electronAPI:e,isHeaderVisible:p,children:[(0,a.jsx)(U,{isVisible:E,message:"앱을 재시작하는 중입니다"}),(0,a.jsx)(v,{activeTab:d,onTabChange:g,onDebugToggle:h,debugMode:m}),(0,a.jsx)("div",{className:"".concat(F().homeContent," ").concat(B?F().darkMode:""),children:(0,a.jsxs)("div",{className:F().section,children:[(0,a.jsx)("h2",{className:F().sectionTitle,children:"Loop 애플리케이션"}),(0,a.jsx)("p",{className:F().description,children:"Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션입니다."}),G()]})}),(0,a.jsx)(I,{isVisible:m,stats:T.current,logsCount:M.length,isTracking:f,windowMode:r})]})});var Q=n(3515);function Z(){let[e,t]=(0,s.useState)({keyCount:0,typingTime:0,totalChars:0,totalWords:0,accuracy:0}),[n,o]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=window.electronAPI,n=!!e;if(i(n),!n){t({keyCount:1250,typingTime:1800,totalChars:1050,totalWords:210,accuracy:98.5}),o(!0);return}try{let n;return e.onStatsUpdate&&"function"==typeof e.onStatsUpdate&&(n=e.onStatsUpdate(e=>{e&&t(e)})),e.requestCurrentStats&&"function"==typeof e.requestCurrentStats&&e.requestCurrentStats(),e.getTrackingStatus&&"function"==typeof e.getTrackingStatus&&e.getTrackingStatus().then(e=>{o(e)}).catch(e=>{console.warn("추적 상태를 가져오는데 실패했습니다:",e),o(!1)}),()=>{n&&"function"==typeof n&&n()}}catch(e){console.error("일렉트론 API 사용 중 오류 발생:",e),t({keyCount:500,typingTime:600,totalChars:450,totalWords:90,accuracy:95}),o(!1)}},[]),(0,a.jsx)(Q.s,{stats:e,_isTracking:n})}function Y(){let[e,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsx)(L,{children:(0,a.jsx)("main",{className:f().main,children:(0,a.jsxs)("div",{className:f().container,children:[(0,a.jsx)("h1",{className:f().title,children:"Loop"}),(0,a.jsx)("p",{className:f().description,children:"Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션"}),(0,a.jsx)(X,{}),(0,a.jsx)(Z,{})]})})}):null}r()(()=>Promise.all([n.e(670),n.e(1)]).then(n.bind(n,1001)),{loadableGenerated:{webpack:()=>[1001]},ssr:!1})}},e=>{var t=t=>e(e.s=t);e.O(0,[530,647,693,515,441,684,358],()=>t(9545)),_N_E=e.O()}]);
//# sourceMappingURL=page-b0ab3f04110b1561.js.map