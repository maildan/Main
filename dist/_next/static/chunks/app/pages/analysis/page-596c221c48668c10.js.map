{"version":3,"file":"static/chunks/app/pages/analysis/page-596c221c48668c10.js","mappings":"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","sources":["webpack://_N_E/./src/app/pages/analysis/page.module.css","webpack://_N_E/./src/app/utils/memory-management.ts","webpack://_N_E/./src/app/utils/enum-converters.ts","webpack://_N_E/./src/app/utils/memory/optimizer.ts","webpack://_N_E/./src/app/utils/performance-metrics.ts","webpack://_N_E/./src/app/utils/memory/format-utils.ts","webpack://_N_E/./src/app/utils/memory/logger.ts","webpack://_N_E/./src/app/utils/log-utils.ts","webpack://_N_E/./src/app/utils/log-learning.ts","webpack://_N_E/./src/app/utils/format-utils.ts","webpack://_N_E/./src/app/components/LogAnalysisPanel.tsx","webpack://_N_E/./src/app/pages/analysis/page.tsx","webpack://_N_E/./src/app/components/LogAnalysisPanel.module.css","webpack://_N_E/?9a65"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"page_container__Oa_Yd\",\"header\":\"page_header__oX1IH\",\"main\":\"page_main__HYnnv\",\"helpSection\":\"page_helpSection__urTHs\",\"helpContent\":\"page_helpContent__XR3c6\",\"actions\":\"page_actions__aQlQc\",\"secondaryButton\":\"page_secondaryButton__QCv7s\",\"root\":\"page_root__QiYEX\"};","/**\n * Î©îÎ™®Î¶¨ Í¥ÄÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Î©îÎ™®Î¶¨ Í¥ÄÎ¶¨ Í∏∞Îä•Îì§ÏùÑ ÌÜµÌï©ÌïòÏó¨ Ï†úÍ≥µÌï©ÎãàÎã§.\n */\n\nimport { MemoryInfo, GCResult, OptimizationResult, OptimizationLevel } from '@/types';\nimport {\n  requestNativeMemoryInfo,\n  requestNativeGarbageCollection,\n  requestNativeMemoryOptimization,\n} from './native-memory-bridge';\n\n/**\n * Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport async function getMemoryInfo(): Promise<MemoryInfo | null> {\n  try {\n    return await requestNativeMemoryInfo();\n  } catch (error) {\n    console.error('Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ Ïò§Î•ò:', error);\n    return null;\n  }\n}\n\n/**\n * Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖò ÏàòÌñâ\n * @param _emergency Í∏¥Í∏â Î™®Îìú Ïó¨Î∂Ä\n */\nexport async function performGarbageCollection(\n  _emergency: boolean = false\n): Promise<GCResult | null> {\n  try {\n    return await requestNativeGarbageCollection();\n  } catch (error) {\n    console.error('Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖò Ïò§Î•ò:', error);\n    return null;\n  }\n}\n\n// ÏïàÏì∞Ïù¥Îäî Î≥ÄÏàò _formatBytesÎ°ú Ïù¥Î¶Ñ Î≥ÄÍ≤Ω\nconst _formatBytes = (bytes: number): string => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\n// Ï∫êÏãú Ï†ïÎ¶¨ Ìï®Ïàò - ÏûÑÏãú Íµ¨ÌòÑ\nfunction cleanAllCaches(): void {\n  // Ï∫êÏãú Ï†ïÎ¶¨ Î°úÏßÅ Íµ¨ÌòÑ\n  console.log('Î™®Îì† Ï∫êÏãú Ï†ïÎ¶¨');\n}\n\n// Í∞ÄÎπÑÏßÄ ÏΩúÎ†âÏÖò Ïú†ÎèÑ Ìï®Ïàò\nfunction suggestGarbageCollection(): void {\n  if (typeof window !== 'undefined' && (window as any).gc) {\n    (window as any).gc();\n  }\n  console.log('Í∞ÄÎπÑÏßÄ ÏΩúÎ†âÏÖò Ï†úÏïà');\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏàòÌñâ\n * @param level ÏµúÏ†ÅÌôî Î†àÎ≤®\n * @param emergency Í∏¥Í∏â Î™®Îìú Ïó¨Î∂Ä\n */\nexport async function optimizeMemory(\n  level: OptimizationLevel = OptimizationLevel.MEDIUM,\n  emergency: boolean = false\n): Promise<OptimizationResult | null> {\n  try {\n    // ÌòÑÏû¨ Î©îÎ™®Î¶¨ ÏÉÅÌÉú Í∏∞Î°ù\n    const memoryBefore = await requestNativeMemoryInfo();\n    console.log('ÏµúÏ†ÅÌôî Ï†Ñ Î©îÎ™®Î¶¨ ÏÉÅÌÉú:', memoryBefore);\n\n    console.log(`Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏãúÏûë (Î†àÎ≤®: ${level}, Í∏¥Í∏â: ${emergency})`);\n\n    // ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà Ìò∏Ï∂ú - Ïà´ÏûêÎ°ú Î≥ÄÌôòÌïòÏó¨ Ï†ÑÎã¨\n    const result = await requestNativeMemoryOptimization(Number(level), emergency);\n\n    if (result) {\n      // ÏÜçÏÑ± Ïù¥Î¶Ñ Ìò∏ÌôòÏÑ± Ï≤òÎ¶¨ - ÏùºÍ¥ÄÎêú ÏÜçÏÑ± ÏÇ¨Ïö©\n      const freedMB = result.freedMB || result.freed_mb || 0;\n\n      // Î™®Îì† ÌïÑÏàò ÏÜçÏÑ± ÏßÄÏ†ï (ÌÉÄÏûÖ Ï∂©Îèå Ìï¥Í≤∞)\n      return {\n        success: result.success,\n        optimizationLevel: level,\n        timestamp: result.timestamp,\n        freedMemory: result.freedMemory || result.freed_memory || 0,\n        freedMB: freedMB,\n        optimization_level: level,\n        freed_memory: result.freedMemory || result.freed_memory || 0,\n        freed_mb: freedMB,\n        duration: result.duration,\n      };\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî Ïò§Î•ò:', error);\n    return null;\n  }\n}\n\n/**\n * ÏµúÏ†ÅÌôî Í∏∞Î°ù\n * @param level ÏµúÏ†ÅÌôî Î†àÎ≤®\n * @param success ÏÑ±Í≥µ Ïó¨Î∂Ä\n * @param implementation Íµ¨ÌòÑ ('native' ÎòêÎäî 'js')\n * @param freedMemory Ìï¥Ï†úÎêú Î©îÎ™®Î¶¨ (MB)\n */\nfunction recordOptimization(\n  level: OptimizationLevel,\n  success: boolean,\n  implementation: string,\n  freedMemory: number\n): void {\n  try {\n    // ÏµúÏ†ÅÌôî Í∏∞Î°ù Î°úÏßÅ\n    if (typeof localStorage !== 'undefined') {\n      const record = {\n        timestamp: Date.now(),\n        level,\n        success,\n        implementation,\n        freedMemory,\n      };\n\n      const existingRecordsJson = localStorage.getItem('memoryOptimizationRecords');\n      const records = existingRecordsJson ? JSON.parse(existingRecordsJson) : [];\n\n      // ÏµúÎåÄ 20Í∞úÍπåÏßÄÎßå Ï†ÄÏû•\n      records.push(record);\n      if (records.length > 20) {\n        records.shift();\n      }\n\n      // Ï†ÄÏû•\n      localStorage.setItem('memoryOptimizationRecords', JSON.stringify(records));\n    }\n  } catch (e) {\n    // Ï†ÄÏû• Ïò§Î•ò Î¨¥Ïãú\n    console.warn('ÏµúÏ†ÅÌôî Í∏∞Î°ù Ï†ÄÏû• Ïò§Î•ò:', e);\n  }\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î¨∏ÏûêÏó¥ Ìè¨Îß∑\n * @param info Î©îÎ™®Î¶¨ Ï†ïÎ≥¥\n */\nexport function formatMemoryInfo(info: MemoryInfo): Record<string, string> {\n  if (!info) return {};\n\n  const heapUsedMB =\n    info.heapUsed !== undefined\n      ? Math.round((info.heapUsed / (1024 * 1024)) * 10) / 10\n      : info.heapUsedMB || 0;\n\n  const heapTotalMB =\n    info.heapTotal !== undefined\n      ? Math.round((info.heapTotal / (1024 * 1024)) * 10) / 10\n      : 0;\n\n  const percent =\n    info.percentUsed !== undefined\n      ? info.percentUsed\n      : info.heapTotal && info.heapUsed\n        ? (info.heapUsed / info.heapTotal) * 100\n        : 0;\n\n  return {\n    heapUsed: `${heapUsedMB} MB`,\n    heapTotal: `${heapTotalMB} MB`,\n    percentUsed: `${Math.round(percent * 10) / 10}%`,\n    timestamp: new Date(info.timestamp || Date.now()).toLocaleString(),\n  };\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏÉÅÌÉú ÌèâÍ∞Ä\n * @param info Î©îÎ™®Î¶¨ Ï†ïÎ≥¥\n */\nexport function evaluateMemoryStatus(info: MemoryInfo): {\n  status: string;\n  message: string;\n  percentUsed: number;\n  needsOptimization: boolean;\n} {\n  if (!info) {\n    return {\n      status: 'unknown',\n      message: 'Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏùå',\n      percentUsed: 0,\n      needsOptimization: false,\n    };\n  }\n\n  const percent =\n    info.percentUsed !== undefined\n      ? info.percentUsed\n      : info.heapTotal && info.heapUsed\n        ? (info.heapUsed / info.heapTotal) * 100\n        : 0;\n\n  if (percent > 90) {\n    return {\n      status: 'critical',\n      message: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ Îß§Ïö∞ ÎÜíÏùå (ÏµúÏ†ÅÌôî ÌïÑÏöî)',\n      percentUsed: percent,\n      needsOptimization: true,\n    };\n  } else if (percent > 75) {\n    return {\n      status: 'warning',\n      message: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ ÎÜíÏùå',\n      percentUsed: percent,\n      needsOptimization: true,\n    };\n  } else if (percent > 60) {\n    return {\n      status: 'normal',\n      message: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ Ï†ïÏÉÅ',\n      percentUsed: percent,\n      needsOptimization: false,\n    };\n  } else {\n    return {\n      status: 'good',\n      message: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ ÎÇÆÏùå',\n      percentUsed: percent,\n      needsOptimization: false,\n    };\n  }\n}\n\n/**\n * Îπà Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ùÏ≤¥ ÏÉùÏÑ±\n */\nexport function createEmptyMemoryInfo(): MemoryInfo {\n  return {\n    heapUsed: 0,\n    heapTotal: 0,\n    rss: 0,\n    heapUsedMB: 0,\n    rssMB: 0,\n    percentUsed: 0,\n    heapLimit: 0,\n    timestamp: Date.now(),\n  };\n}\n\n/**\n * ÎÑ§Ïù¥Ìã∞Î∏å Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î•º Ïï± Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î°ú Î≥ÄÌôò\n */\nexport function convertNativeMemoryInfo(nativeInfo: Record<string, unknown>): MemoryInfo {\n  if (!nativeInfo) {\n    return createEmptyMemoryInfo();\n  }\n  return {\n    timestamp: (nativeInfo.timestamp as number) || Date.now(),\n\n    // Ïà´Ïûê ÌÉÄÏûÖÏúºÎ°ú Î≥ÄÌôòÌïòÏó¨ ÏßÄÏ†ï\n    heapUsed: (nativeInfo.heap_used as number) || (nativeInfo.heapUsed as number) || 0,\n    heapTotal: (nativeInfo.heap_total as number) || (nativeInfo.heapTotal as number) || 0,\n    rss: (nativeInfo.rss as number) || 0,\n    heapUsedMB: (nativeInfo.heap_used_mb as number) || (nativeInfo.heapUsedMB as number) || 0,\n    rssMB: (nativeInfo.rss_mb as number) || (nativeInfo.rssMB as number) || 0,\n    percentUsed: (nativeInfo.percent_used as number) || (nativeInfo.percentUsed as number) || 0,\n    heapLimit: (nativeInfo.heap_limit as number) || (nativeInfo.heapLimit as number) || 0,\n    external: (nativeInfo.external as number) || 0,\n  };\n}\n","/**\n * ÏµúÏ†ÅÌôî Î†àÎ≤® Ïó¥Í±∞Ìòï Î≥ÄÌôò Ïú†Ìã∏Î¶¨Ìã∞\n */\n\n// ÌïÑÏöîÌïú Ïó¥Í±∞Ìòï ÌÉÄÏûÖÎì§ÏùÑ ÏßÅÏ†ë Ï†ïÏùò\n// ÏµúÏ†ÅÌôî Î†àÎ≤® Ïó¥Í±∞Ìòï\nexport enum OptimizationLevel {\n  NONE = 0, // ÏµúÏ†ÅÌôî ÏóÜÏùå\n  NORMAL = 0, // ÏùºÎ∞ò ÏµúÏ†ÅÌôî\n  LOW = 1, // ÎÇÆÏùÄ ÏàòÏ§ÄÏùò ÏµúÏ†ÅÌôî\n  MEDIUM = 2, // Ï§ëÍ∞Ñ ÏàòÏ§ÄÏùò ÏµúÏ†ÅÌôî\n  HIGH = 3, // ÎÜíÏùÄ ÏàòÏ§ÄÏùò ÏµúÏ†ÅÌôî\n  AGGRESSIVE = 4, // Ï†ÅÍ∑πÏ†ÅÏù∏ ÏµúÏ†ÅÌôî\n  CRITICAL = 4, // Ï§ëÏöî ÏÉÅÌô© ÏµúÏ†ÅÌôî\n  EXTREME = 4, // Í∑πÎã®Ï†ÅÏù∏ ÏµúÏ†ÅÌôî\n}\n\n// ÎÑ§Ïù¥Ìã∞Î∏å ÏµúÏ†ÅÌôî Î†àÎ≤® Ïó¥Í±∞Ìòï\nexport enum NativeOptimizationLevel {\n  Normal = 0,\n  Low = 1,\n  Medium = 2,\n  High = 3,\n  Critical = 4,\n}\n\n// Î©îÎ™®Î¶¨ Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ Ïó¥Í±∞Ìòï\nexport enum MemoryEventType {\n  PERIODIC_CHECK = 'periodic_check',\n  PAGE_NAVIGATION = 'page_navigation',\n  OPTIMIZATION = 'optimization',\n  COMPONENT_MOUNT = 'component_mount',\n  COMPONENT_UNMOUNT = 'component_unmount',\n  USER_ACTION = 'user_action',\n  GARBAGE_COLLECTION = 'garbage_collection',\n  RESOURCE_LOADING = 'resource_loading',\n  ERROR = 'error',\n  WARNING = 'warning',\n  CUSTOM = 'custom',\n}\n\n// Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î†àÎ≤® Ïó¥Í±∞Ìòï\nexport enum MemoryUsageLevel {\n  LOW = 0,\n  MEDIUM = 1,\n  HIGH = 2,\n  CRITICAL = 3,\n}\n\n// GPU ÏûëÏóÖ ÌÉÄÏûÖ Ïó¥Í±∞Ìòï\nexport enum GpuTaskType {\n  MATRIX_MULTIPLICATION = 0,\n  TEXT_ANALYSIS = 1,\n  PATTERN_DETECTION = 2,\n  IMAGE_PROCESSING = 3,\n  DATA_AGGREGATION = 4,\n  TYPING_STATISTICS = 5,\n  CUSTOM = 6,\n}\n\n// Ïï± Î†àÎ≤®Í≥º ÎÑ§Ïù¥Ìã∞Î∏å Î†àÎ≤® Í∞ÑÏùò Îß§Ìïë (Ï§ëÎ≥µ ÌÇ§ ÌöåÌîºÎ•º ÏúÑÌï¥ Ìï®ÏàòÎ°ú ÎåÄÏ≤¥)\nexport function getNativeOptimizationLevel(level: OptimizationLevel): NativeOptimizationLevel {\n  switch (level) {\n    case OptimizationLevel.NONE:\n    case OptimizationLevel.NORMAL:\n      return NativeOptimizationLevel.Normal;\n    case OptimizationLevel.LOW:\n      return NativeOptimizationLevel.Low;\n    case OptimizationLevel.MEDIUM:\n      return NativeOptimizationLevel.Medium;\n    case OptimizationLevel.HIGH:\n      return NativeOptimizationLevel.High;\n    case OptimizationLevel.AGGRESSIVE:\n    case OptimizationLevel.CRITICAL:\n    case OptimizationLevel.EXTREME:\n      return NativeOptimizationLevel.Critical;\n    default:\n      return NativeOptimizationLevel.Medium; // Í∏∞Î≥∏Í∞í\n  }\n}\n\n// ÎÑ§Ïù¥Ìã∞Î∏å Î†àÎ≤®ÏóêÏÑú Ïï± Î†àÎ≤®Î°úÏùò Îß§Ìïë (Ìï®ÏàòÎ°ú Íµ¨ÌòÑ)\nexport function getAppOptimizationLevel(level: NativeOptimizationLevel): OptimizationLevel {\n  switch (level) {\n    case NativeOptimizationLevel.Normal:\n      return OptimizationLevel.NORMAL;\n    case NativeOptimizationLevel.Low:\n      return OptimizationLevel.LOW;\n    case NativeOptimizationLevel.Medium:\n      return OptimizationLevel.MEDIUM;\n    case NativeOptimizationLevel.High:\n      return OptimizationLevel.HIGH;\n    case NativeOptimizationLevel.Critical:\n      return OptimizationLevel.CRITICAL;\n    default:\n      return OptimizationLevel.MEDIUM; // Í∏∞Î≥∏Í∞í\n  }\n}\n\n/**\n * ÏµúÏ†ÅÌôî Î†àÎ≤® Î¨∏ÏûêÏó¥ÏùÑ Ïó¥Í±∞ÌòïÏúºÎ°ú Î≥ÄÌôò\n * @param level Î†àÎ≤® Î¨∏ÏûêÏó¥ ÎòêÎäî Ïà´Ïûê\n */\nexport function parseOptimizationLevel(level: string | number): OptimizationLevel {\n  if (typeof level === 'number') {\n    if (level >= 0 && level <= 4) {\n      return level as OptimizationLevel;\n    }\n    return OptimizationLevel.NORMAL;\n  }\n\n  switch (level.toLowerCase()) {\n    case 'normal':\n      return OptimizationLevel.NORMAL;\n    case 'low':\n      return OptimizationLevel.LOW;\n    case 'medium':\n      return OptimizationLevel.MEDIUM;\n    case 'high':\n      return OptimizationLevel.HIGH;\n    case 'critical':\n      return OptimizationLevel.CRITICAL;\n    default:\n      // Ïà´Ïûê Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ Î≥ÄÌôò ÏãúÎèÑ\n      const num = parseInt(level, 10);\n      if (!isNaN(num) && num >= 0 && num <= 4) {\n        return num as OptimizationLevel;\n      }\n      return OptimizationLevel.NORMAL;\n  }\n}\n\n/**\n * ÏµúÏ†ÅÌôî Î†àÎ≤®ÏùÑ ÏÇ¨ÎûåÏù¥ ÏùΩÍ∏∞ Ïâ¨Ïö¥ Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò\n * @param level ÏµúÏ†ÅÌôî Î†àÎ≤®\n */\nexport function formatOptimizationLevel(level: OptimizationLevel): string {\n  switch (level) {\n    case OptimizationLevel.NORMAL:\n      return 'ÏùºÎ∞ò';\n    case OptimizationLevel.LOW:\n      return 'ÎÇÆÏùå';\n    case OptimizationLevel.MEDIUM:\n      return 'Ï§ëÍ∞Ñ';\n    case OptimizationLevel.HIGH:\n      return 'ÎÜíÏùå';\n    case OptimizationLevel.CRITICAL:\n      return 'ÏúÑÌóò';\n    default:\n      return 'Ïïå Ïàò ÏóÜÏùå';\n  }\n}\n\n/**\n * Î©îÎ™®Î¶¨ Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ Ìè¨Îß∑ÌåÖ\n */\nexport function formatMemoryEventType(eventType: MemoryEventType): string {\n  switch (eventType) {\n    case MemoryEventType.PERIODIC_CHECK:\n      return 'Ï£ºÍ∏∞Ï†Å ÌôïÏù∏';\n    case MemoryEventType.PAGE_NAVIGATION:\n      return 'ÌéòÏù¥ÏßÄ ÌÉêÏÉâ';\n    case MemoryEventType.OPTIMIZATION:\n      return 'ÏµúÏ†ÅÌôî';\n    case MemoryEventType.COMPONENT_MOUNT:\n      return 'Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏';\n    case MemoryEventType.COMPONENT_UNMOUNT:\n      return 'Ïª¥Ìè¨ÎÑåÌä∏ Ïñ∏ÎßàÏö¥Ìä∏';\n    case MemoryEventType.USER_ACTION:\n      return 'ÏÇ¨Ïö©Ïûê Ïï°ÏÖò';\n    case MemoryEventType.GARBAGE_COLLECTION:\n      return 'Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖò';\n    case MemoryEventType.RESOURCE_LOADING:\n      return 'Î¶¨ÏÜåÏä§ Î°úÎî©';\n    case MemoryEventType.ERROR:\n      return 'Ïò§Î•ò';\n    case MemoryEventType.WARNING:\n      return 'Í≤ΩÍ≥†';\n    case MemoryEventType.CUSTOM:\n      return 'ÏÇ¨Ïö©Ïûê Ï†ïÏùò';\n    default:\n      return 'Ïïå Ïàò ÏóÜÏùå';\n  }\n}\n\n/**\n * GPU ÏûëÏóÖ ÌÉÄÏûÖ Ï†ïÍ∑úÌôî\n */\nexport function normalizeGpuTaskType(taskType: string | GpuTaskType): string {\n  if (typeof taskType === 'number') {\n    // Ïó¥Í±∞ÌòïÏóêÏÑú Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò\n    switch (taskType) {\n      case GpuTaskType.MATRIX_MULTIPLICATION:\n        return 'matrix';\n      case GpuTaskType.TEXT_ANALYSIS:\n        return 'text';\n      case GpuTaskType.PATTERN_DETECTION:\n        return 'pattern';\n      case GpuTaskType.IMAGE_PROCESSING:\n        return 'image';\n      case GpuTaskType.DATA_AGGREGATION:\n        return 'data';\n      case GpuTaskType.TYPING_STATISTICS:\n        return 'typing';\n      case GpuTaskType.CUSTOM:\n        return 'custom';\n      default:\n        return 'matrix'; // Í∏∞Î≥∏Í∞í\n    }\n  }\n\n  // Ïù¥ÎØ∏ Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ ÌëúÏ§ÄÌôî\n  switch (taskType.toLowerCase()) {\n    case 'matrix':\n    case 'matrixmultiplication':\n    case 'matrix-multiplication':\n      return 'matrix';\n    case 'text':\n    case 'textanalysis':\n    case 'text-analysis':\n      return 'text';\n    case 'pattern':\n    case 'patterndetection':\n    case 'pattern-detection':\n      return 'pattern';\n    case 'image':\n    case 'imageprocessing':\n    case 'image-processing':\n      return 'image';\n    case 'data':\n    case 'dataaggregation':\n    case 'data-aggregation':\n      return 'data';\n    case 'typing':\n    case 'typingstatistics':\n    case 'typing-statistics':\n      return 'typing';\n    case 'custom':\n      return 'custom';\n    default:\n      return 'matrix'; // Í∏∞Î≥∏Í∞í\n  }\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î†àÎ≤® Í∞ÄÏ†∏Ïò§Í∏∞\n */\nexport function getMemoryUsageLevel(percentUsed: number): MemoryUsageLevel {\n  if (percentUsed >= 90) {\n    return MemoryUsageLevel.CRITICAL;\n  } else if (percentUsed >= 70) {\n    return MemoryUsageLevel.HIGH;\n  } else if (percentUsed >= 50) {\n    return MemoryUsageLevel.MEDIUM;\n  } else {\n    return MemoryUsageLevel.LOW;\n  }\n}\n\n/**\n * Ïà´ÏûêÎ•º Ï†ÅÏ†àÌïú ÏµúÏ†ÅÌôî Î†àÎ≤®Î°ú ÏïàÏ†ÑÌïòÍ≤å Î≥ÄÌôò\n */\nexport function safeOptimizationLevel(level: number): OptimizationLevel {\n  switch (level) {\n    case 0:\n      return OptimizationLevel.NORMAL;\n    case 1:\n      return OptimizationLevel.LOW;\n    case 2:\n      return OptimizationLevel.MEDIUM;\n    case 3:\n      return OptimizationLevel.HIGH;\n    case 4:\n      return OptimizationLevel.CRITICAL;\n    default:\n      console.warn(`Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏµúÏ†ÅÌôî Î†àÎ≤® (${level}), Í∏∞Î≥∏Í∞í ÏÇ¨Ïö©`);\n      return OptimizationLevel.MEDIUM;\n  }\n}\n\n/**\n * ÌÉÄÏûÖ Î≥ÄÌôò Ïú†Ìã∏Î¶¨Ìã∞ - ÎÑ§Ïù¥Ìã∞Î∏å Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î•º Ïï± Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î°ú Î≥ÄÌôò\n */\nexport function convertNativeMemoryInfo(nativeInfo: any): any {\n  if (!nativeInfo) return null;\n\n  return {\n    timestamp: nativeInfo.timestamp || Date.now(),\n    heap_used: nativeInfo.heap_used,\n    heapUsed: nativeInfo.heap_used,\n    heap_total: nativeInfo.heap_total,\n    heapTotal: nativeInfo.heap_total,\n    heap_used_mb: nativeInfo.heap_used_mb,\n    heapUsedMB: nativeInfo.heap_used_mb,\n    rss: nativeInfo.rss,\n    rss_mb: nativeInfo.rss_mb,\n    rssMB: nativeInfo.rss_mb,\n    percent_used: nativeInfo.percent_used,\n    percentUsed: nativeInfo.percent_used,\n    heap_limit: nativeInfo.heap_limit,\n    heapLimit: nativeInfo.heap_limit,\n  };\n}\n\n/**\n * ÌÉÄÏûÖ Î≥ÄÌôò Ïú†Ìã∏Î¶¨Ìã∞ - ÎÑ§Ïù¥Ìã∞Î∏å GC Í≤∞Í≥ºÎ•º Ïï± GC Í≤∞Í≥ºÎ°ú Î≥ÄÌôò\n */\nexport function convertNativeGCResult(nativeResult: any): any {\n  if (!nativeResult) return null;\n\n  return {\n    success: nativeResult.success,\n    timestamp: nativeResult.timestamp || Date.now(),\n    freedMemory: nativeResult.freed_memory,\n    freed_memory: nativeResult.freed_memory,\n    freedMB: nativeResult.freed_mb,\n    freed_mb: nativeResult.freed_mb,\n    error: nativeResult.error,\n  };\n}\n\n/**\n * ÏµúÏ†ÅÌôî Î†àÎ≤® Î≥ÄÌôò Ìï®ÏàòÎì§\n */\nexport function getOptimizationLevelFromNumber(level: number): OptimizationLevel {\n  switch (level) {\n    case 0:\n      return OptimizationLevel.NONE;\n    case 1:\n      return OptimizationLevel.LOW;\n    case 2:\n      return OptimizationLevel.MEDIUM;\n    case 3:\n      return OptimizationLevel.HIGH;\n    case 4:\n      return OptimizationLevel.AGGRESSIVE;\n    default:\n      return OptimizationLevel.MEDIUM;\n  }\n}\n\nexport function getOptimizationLevelFromString(level: string): OptimizationLevel {\n  switch (level.toLowerCase()) {\n    case 'none':\n      return OptimizationLevel.NONE;\n    case 'low':\n      return OptimizationLevel.LOW;\n    case 'medium':\n      return OptimizationLevel.MEDIUM;\n    case 'high':\n      return OptimizationLevel.HIGH;\n    case 'aggressive':\n      return OptimizationLevel.AGGRESSIVE;\n    default:\n      return OptimizationLevel.MEDIUM;\n  }\n}\n\n// Ïù∏Îç±Ïä§ ÏãùÏù¥ 'number' ÌòïÏãùÏù¥ ÏïÑÎãàÎØÄÎ°ú Î∞úÏÉùÌïòÎäî Ïò§Î•ò ÏàòÏ†ï\nexport function getOptimizationLevelName(level: OptimizationLevel): string {\n  const names: Record<OptimizationLevel, string> = {\n    [OptimizationLevel.NONE]: 'ÏóÜÏùå',\n    [OptimizationLevel.LOW]: 'ÎÇÆÏùå',\n    [OptimizationLevel.MEDIUM]: 'Ï§ëÍ∞Ñ',\n    [OptimizationLevel.HIGH]: 'ÎÜíÏùå',\n    [OptimizationLevel.AGGRESSIVE]: 'Ï†ÅÍ∑πÏ†Å',\n  };\n\n  return names[level] || 'Ï§ëÍ∞Ñ';\n}\n\n/**\n * toNativeOptimizationLevel Ìï®ÏàòÏùò Î≥ÑÏπ≠ - Ïù¥Ï†Ñ ÏΩîÎìúÏôÄÏùò Ìò∏ÌôòÏÑ± Ïú†ÏßÄÎ•º ÏúÑÌï¥ Ï∂îÍ∞Ä\n * @param level ÏµúÏ†ÅÌôî Î†àÎ≤®\n * @returns ÎÑ§Ïù¥Ìã∞Î∏å ÏµúÏ†ÅÌôî Î†àÎ≤®\n */\nexport function toNativeOptimizationLevel(level: OptimizationLevel): NativeOptimizationLevel {\n  return getNativeOptimizationLevel(level);\n}\n","/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏΩîÏñ¥ Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïù¥ Î™®ÎìàÏùÄ ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà Í∏∞Î∞ò ÏµúÏ†ÅÌôî Ìï®ÏàòÎ•º Ï†úÍ≥µÌï©ÎãàÎã§.\n * Î™®Îì† ÏµúÏ†ÅÌôî ÏûëÏóÖÏùÄ RustÎ°ú Íµ¨ÌòÑÎêú ÎÑ§Ïù¥Ìã∞Î∏å Î™®ÎìàÏùÑ ÌÜµÌï¥ ÏàòÌñâÎê©ÎãàÎã§.\n */\n\nimport { requestNativeMemoryOptimization } from '../native-memory-bridge';\nimport { suggestGarbageCollection, requestGC } from './gc-utils';\nimport { OptimizationLevel as AppOptimizationLevel } from '@/types';\nimport { OptimizationLevel as NativeOptimizationLevel } from '@/types/native-module';\nimport { getNativeOptimizationLevel } from '../enum-converters';\n\n/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏàòÌñâ Ìï®Ïàò (ÎÇ¥Î∂Ä Íµ¨ÌòÑ)\n * ÎÑ§Ïù¥Ìã∞Î∏å Î™®ÎìàÏùÑ ÌÜµÌï¥ Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôîÎ•º ÏàòÌñâÌï©ÎãàÎã§.\n *\n * @param {boolean} aggressive Ï†ÅÍ∑πÏ†Å ÏµúÏ†ÅÌôî Ïó¨Î∂Ä\n * @returns {Promise<boolean>} ÏÑ±Í≥µ Ïó¨Î∂Ä\n */\nexport async function internalOptimizeMemory(aggressive: boolean = false): Promise<boolean> {\n  try {\n    // Ï†ÅÏ†àÌïú ÏµúÏ†ÅÌôî Î†àÎ≤® ÏÑ†ÌÉù\n    const appLevel = aggressive ? AppOptimizationLevel.HIGH : AppOptimizationLevel.MEDIUM;\n    // Î™ÖÏãúÏ†Å Î≥ÄÌôò Ìï®Ïàò ÏÇ¨Ïö©\n    const nativeLevel = getNativeOptimizationLevel(appLevel);\n\n    // ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà ÏµúÏ†ÅÌôî Ìò∏Ï∂ú\n    const result = await requestNativeMemoryOptimization(nativeLevel, aggressive);\n\n    if (!result) {\n      console.warn('ÎÑ§Ïù¥Ìã∞Î∏å Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî Ïã§Ìå®');\n      return false;\n    }\n\n    // Î∏åÎùºÏö∞Ï†ÄÏóê GC ÌûåÌä∏ Ï†úÍ≥µ\n    suggestGarbageCollection();\n\n    // Electron Î©îÏù∏ ÌîÑÎ°úÏÑ∏Ïä§Ïóê Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏöîÏ≤≠ (ÏßÄÏõêÎêòÎäî Í≤ΩÏö∞)\n    if (window.electronAPI && window.electronAPI.optimizeMemory) {\n      window.electronAPI.optimizeMemory(aggressive);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî Ï§ë Ïò§Î•ò:', error);\n    return false;\n  }\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏàòÌñâ Ìï®Ïàò (Í≥µÍ∞ú API)\n *\n * @param {boolean} deepCleanup Ïã¨Ï∏µ Ï†ïÎ¶¨ Ïó¨Î∂Ä\n * @returns {Promise<boolean>} ÏÑ±Í≥µ Ïó¨Î∂Ä\n */\nexport async function optimizeMemory(deepCleanup = false): Promise<boolean> {\n  try {\n    // Ï†ÅÍ∑πÏ†ÅÏù∏ ÌîåÎûòÍ∑∏ ÏÑ§Ï†ï\n    const aggressive = deepCleanup;\n\n    // ÎÇ¥Î∂Ä ÏµúÏ†ÅÌôî Ìï®Ïàò Ìò∏Ï∂ú\n    const result = await internalOptimizeMemory(aggressive);\n\n    // GC ÏöîÏ≤≠\n    await requestGC(deepCleanup);\n\n    return result;\n  } catch (error) {\n    console.error('Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî Ïò§Î•ò:', error);\n    return false;\n  }\n}\n","/**\n * ÏÑ±Îä• Ï∏°Ï†ï Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïù¥ Î™®ÎìàÏùÄ ÎÑ§Ïù¥Ìã∞Î∏å Î™®ÎìàÍ≥º JavaScript Íµ¨ÌòÑ Í∞ÑÏùò ÏÑ±Îä•ÏùÑ ÎπÑÍµêÌïòÍ∏∞ ÏúÑÌïú\n * ÎèÑÍµ¨Î•º Ï†úÍ≥µÌï©ÎãàÎã§. Ï∏°Ï†ï Í≤∞Í≥ºÎäî Î°úÍ∑∏ÏôÄ ÎåÄÏãúÎ≥¥ÎìúÏóê ÌëúÏãúÎê† Ïàò ÏûàÏäµÎãàÎã§.\n */\n\nimport { OptimizationLevel } from '@/types';\nimport { getNativeOptimizationLevel } from './enum-converters';\nimport { requestNativeMemoryOptimization } from './native-memory-bridge';\nimport { internalOptimizeMemory } from './memory/optimizer';\nimport { getMemoryInfo } from './memory/memory-info';\nimport { getNativeModuleStatus } from './nativeModuleClient';\n\n// OptimizationLevel ÏÉÅÏàò Í∞í Ï†ïÏùò (AppOptimizationLevel ÌÉÄÏûÖÏùÑ Í∞íÏúºÎ°ú ÎåÄÏ≤¥)\nconst OPTIMIZATION_LEVEL = {\n  NORMAL: 0,\n  LOW: 1,\n  MEDIUM: 2,\n  HIGH: 3,\n  EXTREME: 4,\n} as const;\n\n// ÏÑ±Îä• Ï∏°Ï†ï Í≤∞Í≥º Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface PerformanceResult {\n  operationName: string;\n  nativeImplementation: {\n    executionTime: number;\n    success: boolean;\n    error?: string;\n  };\n  jsImplementation: {\n    executionTime: number;\n    success: boolean;\n    error?: string;\n  };\n  speedupFactor: number;\n  timestamp: number;\n  memoryBefore: any;\n  memoryAfter: any;\n  memoryDifference: number;\n}\n\n// ÏÑ±Îä• Ï∏°Ï†ï Ïù¥Î†•\nconst performanceHistory: PerformanceResult[] = [];\n\n/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏÑ±Îä• ÎπÑÍµê Ïã§Ìñâ\n * @param level ÏµúÏ†ÅÌôî Î†àÎ≤®\n * @param emergency Í∏¥Í∏â Î™®Îìú Ïó¨Î∂Ä\n * @returns Promise<PerformanceResult> ÏÑ±Îä• Ï∏°Ï†ï Í≤∞Í≥º\n */\nexport async function benchmarkMemoryOptimization(\n  level: number = OPTIMIZATION_LEVEL.MEDIUM,\n  emergency: boolean = false\n): Promise<PerformanceResult> {\n  // Ï¥àÍ∏∞ Î©îÎ™®Î¶¨ ÏÉÅÌÉú Í∏∞Î°ù\n  const memoryBefore = (await getMemoryInfo()) || { heapUsedMB: 0 };\n\n  // ÎÑ§Ïù¥Ìã∞Î∏å Íµ¨ÌòÑ ÌÖåÏä§Ìä∏\n  let nativeResult = {\n    executionTime: 0,\n    success: false,\n    error: undefined as string | undefined,\n  };\n\n  // ÎÑ§Ïù¥Ìã∞Î∏å Î™®Îìà ÏÇ¨Ïö© Í∞ÄÎä• Ïó¨Î∂Ä ÌôïÏù∏\n  const { available } = await getNativeModuleStatus();\n\n  if (available) {\n    try {\n      const nativeStartTime = performance.now();\n      const nativeLevel = getNativeOptimizationLevel(level as unknown as OptimizationLevel);\n      await requestNativeMemoryOptimization(nativeLevel, emergency);\n      const nativeEndTime = performance.now();\n\n      nativeResult = {\n        executionTime: nativeEndTime - nativeStartTime,\n        success: true,\n        error: undefined,\n      };\n    } catch (error) {\n      nativeResult.error = error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò';\n    }\n  } else {\n    nativeResult.error = 'ÎÑ§Ïù¥Ìã∞Î∏å Î™®ÎìàÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏùå';\n  }\n\n  // ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Íµ¨ÌòÑ ÌÖåÏä§Ìä∏\n  let jsResult = {\n    executionTime: 0,\n    success: false,\n    error: undefined as string | undefined,\n  };\n\n  try {\n    const jsStartTime = performance.now();\n    await internalOptimizeMemory(emergency);\n    const jsEndTime = performance.now();\n\n    jsResult = {\n      executionTime: jsEndTime - jsStartTime,\n      success: true,\n      error: undefined,\n    };\n  } catch (error) {\n    jsResult.error = error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò';\n  }\n\n  // ÏµúÏ¢Ö Î©îÎ™®Î¶¨ ÏÉÅÌÉú Í∏∞Î°ù\n  const memoryAfter = (await getMemoryInfo()) || { heapUsedMB: 0 };\n  const _freedMB = (memoryBefore.heapUsedMB ?? 0) - (memoryAfter.heapUsedMB ?? 0); // ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Î≥ÄÏàò ÏïûÏóê _ Ï∂îÍ∞Ä\n\n  // ÏÑ±Îä• ÎπÑÍµê Í≤∞Í≥º Í≥ÑÏÇ∞\n  const speedupFactor =\n    jsResult.success && nativeResult.success && nativeResult.executionTime > 0\n      ? jsResult.executionTime / nativeResult.executionTime\n      : 0;\n\n  // Î©îÎ™®Î¶¨ Ï∞®Ïù¥ Í≥ÑÏÇ∞ (MB Îã®ÏúÑ)\n  const memoryDifference = (memoryBefore?.heapUsedMB ?? 0) - (memoryAfter?.heapUsedMB ?? 0);\n\n  // Í≤∞Í≥º Í∞ùÏ≤¥ ÏÉùÏÑ±\n  const result: PerformanceResult = {\n    operationName: `Memory Optimization (Level ${level}, Emergency: ${emergency})`,\n    nativeImplementation: nativeResult,\n    jsImplementation: jsResult,\n    speedupFactor,\n    timestamp: Date.now(),\n    memoryBefore,\n    memoryAfter,\n    memoryDifference,\n  };\n\n  // Ïù¥Î†•Ïóê Ï∂îÍ∞Ä\n  performanceHistory.push(result);\n  if (performanceHistory.length > 50) {\n    performanceHistory.shift(); // ÏµúÎåÄ 50Í∞ú Ìï≠Î™© Ïú†ÏßÄ\n  }\n\n  // Í≤∞Í≥º Î°úÍπÖ\n  logPerformanceResult(result);\n\n  return result;\n}\n\n/**\n * ÏÑ±Îä• Ï∏°Ï†ï Í≤∞Í≥º Î°úÍπÖ\n * @param result ÏÑ±Îä• Ï∏°Ï†ï Í≤∞Í≥º\n */\nfunction logPerformanceResult(result: PerformanceResult): void {\n  console.group('üîç ÏÑ±Îä• ÎπÑÍµê Í≤∞Í≥º');\n  console.log(`ÏûëÏóÖ: ${result.operationName}`);\n  console.log(`ÏãúÍ∞Ñ: ${new Date(result.timestamp).toLocaleTimeString()}`);\n\n  console.group('‚öôÔ∏è ÎÑ§Ïù¥Ìã∞Î∏å Íµ¨ÌòÑ');\n  console.log(`Ïã§Ìñâ ÏãúÍ∞Ñ: ${result.nativeImplementation.executionTime.toFixed(2)}ms`);\n  console.log(`ÏÑ±Í≥µ Ïó¨Î∂Ä: ${result.nativeImplementation.success ? '‚úÖ' : '‚ùå'}`);\n  if (result.nativeImplementation.error) {\n    console.error(`Ïò§Î•ò: ${result.nativeImplementation.error}`);\n  }\n  console.groupEnd();\n\n  console.group('üîß JavaScript Íµ¨ÌòÑ');\n  console.log(`Ïã§Ìñâ ÏãúÍ∞Ñ: ${result.jsImplementation.executionTime.toFixed(2)}ms`);\n  console.log(`ÏÑ±Í≥µ Ïó¨Î∂Ä: ${result.jsImplementation.success ? '‚úÖ' : '‚ùå'}`);\n  if (result.jsImplementation.error) {\n    console.error(`Ïò§Î•ò: ${result.jsImplementation.error}`);\n  }\n  console.groupEnd();\n\n  if (result.speedupFactor > 0) {\n    console.log(\n      `‚ö° ÏÜçÎèÑ Ìñ•ÏÉÅ: ${result.speedupFactor.toFixed(2)}x ${result.speedupFactor > 1 ? '(ÎÑ§Ïù¥Ìã∞Î∏åÍ∞Ä Îçî Îπ†Î¶Ñ)' : '(JSÍ∞Ä Îçî Îπ†Î¶Ñ)'}`\n    );\n  }\n\n  console.log(\n    `üíæ Î©îÎ™®Î¶¨ Ï∞®Ïù¥: ${result.memoryDifference.toFixed(2)}MB ${result.memoryDifference > 0 ? 'Í∞êÏÜå' : 'Ï¶ùÍ∞Ä'}`\n  );\n  console.groupEnd();\n}\n\n/**\n * ÏÑ±Îä• Ï∏°Ï†ï Ïù¥Î†• Í∞ÄÏ†∏Ïò§Í∏∞\n * @returns ÏÑ±Îä• Ï∏°Ï†ï Ïù¥Î†• Î∞∞Ïó¥\n */\nexport function getPerformanceHistory(): PerformanceResult[] {\n  return [...performanceHistory];\n}\n\n// optimizeMemory Ìï®Ïàò Ï∂îÍ∞Ä (Ïã§Ï†úÎ°úÎäî requestNativeMemoryOptimizationÏùÑ ÎûòÌïë)\nasync function optimizeMemory(level: number, emergency: boolean = false): Promise<void> {\n  await requestNativeMemoryOptimization(level as unknown as number, emergency);\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÏûëÏóÖÏóê ÎåÄÌïú Î≤§ÏπòÎßàÌÅ¨ Ïã§Ìñâ\n * Î™®Îì† ÏµúÏ†ÅÌôî Î†àÎ≤®Ïóê ÎåÄÌï¥ ÏÑ±Îä• Ï∏°Ï†ïÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.\n */\nexport async function runComprehensiveBenchmark(): Promise<PerformanceResult[]> {\n  const results: PerformanceResult[] = [];\n\n  // Î™®Îì† ÏµúÏ†ÅÌôî Î†àÎ≤®Ïóê ÎåÄÌï¥ ÌÖåÏä§Ìä∏\n  const optimizationLevel = 2; // Ï§ëÍ∞Ñ Î†àÎ≤® ÏÇ¨Ïö©\n  for (let level = 0; level <= 4; level++) {\n    results.push(await benchmarkMemoryOptimization(level, false));\n    // ÌÖåÏä§Ìä∏ Í∞Ñ Í∞ÑÍ≤©ÏùÑ ÎëêÏñ¥ Ïù¥Ï†Ñ ÌÖåÏä§Ìä∏Ïùò ÏòÅÌñ• ÏµúÏÜåÌôî\n    await new Promise(resolve => setTimeout(resolve, 1000));\n  }\n\n  // Í∏¥Í∏â Î™®Îìú ÌÖåÏä§Ìä∏\n  await optimizeMemory(optimizationLevel);\n  results.push(await benchmarkMemoryOptimization(OPTIMIZATION_LEVEL.EXTREME, true));\n\n  // Ï¢ÖÌï© Í≤∞Í≥º Î°úÍπÖ\n  console.group('üìä Ï¢ÖÌï© Î≤§ÏπòÎßàÌÅ¨ Í≤∞Í≥º');\n  console.log(`Ï¥ù ${results.length}Í∞ú ÌÖåÏä§Ìä∏ Ïã§ÌñâÎê®`);\n\n  const avgSpeedup = results.reduce((sum, r) => sum + r.speedupFactor, 0) / results.length;\n  console.log(`ÌèâÍ∑† ÏÜçÎèÑ Ìñ•ÏÉÅ: ${avgSpeedup.toFixed(2)}x`);\n\n  console.log(`ÏµúÍ≥† ÏÜçÎèÑ Ìñ•ÏÉÅ: ${Math.max(...results.map(r => r.speedupFactor)).toFixed(2)}x`);\n  console.log(\n    `Ï¥ù Ìï¥Ï†úÎêú Î©îÎ™®Î¶¨: ${results.reduce((sum, r) => sum + r.memoryDifference, 0).toFixed(2)}MB`\n  );\n  console.groupEnd();\n\n  return results;\n}\n\n/**\n * Îëê Í∞ÄÏßÄ ÏµúÏ†ÅÌôî Î†àÎ≤®ÏùÑ ÎßµÌïëÌïòÎäî Ïú†Ìã∏Î¶¨Ìã∞\n */\nexport function convertOptimizationLevel(level: number): number {\n  const _appOptimizationLevel = 2; // ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Î≥ÄÏàò ÏïûÏóê _ Ï∂îÍ∞Ä\n  // someFunction Ï†úÍ±∞\n  return level;\n}\n","/**\r\n * Î©îÎ™®Î¶¨ Í¥ÄÎ†® Ìè¨Îß∑ Ïú†Ìã∏Î¶¨Ìã∞\r\n */\r\n\r\nimport { MemoryInfo } from '@/types';\r\n\r\n// Í∏∞Î≥∏ Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ (ÌååÏùºÏóêÏÑúÎßå ÏÇ¨Ïö©)\r\ninterface OriginalMemoryInfo {\r\n  heapUsed: number;\r\n  heapTotal: number;\r\n  rss: number;\r\n  external?: number;\r\n}\r\n\r\n/**\r\n * Î∞îÏù¥Ìä∏ Îã®ÏúÑÎ•º Ï†ÅÏ†àÌïú Îã®ÏúÑÎ°ú Ìè¨Îß∑ÌåÖ\r\n * @param bytes Î∞îÏù¥Ìä∏ Í∞í\r\n * @param decimals ÏÜåÏàòÏ†ê ÏûêÎ¶øÏàò\r\n * @returns Ìè¨Îß∑ÌåÖÎêú Î¨∏ÏûêÏó¥\r\n */\r\nexport function formatBytes(bytes: number, decimals: number = 2): string {\r\n  if (bytes === 0) return '0 Bytes';\r\n\r\n  const k = 1024;\r\n  const dm = decimals < 0 ? 0 : decimals;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏùÑ ÌçºÏÑºÌä∏Î°ú Ìè¨Îß∑ÌåÖ\r\n * @param percent Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Î∞±Î∂ÑÏú®\r\n */\r\nexport function formatMemoryPercent(percent: number): string {\r\n  return `${Math.round(percent)}%`;\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ ÌÅ¨Í∏∞Î•º MB Îã®ÏúÑÎ°ú Ìè¨Îß∑ÌåÖ\r\n * @param bytes Î∞îÏù¥Ìä∏ Ïàò\r\n */\r\nexport function formatMegabytes(bytes: number): string {\r\n  const mb = bytes / (1024 * 1024);\r\n  return `${mb.toFixed(2)} MB`;\r\n}\r\n\r\n/**\r\n * ÌçºÏÑºÌä∏ Í≥ÑÏÇ∞\r\n * @param value - ÌòÑÏû¨ Í∞í\r\n * @param total - Ï†ÑÏ≤¥ Í∞í\r\n * @returns Î∞±Î∂ÑÏú® Í∞í\r\n */\r\nexport function calculatePercentage(value: number, total: number): number {\r\n  if (total === 0) return 0;\r\n  return Math.round((value / total) * 100 * 10) / 10;\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Ï†ïÎ≥¥Î•º Ìè¨Îß∑ÌåÖÌï©ÎãàÎã§.\r\n * @param memoryInfo - Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ùÏ≤¥\r\n * @returns Ìè¨Îß∑ÌåÖÎêú Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Î¨∏ÏûêÏó¥\r\n */\r\nexport function formatMemoryInfo(memoryInfo: OriginalMemoryInfo): string {\r\n  if (!memoryInfo) return 'No memory information available';\r\n\r\n  const { heapUsed, heapTotal, rss } = memoryInfo;\r\n  const usedPercent = calculatePercentage(heapUsed, heapTotal);\r\n\r\n  return `Memory Usage: ${formatBytes(heapUsed)} / ${formatBytes(heapTotal)} (${usedPercent}%)\r\nRSS: ${formatBytes(rss)}`;\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏùÑ MB Îã®ÏúÑÎ°ú Î≥ÄÌôòÌï©ÎãàÎã§.\r\n * @param bytes - Î∞îÏù¥Ìä∏ Îã®ÏúÑÏùò Î©îÎ™®Î¶¨ ÌÅ¨Í∏∞\r\n * @returns MB Îã®ÏúÑÏùò Î©îÎ™®Î¶¨ ÌÅ¨Í∏∞\r\n */\r\nexport function bytesToMB(bytes: number): number {\r\n  return Math.round((bytes / 1024 / 1024) * 100) / 100;\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ ÌëúÏ§ÄÌôî Ìï®Ïàò\r\n * Îã§ÏñëÌïú ÌòïÌÉúÏùò Î©îÎ™®Î¶¨ Ï†ïÎ≥¥Î•º ÏùºÍ¥ÄÎêú Ìè¨Îß∑ÏúºÎ°ú Î≥ÄÌôò\r\n * \r\n * @param info Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ùÏ≤¥\r\n * @returns ÌëúÏ§ÄÌôîÎêú Î©îÎ™®Î¶¨ Ï†ïÎ≥¥\r\n */\r\nexport function normalizeMemoryInfo(info: Partial<MemoryInfo>): MemoryInfo {\r\n  return {\r\n    heapUsed: info.heapUsed || 0,\r\n    heapTotal: info.heapTotal || 0,\r\n    heapLimit: info.heapLimit || 0,\r\n    heapUsedMB: info.heapUsedMB || 0,\r\n    percentUsed: info.percentUsed || 0,\r\n    rss: info.rss || 0,\r\n    rssMB: info.rssMB || 0,\r\n    external: info.external || 0,\r\n    timestamp: info.timestamp || Date.now(),\r\n  };\r\n}\r\n\r\nexport default {\r\n  formatBytes\r\n};\r\n","/**\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î°úÍπÖ Î∞è Î∂ÑÏÑù Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïû•Í∏∞Ï†ÅÏù∏ Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ Î∂ÑÏÑùÍ≥º ÏµúÏ†ÅÌôî Ï†ÑÎûµ ÏàòÎ¶ΩÏóê ÌïÑÏöîÌïú\n * Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßëÌïòÍ≥† Ï†ÄÏû•Ìï©ÎãàÎã§.\n */\n\nimport { getMemoryInfo } from '../memory-management';\nimport { getPerformanceHistory } from '../performance-metrics';\nimport { normalizeMemoryInfo } from './format-utils';\n// MemoryEventTypeÏùÑ src/typesÏóêÏÑú Í∞ÄÏ†∏ÏòµÎãàÎã§\nimport { MemoryEventType, MemoryInfo } from '@/types';\n\n/**\n * Î©îÎ™®Î¶¨ Î°úÍ±∞ Î™®Îìà\n *\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î∞è Í¥ÄÎ†® Ïù¥Î≤§Ìä∏Î•º Î°úÍπÖÌïòÍ∏∞ ÏúÑÌïú Ïú†Ìã∏Î¶¨Ìã∞\n */\n\n// Î°úÍ∑∏ Î†àÎ≤® Ï†ïÏùò\nexport enum LogLevel {\n  DEBUG = 0,\n  INFO = 1,\n  WARN = 2,\n  ERROR = 3,\n}\n\n// Î°úÍ∑∏ Ìï≠Î™© Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface LogEntry {\n  timestamp: number;\n  level: LogLevel;\n  message: string;\n  data?: Record<string, unknown>;\n}\n\n// Î°úÍ∑∏ ÏÑ§Ï†ï Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface LoggerOptions {\n  minLevel?: LogLevel;\n  maxLogs?: number;\n  printToConsole?: boolean;\n  moduleName?: string;\n}\n\n// Í∏∞Î≥∏ Î°úÍ±∞ ÏòµÏÖò\nconst DEFAULT_OPTIONS: LoggerOptions = {\n  minLevel: LogLevel.INFO,\n  maxLogs: 100,\n  printToConsole: true,\n  moduleName: 'memory',\n};\n\n/**\n * Î©îÎ™®Î¶¨ Î°úÍ±∞ ÌÅ¥ÎûòÏä§\n */\nexport class MemoryLogger {\n  private logs: LogEntry[] = [];\n  private options: LoggerOptions;\n\n  constructor(options: LoggerOptions = {}) {\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n  }\n\n  /**\n   * Î°úÍ∑∏ Í∏∞Î°ù\n   * @param level Î°úÍ∑∏ Î†àÎ≤®\n   * @param message Î©îÏãúÏßÄ\n   * @param data Ï∂îÍ∞Ä Îç∞Ïù¥ÌÑ∞\n   */\n  private log(level: LogLevel, message: string, data?: Record<string, unknown>): void {\n    // ÏÑ§Ï†ïÎêú ÏµúÏÜå Î†àÎ≤®Î≥¥Îã§ ÎÇÆÏùÄ Î°úÍ∑∏Îäî Î¨¥Ïãú\n    if (level < this.options.minLevel!) {\n      return;\n    }\n\n    // Î°úÍ∑∏ Ìï≠Î™© ÏÉùÏÑ±\n    const entry: LogEntry = {\n      timestamp: Date.now(),\n      level,\n      message,\n      data,\n    };\n\n    // Î°úÍ∑∏ Î∞∞Ïó¥Ïóê Ï∂îÍ∞Ä\n    this.logs.push(entry);\n\n    // Î°úÍ∑∏ Í∞úÏàò Ï†úÌïú\n    if (this.logs.length > this.options.maxLogs!) {\n      this.logs.shift();\n    }\n\n    // ÏΩòÏÜî Ï∂úÎ†• (ÏÑ§Ï†ïÎêú Í≤ΩÏö∞)\n    if (this.options.printToConsole) {\n      this.printToConsole(entry);\n    }\n  }\n\n  /**\n   * ÏΩòÏÜîÏóê Î°úÍ∑∏ Ï∂úÎ†•\n   * @param entry Î°úÍ∑∏ Ìï≠Î™©\n   */\n  private printToConsole(entry: LogEntry): void {\n    const timestamp = new Date(entry.timestamp).toISOString();\n    const prefix = this.options.moduleName ? `[${this.options.moduleName}]` : '';\n\n    switch (entry.level) {\n      case LogLevel.DEBUG:\n        console.debug(`${timestamp} ${prefix} ${entry.message}`, entry.data);\n        break;\n      case LogLevel.INFO:\n        console.info(`${timestamp} ${prefix} ${entry.message}`, entry.data);\n        break;\n      case LogLevel.WARN:\n        console.warn(`${timestamp} ${prefix} ${entry.message}`, entry.data);\n        break;\n      case LogLevel.ERROR:\n        console.error(`${timestamp} ${prefix} ${entry.message}`, entry.data);\n        break;\n    }\n  }\n\n  /**\n   * ÎîîÎ≤ÑÍ∑∏ Î°úÍ∑∏ Í∏∞Î°ù\n   * @param message Î©îÏãúÏßÄ\n   * @param data Ï∂îÍ∞Ä Îç∞Ïù¥ÌÑ∞\n   */\n  debug(message: string, data?: Record<string, unknown>): void {\n    this.log(LogLevel.DEBUG, message, data);\n  }\n\n  /**\n   * Ï†ïÎ≥¥ Î°úÍ∑∏ Í∏∞Î°ù\n   * @param message Î©îÏãúÏßÄ\n   * @param data Ï∂îÍ∞Ä Îç∞Ïù¥ÌÑ∞\n   */\n  info(message: string, data?: Record<string, unknown>): void {\n    this.log(LogLevel.INFO, message, data);\n  }\n\n  /**\n   * Í≤ΩÍ≥† Î°úÍ∑∏ Í∏∞Î°ù\n   * @param message Î©îÏãúÏßÄ\n   * @param data Ï∂îÍ∞Ä Îç∞Ïù¥ÌÑ∞\n   */\n  warn(message: string, data?: Record<string, unknown>): void {\n    this.log(LogLevel.WARN, message, data);\n  }\n\n  /**\n   * Ïò§Î•ò Î°úÍ∑∏ Í∏∞Î°ù\n   * @param message Î©îÏãúÏßÄ\n   * @param data Ï∂îÍ∞Ä Îç∞Ïù¥ÌÑ∞\n   */\n  error(message: string, data?: Record<string, unknown>): void {\n    this.log(LogLevel.ERROR, message, data);\n  }\n\n  /**\n   * Î™®Îì† Î°úÍ∑∏ Í∞ÄÏ†∏Ïò§Í∏∞\n   */\n  getLogs(): LogEntry[] {\n    return [...this.logs];\n  }\n\n  /**\n   * ÌäπÏ†ï Î†àÎ≤® Ïù¥ÏÉÅÏùò Î°úÍ∑∏Îßå Í∞ÄÏ†∏Ïò§Í∏∞\n   * @param level ÏµúÏÜå Î°úÍ∑∏ Î†àÎ≤®\n   */\n  getLogsByLevel(level: LogLevel): LogEntry[] {\n    return this.logs.filter(entry => entry.level >= level);\n  }\n\n  /**\n   * Ïò§Î•ò Î°úÍ∑∏Îßå Í∞ÄÏ†∏Ïò§Í∏∞\n   */\n  getErrorLogs(): LogEntry[] {\n    return this.logs.filter(entry => entry.level === LogLevel.ERROR);\n  }\n}\n\n// Í∏∞Î≥∏ Î°úÍ±∞ Ïù∏Ïä§ÌÑ¥Ïä§\nexport const memoryLogger = new MemoryLogger();\nexport const logger = memoryLogger; // Ìé∏ÏùòÎ•º ÏúÑÌïú Î≥ÑÏπ≠\n\n// Ìé∏ÏùòÏÑ±ÏùÑ ÏúÑÌïú Í∏∞Î≥∏ Ìï®Ïàò ÎÇ¥Î≥¥ÎÇ¥Í∏∞\nexport const debug = memoryLogger.debug.bind(memoryLogger);\nexport const info = memoryLogger.info.bind(memoryLogger);\nexport const warn = memoryLogger.warn.bind(memoryLogger);\nexport const error = memoryLogger.error.bind(memoryLogger);\n\n// Î©îÎ™®Î¶¨ Î°úÍ∑∏ ÏóîÌä∏Î¶¨ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface MemoryLogEntry {\n  timestamp: number;\n  info: MemoryInfo;\n  eventType: MemoryEventType;\n  eventDescription?: string;\n  componentId?: string;\n  route?: string;\n}\n\n// Î©îÎ™®Î¶¨ ÏÇ¨Ïö© ÌÜµÍ≥Ñ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\nexport interface MemoryUsageStats {\n  averageUsage: number;\n  peakUsage: number;\n  minUsage: number;\n  lastUsage: number;\n  usageOverTime: Array<{ timestamp: number; usageMB: number }>;\n  optimizationEvents: Array<{ timestamp: number; freedMemory: number }>;\n  gcEvents: Array<{ timestamp: number; freedMemory: number }>;\n  leakSuspects: Array<{ componentId: string; frequency: number }>;\n}\n\n// ÎàÑÎùΩÎêú Î≥ÄÏàòÏôÄ ÏÉÅÏàò Ï†ïÏùò Ï∂îÍ∞Ä\nconst memoryLogs: MemoryLogEntry[] = [];\nconst MAX_LOG_ENTRIES = 1000;\nconst MEMORY_LOG_DB = 'memory_log_db';\nconst INDEXEDDB_STORE = 'memory_logs';\n\n/**\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î°úÍπÖ\n * @param eventType Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ\n * @param eventDescription Ïù¥Î≤§Ìä∏ ÏÑ§Î™Ö (ÏÑ†ÌÉù)\n * @param componentId Ïª¥Ìè¨ÎÑåÌä∏ ID (ÏÑ†ÌÉù)\n * @param route ÌòÑÏû¨ ÎùºÏö∞Ìä∏ (ÏÑ†ÌÉù)\n */\nexport async function logMemoryUsage(\n  eventType: MemoryEventType,\n  eventDescription?: string,\n  componentId?: string,\n  route?: string\n): Promise<MemoryLogEntry> {\n  // ÌòÑÏû¨ Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  const rawMemoryInfo = (await getMemoryInfo()) || {\n    heap_used: 0,\n    heap_total: 0,\n    heap_used_mb: 0,\n    heapUsed: 0,\n    heapTotal: 0,\n    heapUsedMB: 0,\n    rss: 0,\n    rss_mb: 0,\n    rssMB: 0,\n    percent_used: 0,\n    percentUsed: 0,\n    timestamp: Date.now(),\n  };\n\n  // ÌëúÏ§ÄÌôîÎêú MemoryInfo Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î°ú Î≥ÄÌôò\n  const standardizedInfo = normalizeMemoryInfo(rawMemoryInfo as any);\n\n  // ÌòÑÏû¨ ÎùºÏö∞Ìä∏ Í∞ÄÏ†∏Ïò§Í∏∞ (route Îß§Í∞úÎ≥ÄÏàòÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞)\n  if (!route && typeof window !== 'undefined') {\n    route = window.location.pathname;\n  }\n\n  // Î°úÍ∑∏ Ìï≠Î™© ÏÉùÏÑ±\n  const logEntry: MemoryLogEntry = {\n    timestamp: Date.now(),\n    info: standardizedInfo,\n    eventType,\n    eventDescription,\n    componentId,\n    route,\n  };\n\n  // Ïù∏Î©îÎ™®Î¶¨ Î°úÍ∑∏Ïóê Ï∂îÍ∞Ä\n  memoryLogs.push(logEntry);\n\n  // ÏµúÎåÄ Í∞úÏàò Ï†úÌïú\n  if (memoryLogs.length > MAX_LOG_ENTRIES) {\n    memoryLogs.shift();\n  }\n\n  // IndexedDBÏóê Ï†ÄÏû• (Î∞±Í∑∏ÎùºÏö¥ÎìúÎ°ú Ïã§Ìñâ)\n  saveLogToIndexedDB(logEntry).catch(err => console.error('Î©îÎ™®Î¶¨ Î°úÍ∑∏ Ï†ÄÏû• Ï§ë Ïò§Î•ò:', err));\n\n  return logEntry;\n}\n\n/**\n * Ï£ºÍ∏∞Ï†ÅÏù∏ Î©îÎ™®Î¶¨ Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏûë\n * @param intervalMs Ï≤¥ÌÅ¨ Í∞ÑÍ≤© (Î∞ÄÎ¶¨Ï¥à)\n * @returns Î™®ÎãàÌÑ∞ÎßÅ Ï§ëÏßÄ Ìï®Ïàò\n */\nexport function startMemoryMonitoring(intervalMs: number = 60000): () => void {\n  const intervalId = setInterval(() => {\n    logMemoryUsage(MemoryEventType.INFO);\n  }, intervalMs);\n\n  return () => clearInterval(intervalId);\n}\n\n/**\n * IndexedDBÏóê Î°úÍ∑∏ Ï†ÄÏû•\n * @param logEntry Î°úÍ∑∏ Ìï≠Î™©\n */\nasync function saveLogToIndexedDB(logEntry: MemoryLogEntry): Promise<void> {\n  return new Promise((resolve, reject) => {\n    // IndexedDBÍ∞Ä ÏÇ¨Ïö© Í∞ÄÎä•ÌïúÏßÄ ÌôïÏù∏\n    if (!window.indexedDB) {\n      reject(new Error('IndexedDBÎ•º ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Î∏åÎùºÏö∞Ï†ÄÏûÖÎãàÎã§'));\n      return;\n    }\n\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó¥Í∏∞\n    const request = window.indexedDB.open(MEMORY_LOG_DB, 1);\n\n    // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÉùÏÑ±/ÏóÖÍ∑∏Î†àÏù¥Îìú Ïù¥Î≤§Ìä∏\n    request.onupgradeneeded = event => {\n      const db = (event.target as IDBOpenDBRequest).result;\n\n      // Í∞ùÏ≤¥ Ï†ÄÏû•ÏÜåÍ∞Ä ÏóÜÏúºÎ©¥ ÏÉùÏÑ±\n      if (!db.objectStoreNames.contains(INDEXEDDB_STORE)) {\n        db.createObjectStore(INDEXEDDB_STORE, { keyPath: 'timestamp' });\n      }\n    };\n\n    // Ïò§Î•ò Ï≤òÎ¶¨\n    request.onerror = event => {\n      reject(new Error(`IndexedDB Ïò§Î•ò: ${(event.target as IDBOpenDBRequest).error}`));\n    };\n\n    // ÏÑ±Í≥µ Ï≤òÎ¶¨\n    request.onsuccess = event => {\n      const db = (event.target as IDBOpenDBRequest).result;\n\n      try {\n        // Ìä∏ÎûúÏû≠ÏÖò ÏãúÏûë\n        const transaction = db.transaction([INDEXEDDB_STORE], 'readwrite');\n        const store = transaction.objectStore(INDEXEDDB_STORE);\n\n        // Î°úÍ∑∏ Ìï≠Î™© Ï†ÄÏû•\n        const addRequest = store.add(logEntry);\n\n        addRequest.onsuccess = () => {\n          resolve();\n        };\n\n        addRequest.onerror = () => {\n          reject(new Error(`Î°úÍ∑∏ Ìï≠Î™© Ï†ÄÏû• Ïã§Ìå®: ${addRequest.error}`));\n        };\n\n        // Ìä∏ÎûúÏû≠ÏÖò ÏôÑÎ£å Ïù¥Î≤§Ìä∏\n        transaction.oncomplete = () => {\n          db.close();\n        };\n      } catch (error) {\n        reject(error);\n      }\n    };\n  });\n}\n\n/**\n * Ï†ÄÏû•Îêú Î©îÎ™®Î¶¨ Î°úÍ∑∏ Í∞ÄÏ†∏Ïò§Í∏∞\n * @param limit Í∞ÄÏ†∏Ïò¨ ÏµúÎåÄ Ìï≠Î™© Ïàò\n * @param startTime ÏãúÏûë ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à)\n * @param endTime Ï¢ÖÎ£å ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à)\n * @param eventTypes ÌïÑÌÑ∞ÎßÅÌï† Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ Î∞∞Ïó¥\n * @returns Î°úÍ∑∏ Ìï≠Î™© Î∞∞Ïó¥\n */\nexport async function getMemoryLogs(\n  limit: number = 100,\n  startTime?: number,\n  endTime?: number,\n  eventTypes?: MemoryEventType[]\n): Promise<MemoryLogEntry[]> {\n  // ÏãúÍ∞Ñ Í∏∞Ï§Ä ÌïÑÌÑ∞ÎßÅ\n  const filteredByTime = memoryLogs.filter((log: MemoryLogEntry) => {\n    if (startTime && log.timestamp < startTime) return false;\n    if (endTime && log.timestamp > endTime) return false;\n    return true;\n  });\n\n  // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ Í∏∞Ï§Ä ÌïÑÌÑ∞ÎßÅ\n  const filtered = eventTypes\n    ? filteredByTime.filter((log: MemoryLogEntry) =>\n        eventTypes.includes(log.eventType as MemoryEventType)\n      )\n    : filteredByTime;\n\n  // ÏµúÏã† ÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥† Ï†úÌïúÎêú Í∞úÏàò Î∞òÌôò\n  return filtered\n    .sort((a: MemoryLogEntry, b: MemoryLogEntry) => b.timestamp - a.timestamp)\n    .slice(0, limit);\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏÇ¨Ïö© ÌÜµÍ≥Ñ Î∂ÑÏÑù\n * @param startTime ÏãúÏûë ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à)\n * @param endTime Ï¢ÖÎ£å ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à)\n * @returns Î©îÎ™®Î¶¨ ÏÇ¨Ïö© ÌÜµÍ≥Ñ\n */\nexport async function analyzeMemoryUsage(\n  startTime: number = Date.now() - 24 * 60 * 60 * 1000, // Í∏∞Î≥∏: 24ÏãúÍ∞Ñ\n  endTime: number = Date.now()\n): Promise<MemoryUsageStats> {\n  // ÏßÄÏ†ïÎêú Í∏∞Í∞ÑÏùò Î°úÍ∑∏ Í∞ÄÏ†∏Ïò§Í∏∞\n  const logs = await getMemoryLogs(1000, startTime, endTime);\n\n  if (logs.length === 0) {\n    throw new Error('Î∂ÑÏÑùÌï† Î©îÎ™®Î¶¨ Î°úÍ∑∏Í∞Ä ÏóÜÏäµÎãàÎã§');\n  }\n\n  // Í∏∞Î≥∏ ÌÜµÍ≥Ñ Í≥ÑÏÇ∞\n  const usages = logs.map(log => log.info.heapUsedMB || 0);\n  const avgUsage = usages.reduce((sum, usage) => sum + usage, 0) / usages.length;\n  const peakUsage = Math.max(...usages);\n  const minUsage = Math.min(...usages);\n  const lastUsage = usages[0]; // ÏµúÏã† Î°úÍ∑∏Í∞Ä Ï≤´ Î≤àÏß∏\n\n  // ÏãúÍ∞ÑÎ≥Ñ ÏÇ¨Ïö©Îüâ\n  const usageOverTime = logs\n    .map(log => ({\n      timestamp: log.timestamp,\n      usageMB: log.info.heapUsedMB || 0,\n    }))\n    .sort((a, b) => a.timestamp - b.timestamp);\n\n  // ÏµúÏ†ÅÌôî Ïù¥Î≤§Ìä∏ Ï∂îÏ∂ú\n  const optimizationEvents = logs\n    .filter(log => log.eventType === MemoryEventType.OPTIMIZATION)\n    .map(log => {\n      // ÏµúÏ†ÅÌôî Ï†ÑÌõÑ Î©îÎ™®Î¶¨ Ï∞®Ïù¥ Í≥ÑÏÇ∞ (Ïù¥Ï†Ñ Î°úÍ∑∏ÏôÄ ÎπÑÍµê)\n      const index = logs.indexOf(log);\n      const prevLog = logs[index + 1]; // Ïó≠Ïàú Ï†ïÎ†¨Ïù¥ÎØÄÎ°ú Îã§Ïùå Ïù∏Îç±Ïä§Í∞Ä Ïù¥Ï†Ñ Î°úÍ∑∏\n      const freedMemory = prevLog\n        ? (prevLog.info.heapUsedMB || 0) - (log.info.heapUsedMB || 0)\n        : 0;\n\n      return {\n        timestamp: log.timestamp,\n        freedMemory: Math.max(0, freedMemory), // ÏùåÏàòÏù∏ Í≤ΩÏö∞ 0ÏúºÎ°ú Ï≤òÎ¶¨\n      };\n    });\n\n  // GC Ïù¥Î≤§Ìä∏ Ï∂îÏ∂ú\n  const gcEvents = logs\n    .filter(log => log.eventType === MemoryEventType.GC)\n    .map(log => {\n      // GC Ï†ÑÌõÑ Î©îÎ™®Î¶¨ Ï∞®Ïù¥ Í≥ÑÏÇ∞\n      const index = logs.indexOf(log);\n      const prevLog = logs[index + 1];\n      const freedMemory = prevLog\n        ? (prevLog.info.heapUsedMB || 0) - (log.info.heapUsedMB || 0)\n        : 0;\n\n      return {\n        timestamp: log.timestamp,\n        freedMemory: Math.max(0, freedMemory),\n      };\n    });\n\n  // Î©îÎ™®Î¶¨ ÎàÑÏàò ÏùòÏã¨ Ïª¥Ìè¨ÎÑåÌä∏ Î∂ÑÏÑù\n  const componentMounts = logs.filter(\n    log => log.eventType === MemoryEventType.INFO && log.componentId\n  );\n\n  const componentCounts: Record<string, number> = {};\n  for (const log of componentMounts) {\n    const id = log.componentId!;\n    componentCounts[id] = (componentCounts[id] || 0) + 1;\n  }\n\n  // ÎàÑÏàò ÏùòÏã¨ Ïª¥Ìè¨ÎÑåÌä∏ (ÏÉÅÏúÑ 10Í∞ú)\n  const leakSuspects = Object.entries(componentCounts)\n    .map(([componentId, frequency]) => ({ componentId, frequency }))\n    .sort((a, b) => b.frequency - a.frequency)\n    .slice(0, 10);\n\n  return {\n    averageUsage: avgUsage,\n    peakUsage,\n    minUsage,\n    lastUsage,\n    usageOverTime,\n    optimizationEvents,\n    gcEvents,\n    leakSuspects,\n  };\n}\n\n/**\n * Î©îÎ™®Î¶¨ Î°úÍ∑∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (JSON)\n * @returns JSON Î¨∏ÏûêÏó¥\n */\nexport async function exportMemoryLogs(): Promise<string> {\n  const logs = await getMemoryLogs(MAX_LOG_ENTRIES);\n  const performanceData = getPerformanceHistory();\n\n  const exportData = {\n    logs,\n    performanceHistory: performanceData,\n    exportTimestamp: Date.now(),\n    appVersion: '1.0.0', // Ïï± Î≤ÑÏ†Ñ\n    systemInfo: {\n      userAgent: navigator.userAgent,\n      platform: navigator.platform,\n      language: navigator.language,\n    },\n  };\n\n  return JSON.stringify(exportData, null, 2);\n}\n\n/**\n * Î©îÎ™®Î¶¨ ÏûêÎèô Î°úÍ∑∏ ÏÑ§Ï†ï\n * Ï£ºÏöî Ïù¥Î≤§Ìä∏Ïóê ÎåÄÌïú Î©îÎ™®Î¶¨ Î°úÍπÖÏùÑ ÏûêÎèôÌôîÌï©ÎãàÎã§.\n */\nexport function setupAutomaticMemoryLogging(): () => void {\n  const cleanupFunctions: Array<() => void> = [];\n\n  // Ï£ºÍ∏∞Ï†Å Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏûë\n  const stopMonitoring = startMemoryMonitoring(60000); // 1Î∂ÑÎßàÎã§\n  cleanupFunctions.push(stopMonitoring);\n\n  // ÌéòÏù¥ÏßÄ ÌÉêÏÉâ Ï∂îÏ†Å\n  if (typeof window !== 'undefined') {\n    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú\n    const handleLoad = () => {\n      logMemoryUsage(MemoryEventType.INFO, 'Page loaded');\n    };\n    window.addEventListener('load', handleLoad);\n    cleanupFunctions.push(() => window.removeEventListener('load', handleLoad));\n\n    // ÌéòÏù¥ÏßÄ Ïñ∏Î°úÎìú Ïãú\n    const handleBeforeUnload = () => {\n      logMemoryUsage(MemoryEventType.INFO, 'Page unloaded');\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    cleanupFunctions.push(() => window.removeEventListener('beforeunload', handleBeforeUnload));\n\n    // Í∞ÄÏãúÏÑ± Î≥ÄÍ≤Ω Ïãú\n    const handleVisibilityChange = () => {\n      logMemoryUsage(MemoryEventType.INFO, `Visibility changed: ${document.visibilityState}`);\n    };\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    cleanupFunctions.push(() =>\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n    );\n  }\n\n  // Î™®Îì† Ï†ïÎ¶¨ Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÎäî Ìï®Ïàò Î∞òÌôò\n  return () => {\n    cleanupFunctions.forEach(cleanup => cleanup());\n  };\n}\n","/**\n * Î°úÍ∑∏ Ï†ÄÏû• Î∞è Í¥ÄÎ¶¨ Ïú†Ìã∏Î¶¨Ìã∞\n *\n * Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÎÇ¥Ïùò ÎåÄÌôî Î°úÍ∑∏ÏôÄ ÏóêÎü¨ Î°úÍ∑∏Î•º Ï†ÄÏû•ÌïòÍ≥† Í¥ÄÎ¶¨ÌïòÎäî Í∏∞Îä• Ï†úÍ≥µ\n */\n\nimport { formatBytes, getCurrentTimestamp } from './common-utils';\nimport { logger, LogLevel as MemoryLogLevel } from './memory/logger';\n// @ts-ignore\nimport { v4 as uuidv4 } from 'uuid';\n\n/**\n * Î°úÍ∑∏ ÌÉÄÏûÖ Ï†ïÏùò\n */\nexport enum LogType {\n  CONVERSATION = 'conversation', // ÏÇ¨Ïö©ÏûêÏôÄ AI Í∞Ñ ÎåÄÌôî Î°úÍ∑∏\n  ERROR = 'error', // ÏóêÎü¨ Î°úÍ∑∏\n  PERFORMANCE = 'performance', // ÏÑ±Îä• Í¥ÄÎ†® Î°úÍ∑∏\n  MEMORY = 'memory', // Î©îÎ™®Î¶¨ Í¥ÄÎ†® Î°úÍ∑∏\n  SYSTEM = 'system', // ÏãúÏä§ÌÖú Í¥ÄÎ†® Î°úÍ∑∏\n  USER = 'user', // ÏÇ¨Ïö©Ïûê Í¥ÄÎ†® Î°úÍ∑∏\n}\n\n/**\n * Î°úÍ∑∏ Î†àÎ≤® Ï†ïÏùò\n */\nexport enum LogLevel {\n  Debug = 0,\n  Info = 1,\n  Warn = 2,\n  Error = 3,\n  Critical = 4,\n}\n\n/**\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\n */\nexport interface LogEntry {\n  id?: string; // Î°úÍ∑∏ Í≥†Ïú† ID (Ï†ÄÏû• Ïãú ÏûêÎèô ÏÉùÏÑ±)\n  type: LogType; // Î°úÍ∑∏ ÌÉÄÏûÖ\n  timestamp: number; // Î°úÍ∑∏ ÏÉùÏÑ± ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ)\n  content: string; // Î°úÍ∑∏ ÎÇ¥Ïö©\n  metadata?: any; // Ï∂îÍ∞Ä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ (JSON ÏßÅÎ†¨Ìôî Í∞ÄÎä•Ìïú Í∞ùÏ≤¥)\n  tags?: string[]; // Î°úÍ∑∏ ÌÉúÍ∑∏ (Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ÎßÅÏö©)\n  sessionId?: string; // ÏÑ∏ÏÖò ID\n  level: LogLevel; // Î°úÍ∑∏ Î†àÎ≤®\n  message: string; // Î°úÍ∑∏ Î©îÏãúÏßÄ\n  data?: Record<string, unknown>; // Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ (ÏÑ†ÌÉùÏ†ÅÏúºÎ°ú Î≥ÄÍ≤Ω)\n}\n\n/**\n * Î°úÍ∑∏ Í≤ÄÏÉâ ÏòµÏÖò Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\n */\nexport interface LogSearchOptions {\n  type?: LogType | LogType[]; // Í≤ÄÏÉâÌï† Î°úÍ∑∏ ÌÉÄÏûÖ\n  startTime?: number; // Í≤ÄÏÉâ ÏãúÏûë ÏãúÍ∞Ñ\n  endTime?: number; // Í≤ÄÏÉâ Ï¢ÖÎ£å ÏãúÍ∞Ñ\n  tags?: string[]; // Í≤ÄÏÉâÌï† ÌÉúÍ∑∏\n  query?: string; // Í≤ÄÏÉâ ÏøºÎ¶¨ (Î°úÍ∑∏ ÎÇ¥Ïö©ÏóêÏÑú Í≤ÄÏÉâ)\n  limit?: number; // Í≤ÄÏÉâ Í≤∞Í≥º Ï†úÌïú\n  offset?: number; // Í≤ÄÏÉâ Í≤∞Í≥º Ïò§ÌîÑÏÖã\n  sessionId?: string; // ÏÑ∏ÏÖò IDÎ°ú Í≤ÄÏÉâ\n}\n\n/**\n * Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param logEntry - Ï†ÄÏû•Ìï† Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨ (ID Ìè¨Ìï®)\n */\nexport async function saveLog(logEntry: Omit<LogEntry, 'id'>): Promise<LogEntry> {\n  try {\n    // Î°úÍ∑∏ ID ÏÉùÏÑ± (ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ + ÎûúÎç§ Î¨∏ÏûêÏó¥)\n    const id = `${Date.now()}-${Math.random().toString(36).substring(2, 10)}`;\n\n    const log: LogEntry = {\n      ...logEntry,\n      id,\n      timestamp: logEntry.timestamp || getCurrentTimestamp(),\n    };\n\n    // Î°úÍ∑∏ API ÏóîÎìúÌè¨Ïù∏Ìä∏Î°ú Ï†ÄÏû• ÏöîÏ≤≠\n    const response = await fetch('/api/logs/save', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(log),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Î°úÍ∑∏ Ï†ÄÏû• Ïã§Ìå®: ${response.status} ${response.statusText}`);\n    }\n\n    const result = await response.json();\n\n    logger.debug(`Î°úÍ∑∏ Ï†ÄÏû• ÏôÑÎ£å (ID: ${id}, ÌÉÄÏûÖ: ${logEntry.type})`);\n    return result.data;\n  } catch (error) {\n    logger.error('Î°úÍ∑∏ Ï†ÄÏû• Ï§ë Ïò§Î•ò Î∞úÏÉù:', {\n      error: error instanceof Error ? { message: error.message, stack: error.stack } : error,\n    });\n\n    // API Ìò∏Ï∂ú Ïã§Ìå®Ïãú Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóê ÏûÑÏãú Ï†ÄÏû•\n    try {\n      const storageKey = `log_${Date.now()}`;\n      localStorage.setItem(storageKey, JSON.stringify(logEntry));\n    } catch (storageError) {\n      logger.error('Î°úÍ∑∏Ïùò Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ Î∞±ÏóÖ Ï†ÄÏû• Ïã§Ìå®:', {\n        storageError:\n          storageError instanceof Error\n            ? { message: storageError.message, stack: storageError.stack }\n            : storageError,\n      });\n    }\n\n    throw error;\n  }\n}\n\n/**\n * Î°úÍ∑∏Î•º Í≤ÄÏÉâÌï©ÎãàÎã§.\n *\n * @param options - Í≤ÄÏÉâ ÏòµÏÖò\n * @returns Í≤ÄÏÉâÎêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨ Î∞∞Ïó¥\n */\nexport async function searchLogs(options: LogSearchOptions = {}): Promise<LogEntry[]> {\n  try {\n    const queryParams = new URLSearchParams();\n\n    // Í≤ÄÏÉâ ÏòµÏÖòÏùÑ ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞Î°ú Î≥ÄÌôò\n    if (options.type) {\n      if (Array.isArray(options.type)) {\n        options.type.forEach(t => queryParams.append('type', t));\n      } else {\n        queryParams.set('type', options.type);\n      }\n    }\n\n    if (options.startTime) queryParams.set('startTime', options.startTime.toString());\n    if (options.endTime) queryParams.set('endTime', options.endTime.toString());\n    if (options.query) queryParams.set('query', options.query);\n    if (options.limit) queryParams.set('limit', options.limit.toString());\n    if (options.offset) queryParams.set('offset', options.offset.toString());\n    if (options.sessionId) queryParams.set('sessionId', options.sessionId);\n\n    if (options.tags && options.tags.length > 0) {\n      options.tags.forEach(tag => queryParams.append('tag', tag));\n    }\n\n    // Î°úÍ∑∏ Í≤ÄÏÉâ API Ìò∏Ï∂ú\n    const response = await fetch(`/api/logs/search?${queryParams.toString()}`);\n\n    if (!response.ok) {\n      throw new Error(`Î°úÍ∑∏ Í≤ÄÏÉâ Ïã§Ìå®: ${response.status} ${response.statusText}`);\n    }\n\n    const result = await response.json();\n\n    logger.debug(`Î°úÍ∑∏ Í≤ÄÏÉâ ÏôÑÎ£å (Í≤∞Í≥º Ïàò: ${result.data.length})`);\n    return result.data;\n  } catch (error) {\n    logger.error('Î°úÍ∑∏ Í≤ÄÏÉâ Ï§ë Ïò§Î•ò Î∞úÏÉù:', { error });\n    throw error;\n  }\n}\n\n/**\n * ÎåÄÌôî Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param userMessage - ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ\n * @param aiResponse - AI ÏùëÎãµ\n * @param metadata - Ï∂îÍ∞Ä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨\n */\nexport async function saveConversationLog(\n  userMessage: string,\n  aiResponse: string,\n  metadata: any = {}\n): Promise<LogEntry> {\n  const now = getCurrentTimestamp();\n  const sessionId = metadata.sessionId || localStorage.getItem('sessionId') || `session_${now}`;\n\n  // ÏÑ∏ÏÖò IDÍ∞Ä ÏóÜÏúºÎ©¥ ÏÉàÎ°ú ÏÉùÏÑ±ÌïòÍ≥† Ï†ÄÏû•\n  if (!localStorage.getItem('sessionId')) {\n    localStorage.setItem('sessionId', sessionId);\n  }\n\n  const logEntry: Omit<LogEntry, 'id'> = {\n    type: LogType.CONVERSATION,\n    timestamp: now,\n    content: JSON.stringify({\n      userMessage,\n      aiResponse,\n      timestamp: now,\n    }),\n    metadata: {\n      ...metadata,\n      messageSize: {\n        user: new Blob([userMessage]).size,\n        ai: new Blob([aiResponse]).size,\n      },\n      messageSizeFormatted: {\n        user: formatBytes(new Blob([userMessage]).size),\n        ai: formatBytes(new Blob([aiResponse]).size),\n      },\n    },\n    tags: ['conversation', 'ai', ...(metadata.tags || [])],\n    sessionId,\n    level: LogLevel.Info,\n    message: 'ÎåÄÌôî Î°úÍ∑∏',\n    data: {},\n  };\n\n  return saveLog(logEntry);\n}\n\n/**\n * ÏóêÎü¨ Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param error - ÏóêÎü¨ Í∞ùÏ≤¥ ÎòêÎäî ÏóêÎü¨ Î©îÏãúÏßÄ\n * @param metadata - Ï∂îÍ∞Ä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨\n */\nexport async function saveErrorLog(error: Error | string, metadata: any = {}): Promise<LogEntry> {\n  const errorMessage = error instanceof Error ? error.message : error;\n  const errorStack = error instanceof Error ? error.stack : undefined;\n\n  const logEntry: Omit<LogEntry, 'id'> = {\n    type: LogType.ERROR,\n    timestamp: getCurrentTimestamp(),\n    content: errorMessage,\n    metadata: {\n      ...metadata,\n      stack: errorStack,\n      browserInfo:\n        typeof navigator !== 'undefined'\n          ? {\n              userAgent: navigator.userAgent,\n              platform: navigator.platform,\n              language: navigator.language,\n            }\n          : undefined,\n    },\n    tags: ['error', ...(metadata.tags || [])],\n    sessionId: metadata.sessionId || localStorage.getItem('sessionId') || undefined,\n    level: LogLevel.Error,\n    message: errorMessage,\n    data: {},\n  };\n\n  return saveLog(logEntry);\n}\n\n/**\n * Î©îÎ™®Î¶¨ Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param memoryInfo - Î©îÎ™®Î¶¨ Ï†ïÎ≥¥\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨\n */\nexport async function saveMemoryLog(memoryInfo: any): Promise<LogEntry> {\n  const logEntry: Omit<LogEntry, 'id'> = {\n    type: LogType.MEMORY,\n    timestamp: getCurrentTimestamp(),\n    content: JSON.stringify(memoryInfo),\n    metadata: {\n      heapUsed: memoryInfo.heapUsed,\n      heapTotal: memoryInfo.heapTotal,\n      percentUsed: memoryInfo.percentUsed,\n    },\n    tags: ['memory', 'performance'],\n    sessionId: localStorage.getItem('sessionId') || undefined,\n    level: LogLevel.Info,\n    message: 'Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Í∏∞Î°ù',\n    data: {},\n  };\n\n  return saveLog(logEntry);\n}\n\n/**\n * ÏÑ±Îä• Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param metric - Ï∏°Ï†ï Ìï≠Î™© (ex: 'api_response_time', 'render_time')\n * @param value - Ï∏°Ï†ïÍ∞í\n * @param unit - Ï∏°Ï†ï Îã®ÏúÑ (Í∏∞Î≥∏Í∞í: 'ms')\n * @param metadata - Ï∂îÍ∞Ä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨\n */\nexport async function savePerformanceLog(\n  metric: string,\n  value: number,\n  unit: string = 'ms',\n  metadata: any = {}\n): Promise<LogEntry> {\n  const logEntry: Omit<LogEntry, 'id'> = {\n    type: LogType.PERFORMANCE,\n    timestamp: getCurrentTimestamp(),\n    content: `${metric}: ${value}${unit}`,\n    metadata: {\n      ...metadata,\n      metric,\n      value,\n      unit,\n    },\n    tags: ['performance', metric, ...(metadata.tags || [])],\n    sessionId: localStorage.getItem('sessionId') || undefined,\n    level: LogLevel.Info,\n    message: `ÏÑ±Îä• Ï∏°Ï†ï: ${metric}`,\n    data: { metric, value, unit },\n  };\n\n  return saveLog(logEntry);\n}\n\n/**\n * ÏãúÏä§ÌÖú Î°úÍ∑∏Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.\n *\n * @param message - Î°úÍ∑∏ Î©îÏãúÏßÄ\n * @param metadata - Ï∂îÍ∞Ä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞\n * @returns Ï†ÄÏû•Îêú Î°úÍ∑∏ ÏóîÌä∏Î¶¨\n */\nexport async function saveSystemLog(message: string, metadata: any = {}): Promise<LogEntry> {\n  const logEntry: Omit<LogEntry, 'id'> = {\n    type: LogType.SYSTEM,\n    timestamp: getCurrentTimestamp(),\n    content: message,\n    metadata: {\n      ...metadata,\n      osInfo:\n        typeof navigator !== 'undefined'\n          ? {\n              platform: navigator.platform,\n              userAgent: navigator.userAgent,\n            }\n          : undefined,\n    },\n    tags: ['system', ...(metadata.tags || [])],\n    sessionId: localStorage.getItem('sessionId') || undefined,\n    level: LogLevel.Info,\n    message,\n    data: {},\n  };\n\n  return saveLog(logEntry);\n}\n\n/**\n * Î°úÏª¨Ïóê Ï†ÄÏû•Îêú Î°úÍ∑∏Î•º ÏÑúÎ≤ÑÏôÄ ÎèôÍ∏∞ÌôîÌï©ÎãàÎã§.\n * Ïò§ÌîÑÎùºÏù∏ ÏÉÅÌÉúÏóêÏÑú Ï†ÄÏû•Îêú Î°úÍ∑∏Î•º Ïò®ÎùºÏù∏ ÏÉÅÌÉúÍ∞Ä Îê† Îïå ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°Ìï©ÎãàÎã§.\n */\nexport async function syncLocalLogs(): Promise<void> {\n  try {\n    if (typeof localStorage === 'undefined') return;\n\n    // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú Î°úÍ∑∏ ÌÇ§ Ï∞æÍ∏∞\n    const logKeys: string[] = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith('log_')) {\n        logKeys.push(key);\n      }\n    }\n\n    if (logKeys.length === 0) return;\n\n    logger.debug(`Î°úÏª¨ Î°úÍ∑∏ ÎèôÍ∏∞Ìôî ÏãúÏûë (${logKeys.length}Í∞ú Ìï≠Î™©)`);\n\n    // Í∞Å Î°úÍ∑∏Î•º ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°\n    for (const key of logKeys) {\n      try {\n        const logJson = localStorage.getItem(key);\n        if (!logJson) continue;\n\n        const logEntry = JSON.parse(logJson);\n        await saveLog(logEntry);\n\n        // ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•Îêú Î°úÍ∑∏Îäî Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú ÏÇ≠Ï†ú\n        localStorage.removeItem(key);\n      } catch (error) {\n        logger.error('Î°úÍ∑∏ Ìï≠Î™© ÎèôÍ∏∞Ìôî Ïã§Ìå®:', { error });\n      }\n    }\n\n    logger.debug('Î°úÏª¨ Î°úÍ∑∏ ÎèôÍ∏∞Ìôî ÏôÑÎ£å');\n  } catch (error) {\n    logger.error('Î°úÍ∑∏ ÎèôÍ∏∞Ìôî Ï§ë Ïò§Î•ò Î∞úÏÉù:', { error });\n  }\n}\n\n/**\n * Î°úÍπÖ Ïú†Ìã∏Î¶¨Ìã∞\n */\n\nexport function isDebugMode(): boolean {\n  return (\n    process.env.NODE_ENV === 'development' ||\n    (typeof localStorage !== 'undefined' && localStorage.getItem('debug_mode') === 'true')\n  );\n}\n\nexport function addLogEntry(entry: Omit<LogEntry, 'id'>): void {\n  try {\n    if (typeof localStorage === 'undefined') return;\n\n    const logEntry = {\n      ...entry,\n      id: Date.now().toString() + Math.random().toString(36).substr(2, 5),\n    };\n\n    const logsJson = localStorage.getItem('application_logs');\n    const logs = logsJson ? JSON.parse(logsJson) : [];\n\n    logs.push(logEntry);\n\n    if (logs.length > 1000) {\n      logs.splice(0, logs.length - 1000);\n    }\n\n    localStorage.setItem('application_logs', JSON.stringify(logs));\n  } catch (error) {\n    console.error('Î°úÍ∑∏ Ìï≠Î™© Ï†ÄÏû• Ïã§Ìå®:', error);\n  }\n}\n\n/**\n * Î°úÍ∑∏ Ìï≠Î™©ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.\n */\nexport function createLogEntry(level: LogLevel, message: string, data?: unknown): LogEntry {\n  const logType =\n    level === LogLevel.Error || level === LogLevel.Critical ? LogType.ERROR : LogType.SYSTEM;\n\n  const sessionId = getCurrentSessionId() ?? 'unknown-session';\n\n  // Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨: Error Í∞ùÏ≤¥Ïù∏ Í≤ΩÏö∞ Î©îÏãúÏßÄÏôÄ Ïä§ÌÉùÏùÑ Ï∂îÏ∂úÌïòÍ≥†, Í∑∏Î†áÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n  let formattedData: Record<string, unknown> | undefined;\n  if (data instanceof Error) {\n    formattedData = {\n      errorMessage: data.message,\n      stack: data.stack,\n    };\n  } else if (data !== undefined) {\n    formattedData =\n      typeof data === 'object' && data !== null\n        ? (data as Record<string, unknown>)\n        : { value: data };\n  }\n\n  return {\n    id: uuidv4(),\n    timestamp: Date.now(),\n    type: logType,\n    level,\n    message,\n    content: message,\n    data: formattedData,\n    sessionId,\n  };\n}\n\n/**\n * ÎîîÎ≤ÑÍ∑∏ Î°úÍ∑∏Î•º Í∏∞Î°ùÌï©ÎãàÎã§.\n */\nexport async function logDebug(message: string, data?: unknown): Promise<void> {\n  try {\n    const logEntry = createLogEntry(LogLevel.Debug, message, data);\n    logger.debug(logEntry.message, logEntry.data);\n  } catch (error) {\n    console.error('Î°úÍπÖ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\n  }\n}\n\n/**\n * Ï†ïÎ≥¥ Î°úÍ∑∏Î•º Í∏∞Î°ùÌï©ÎãàÎã§.\n */\nexport async function logInfo(message: string, data?: unknown): Promise<void> {\n  try {\n    const logEntry = createLogEntry(LogLevel.Info, message, data);\n    logger.info(logEntry.message, logEntry.data);\n  } catch (error) {\n    console.error('Î°úÍπÖ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\n  }\n}\n\n/**\n * Í≤ΩÍ≥† Î°úÍ∑∏Î•º Í∏∞Î°ùÌï©ÎãàÎã§.\n */\nexport async function logWarn(message: string, data?: unknown): Promise<void> {\n  try {\n    const logEntry = createLogEntry(LogLevel.Warn, message, data);\n    logger.warn(logEntry.message, logEntry.data);\n  } catch (error) {\n    console.error('Î°úÍπÖ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\n  }\n}\n\n/**\n * ÏóêÎü¨ Î°úÍ∑∏Î•º Í∏∞Î°ùÌï©ÎãàÎã§.\n */\nexport async function logError(message: string, error?: unknown): Promise<void> {\n  try {\n    const logEntry = createLogEntry(LogLevel.Error, message, error);\n    logger.error(logEntry.message, logEntry.data);\n  } catch (loggingError) {\n    console.error('Î°úÍπÖ Ï§ë Ïò§Î•ò Î∞úÏÉù:', loggingError);\n  }\n}\n\n/**\n * ÏπòÎ™ÖÏ†Å ÏóêÎü¨ Î°úÍ∑∏Î•º Í∏∞Î°ùÌï©ÎãàÎã§.\n */\nexport async function logCritical(message: string, error?: unknown): Promise<void> {\n  try {\n    const logEntry = createLogEntry(LogLevel.Critical, message, error);\n    logger.error(logEntry.message, logEntry.data);\n  } catch (loggingError) {\n    console.error('Î°úÍπÖ Ï§ë Ïò§Î•ò Î∞úÏÉù:', loggingError);\n  }\n}\n\n/**\n * ÌòÑÏû¨ ÏÑ∏ÏÖò IDÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§.\n */\nexport function getCurrentSessionId(): string | undefined {\n  return typeof localStorage !== 'undefined'\n    ? localStorage.getItem('sessionId') || undefined\n    : undefined;\n}\n","/**\r\n * Î°úÍ∑∏ ÌïôÏäµ Î∞è ÏµúÏ†ÅÌôî Ïú†Ìã∏Î¶¨Ìã∞\r\n * \r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÏó¨ ÌïôÏäµÌïòÍ≥† Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÏµúÏ†ÅÌôîÌïòÎäî Í∏∞Îä• Ï†úÍ≥µ\r\n */\r\n\r\nimport { LogType, searchLogs } from './log-utils';\r\nimport { logger } from './memory/logger';\r\n\r\n/**\r\n * Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï†ïÏùò\r\n */\r\ninterface WordFrequency {\r\n  [key: string]: number;\r\n}\r\n\r\ninterface HourlyActivity {\r\n  [hour: number]: number;\r\n}\r\n\r\ninterface SessionConversations {\r\n  [sessionId: string]: number;\r\n}\r\n\r\ninterface ErrorGroups {\r\n  [errorType: string]: {\r\n    count: number;\r\n    examples: Array<{ message: string; timestamp: number }>;\r\n    sessionIds: Set<string>;\r\n  };\r\n}\r\n\r\n/**\r\n * ÌïôÏäµ Î™®Îç∏ ÌÉÄÏûÖ Ï†ïÏùò\r\n */\r\nexport enum LearningModelType {\r\n  MEMORY_OPTIMIZATION = 'memory_optimization',\r\n  ERROR_PREDICTION = 'error_prediction',\r\n  PERFORMANCE_OPTIMIZATION = 'performance_optimization',\r\n  USER_BEHAVIOR = 'user_behavior'\r\n}\r\n\r\n/**\r\n * ÌïôÏäµ Í≤∞Í≥º Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\r\n */\r\nexport interface LearningResult {\r\n  modelType: LearningModelType;\r\n  timestamp: number;\r\n  insights: any[];\r\n  recommendations: string[];\r\n  metrics: { [key: string]: number };\r\n}\r\n\r\n/**\r\n * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÌïôÏäµ ÏòµÏÖò\r\n */\r\nexport interface MemoryOptimizationOptions {\r\n  timeRange?: {\r\n    startTime?: number;\r\n    endTime?: number;\r\n  };\r\n  minSampleSize?: number;\r\n  sessionLimit?: number;\r\n}\r\n\r\n/**\r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î°úÎ∂ÄÌÑ∞ Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ÏùÑ ÌïôÏäµÌï©ÎãàÎã§.\r\n * \r\n * @param options - Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÌïôÏäµ ÏòµÏÖò\r\n * @returns ÌïôÏäµ Í≤∞Í≥º\r\n */\r\nexport async function learnMemoryUsagePatterns(\r\n  options: MemoryOptimizationOptions = {}\r\n): Promise<LearningResult> {\r\n  try {\r\n    logger.info('Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ ÌïôÏäµ ÏãúÏûë');\r\n    \r\n    // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\r\n    const minSampleSize = options.minSampleSize || 50;\r\n    const now = Date.now();\r\n    const startTime = options.timeRange?.startTime || now - 7 * 24 * 60 * 60 * 1000; // Í∏∞Î≥∏ 1Ï£ºÏùº\r\n    const endTime = options.timeRange?.endTime || now;\r\n    \r\n    // Î©îÎ™®Î¶¨ Í¥ÄÎ†® Î°úÍ∑∏ Í≤ÄÏÉâ\r\n    const memoryLogs = await searchLogs({\r\n      type: LogType.MEMORY,\r\n      startTime,\r\n      endTime,\r\n      limit: 1000 // ÏµúÎåÄ 1000Í∞úÍπåÏßÄÎßå Í∞ÄÏ†∏Ïò¥\r\n    });\r\n    \r\n    if (memoryLogs.length < minSampleSize) {\r\n      logger.warn(`Ï∂©Î∂ÑÌïú Î©îÎ™®Î¶¨ Î°úÍ∑∏ ÏÉòÌîåÏù¥ ÏóÜÏäµÎãàÎã§. ÌïÑÏöî: ${minSampleSize}, ÌòÑÏû¨: ${memoryLogs.length}`);\r\n    }\r\n    \r\n    // Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î∂ÑÏÑù\r\n    const memoryUsages = memoryLogs.map(log => {\r\n      const metadata = log.metadata || {};\r\n      return {\r\n        timestamp: log.timestamp,\r\n        heapUsed: metadata.heapUsed || 0,\r\n        heapTotal: metadata.heapTotal || 0,\r\n        percentUsed: metadata.percentUsed || 0\r\n      };\r\n    });\r\n    \r\n    // ÏãúÍ∞ÑÎåÄÎ≥Ñ Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ ÏßëÍ≥Ñ\r\n    const hourlyUsage: { [hour: number]: number[] } = {};\r\n    memoryUsages.forEach(usage => {\r\n      const date = new Date(usage.timestamp);\r\n      const hour = date.getHours();\r\n      \r\n      if (!hourlyUsage[hour]) hourlyUsage[hour] = [];\r\n      hourlyUsage[hour].push(usage.percentUsed);\r\n    });\r\n    \r\n    // ÌèâÍ∑† ÏãúÍ∞ÑÎåÄÎ≥Ñ ÏÇ¨Ïö©Îüâ Í≥ÑÏÇ∞\r\n    const hourlyAverages = Object.entries(hourlyUsage).map(([hour, values]) => ({\r\n      hour: parseInt(hour),\r\n      avgUsage: values.reduce((sum, val) => sum + val, 0) / values.length,\r\n      count: values.length\r\n    }));\r\n    \r\n    // ÏµúÎåÄ Î©îÎ™®Î¶¨ ÏÇ¨Ïö© ÏãúÍ∞ÑÎåÄ ÏãùÎ≥Ñ\r\n    hourlyAverages.sort((a, b) => b.avgUsage - a.avgUsage);\r\n    const peakHours = hourlyAverages.slice(0, 3);\r\n    \r\n    // Î©îÎ™®Î¶¨ ÎàÑÏàò Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÎäî ÏÑ∏ÏÖò ÏãùÎ≥Ñ\r\n    const sessionData: { [sessionId: string]: number[] } = {};\r\n    memoryLogs.forEach(log => {\r\n      if (!log.sessionId) return;\r\n      \r\n      const metadata = log.metadata || {};\r\n      if (!sessionData[log.sessionId]) sessionData[log.sessionId] = [];\r\n      sessionData[log.sessionId].push(metadata.percentUsed || 0);\r\n    });\r\n    \r\n    // ÏÑ∏ÏÖòÎ≥ÑÎ°ú Î©îÎ™®Î¶¨ Ï¶ùÍ∞Ä Ï∂îÏÑ∏ Î∂ÑÏÑù\r\n    const sessionTrends = Object.entries(sessionData).map(([sessionId, usages]) => {\r\n      if (usages.length < 5) return null; // ÎÑàÎ¨¥ ÏßßÏùÄ ÏÑ∏ÏÖòÏùÄ Ï†úÏô∏\r\n      \r\n      const firstHalf = usages.slice(0, Math.floor(usages.length / 2));\r\n      const secondHalf = usages.slice(Math.floor(usages.length / 2));\r\n      \r\n      const firstAvg = firstHalf.reduce((sum, val) => sum + val, 0) / firstHalf.length;\r\n      const secondAvg = secondHalf.reduce((sum, val) => sum + val, 0) / secondHalf.length;\r\n      \r\n      const increaseTrend = secondAvg - firstAvg;\r\n      \r\n      return {\r\n        sessionId,\r\n        samplesCount: usages.length,\r\n        increaseTrend,\r\n        percentIncrease: (increaseTrend / firstAvg) * 100\r\n      };\r\n    }).filter(Boolean);\r\n    \r\n    // Î©îÎ™®Î¶¨ Ï¶ùÍ∞Ä Ï∂îÏÑ∏Í∞Ä ÎÜíÏùÄ ÏÑ∏ÏÖò Ï†ïÎ†¨\r\n    sessionTrends.sort((a, b) => (b?.increaseTrend || 0) - (a?.increaseTrend || 0));\r\n    const problematicSessions = sessionTrends.filter(session => session && session.percentIncrease > 15);\r\n    \r\n    // ÏµúÏ†ÅÌôî Ï∂îÏ≤úÏÇ¨Ìï≠ ÏÉùÏÑ±\r\n    const recommendations = [];\r\n    \r\n    if (peakHours.length > 0) {\r\n      const formattedHours = peakHours.map(h => `${h.hour}Ïãú`).join(', ');\r\n      recommendations.push(`Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ ÎÜíÏùÄ ÏãúÍ∞ÑÎåÄ(${formattedHours})Ïóê ÏûêÎèô Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôîÎ•º ÏòàÏïΩÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    if (problematicSessions.length > 0) {\r\n      recommendations.push(`Î©îÎ™®Î¶¨ ÎàÑÏàò Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÎäî ${problematicSessions.length}Í∞úÏùò Ìå®ÌÑ¥Ïù¥ Î∞úÍ≤¨ÎêòÏóàÏäµÎãàÎã§.`);\r\n      \r\n      if (problematicSessions.length > 2) {\r\n        recommendations.push('Ïû•Í∏∞Í∞Ñ ÏÇ¨Ïö© Ïãú Ï£ºÍ∏∞Ï†ÅÏù∏ Ïï± Ïû¨ÏãúÏûë ÏùºÏ†ïÏùÑ ÏÑ§Ï†ïÌïòÏÑ∏Ïöî.');\r\n      }\r\n    }\r\n    \r\n    // Î©îÎ™®Î¶¨ GC ÏµúÏ†Å Ï£ºÍ∏∞ Ï∂îÏ≤ú\r\n    const gcSuggestion = calculateOptimalGCInterval(memoryUsages);\r\n    if (gcSuggestion) {\r\n      recommendations.push(`ÏµúÏ†ÅÏùò Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖò Ï£ºÍ∏∞: ${gcSuggestion}ms`);\r\n    }\r\n    \r\n    // ÌïôÏäµ Í≤∞Í≥º Î∞òÌôò\r\n    const result: LearningResult = {\r\n      modelType: LearningModelType.MEMORY_OPTIMIZATION,\r\n      timestamp: Date.now(),\r\n      insights: [\r\n        { type: 'peakHours', data: peakHours },\r\n        { type: 'problematicSessions', data: problematicSessions.slice(0, 5) },\r\n        { type: 'hourlyUsage', data: hourlyAverages },\r\n      ],\r\n      recommendations,\r\n      metrics: {\r\n        sampleSize: memoryLogs.length,\r\n        avgMemoryUsage: memoryUsages.reduce((sum, u) => sum + u.percentUsed, 0) / memoryUsages.length,\r\n        peakMemoryUsage: Math.max(...memoryUsages.map(u => u.percentUsed)),\r\n        problematicSessionsCount: problematicSessions.length\r\n      }\r\n    };\r\n    \r\n    logger.info('Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ ÌïôÏäµ ÏôÑÎ£å', { \r\n      sampleSize: memoryLogs.length, \r\n      recommendations: recommendations.length \r\n    });\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    logger.error('Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ ÌïôÏäµ Ï§ë Ïò§Î•ò:', error as Record<string, unknown>);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥ ÌïôÏäµ ÏòµÏÖò\r\n */\r\nexport interface UserBehaviorOptions {\r\n  timeRange?: {\r\n    startTime?: number;\r\n    endTime?: number;\r\n  };\r\n  minSampleSize?: number;\r\n}\r\n\r\n/**\r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î°úÎ∂ÄÌÑ∞ ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥ÏùÑ ÌïôÏäµÌï©ÎãàÎã§.\r\n * \r\n * @param options - ÏÇ¨Ïö©Ïûê ÌñâÎèô ÌïôÏäµ ÏòµÏÖò\r\n * @returns ÌïôÏäµ Í≤∞Í≥º\r\n */\r\nexport async function learnUserBehaviorPatterns(\r\n  options: UserBehaviorOptions = {}\r\n): Promise<LearningResult> {\r\n  try {\r\n    logger.info('ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥ ÌïôÏäµ ÏãúÏûë');\r\n    \r\n    // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\r\n    const minSampleSize = options.minSampleSize || 20;\r\n    const now = Date.now();\r\n    const startTime = options.timeRange?.startTime || now - 30 * 24 * 60 * 60 * 1000; // Í∏∞Î≥∏ 30Ïùº\r\n    const endTime = options.timeRange?.endTime || now;\r\n    \r\n    // ÎåÄÌôî Î°úÍ∑∏ Í≤ÄÏÉâ\r\n    const conversationLogs = await searchLogs({\r\n      type: LogType.CONVERSATION,\r\n      startTime,\r\n      endTime,\r\n      limit: 1000 // ÏµúÎåÄ 1000Í∞úÍπåÏßÄÎßå Í∞ÄÏ†∏Ïò¥\r\n    });\r\n    \r\n    if (conversationLogs.length < minSampleSize) {\r\n      logger.warn(`Ï∂©Î∂ÑÌïú ÎåÄÌôî Î°úÍ∑∏ ÏÉòÌîåÏù¥ ÏóÜÏäµÎãàÎã§. ÌïÑÏöî: ${minSampleSize}, ÌòÑÏû¨: ${conversationLogs.length}`);\r\n    }\r\n    \r\n    // ÎåÄÌôî Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\r\n    const conversations = conversationLogs.map(log => {\r\n      try {\r\n        return {\r\n          ...log,\r\n          parsedContent: JSON.parse(log.content)\r\n        };\r\n      } catch (_) {  // ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Î≥ÄÏàòÎäî _ Î°úÎßå ÌëúÏãú\r\n        return {\r\n          ...log,\r\n          parsedContent: {\r\n            userMessage: '',\r\n            aiResponse: '',\r\n            timestamp: log.timestamp\r\n          }\r\n        };\r\n      }\r\n    });\r\n    \r\n    // ÏûêÏ£º ÏÇ¨Ïö©ÎêòÎäî Îã®Ïñ¥/Íµ¨Î¨∏ Î∂ÑÏÑù\r\n    const wordFrequency: WordFrequency = {};\r\n    conversations.forEach(conv => {\r\n      const userMessage = conv.parsedContent?.userMessage || '';\r\n      if (!userMessage) return;\r\n      \r\n      const words = userMessage\r\n        .toLowerCase()\r\n        .replace(/[^\\w\\sÍ∞Ä-Ìû£]/g, ' ')\r\n        .split(/\\s+/)\r\n        .filter((word: string) => word.length > 1);\r\n      \r\n      words.forEach((word: string) => {\r\n        wordFrequency[word] = (wordFrequency[word] || 0) + 1;\r\n      });\r\n    });\r\n    \r\n    // ÏãúÍ∞ÑÎåÄÎ≥Ñ ÌôúÎèô Ìå®ÌÑ¥ Î∂ÑÏÑù\r\n    const hourlyActivity: HourlyActivity = {};\r\n    conversations.forEach(conv => {\r\n      const timestamp = conv.timestamp || conv.parsedContent?.timestamp;\r\n      if (!timestamp) return;\r\n      \r\n      const date = new Date(timestamp);\r\n      const hour = date.getHours();\r\n      \r\n      hourlyActivity[hour] = (hourlyActivity[hour] || 0) + 1;\r\n    });\r\n    \r\n    // Î©îÏãúÏßÄ Í∏∏Ïù¥ Î∂ÑÏÑù\r\n    const messageLengths = conversations.map(conv => {\r\n      const userMessage = conv.parsedContent?.userMessage || '';\r\n      return userMessage.length;\r\n    });\r\n    \r\n    const avgMessageLength = messageLengths.length > 0 ? \r\n      messageLengths.reduce((sum, len) => sum + len, 0) / messageLengths.length : 0;\r\n    \r\n    // ÏÑ∏ÏÖòÎ≥Ñ ÎåÄÌôî Ïàò Î∂ÑÏÑù\r\n    const sessionConversations: SessionConversations = {};\r\n    conversations.forEach(conv => {\r\n      if (!conv.sessionId) return;\r\n      sessionConversations[conv.sessionId] = (sessionConversations[conv.sessionId] || 0) + 1;\r\n    });\r\n    \r\n    const sessionsArray = Object.entries(sessionConversations)\r\n      .map(([id, count]) => ({ id, count: count as number }));\r\n    \r\n    const avgConversationsPerSession = sessionsArray.length > 0 ?\r\n      sessionsArray.reduce((sum, session) => {\r\n        return sum + (session && session.count ? session.count : 0);\r\n      }, 0) / sessionsArray.length : 0;\r\n    \r\n    // ÌôúÎèôÏù¥ Í∞ÄÏû• ÎßéÏùÄ ÏãúÍ∞ÑÎåÄ ÏãùÎ≥Ñ: null Ï≤¥ÌÅ¨ Ï∂îÍ∞Ä\r\n    const activeHours = Object.entries(hourlyActivity)\r\n      .sort((a, b) => {\r\n        if (a === null || b === null || a[1] === null || b[1] === null) return 0;\r\n        return (b[1] as number) - (a[1] as number);\r\n      })\r\n      .slice(0, 3)\r\n      .map(([hour, count]) => ({ \r\n        hour: parseInt(hour), \r\n        count: count as number \r\n      }));\r\n    \r\n    // Ï∂îÏ≤úÏÇ¨Ìï≠ ÏÉùÏÑ±\r\n    const recommendations = [];\r\n    \r\n    if (activeHours.length > 0) {\r\n      const formattedHours = activeHours.map(h => `${h.hour}Ïãú`).join(', ');\r\n      recommendations.push(`ÏÇ¨Ïö©ÏûêÎäî ${formattedHours}Ïóê Í∞ÄÏû• ÌôúÎ∞úÌïòÍ≤å ÌôúÎèôÌï©ÎãàÎã§. Ïù¥ ÏãúÍ∞ÑÎåÄÏóê ÏÑ±Îä•ÏùÑ ÏµúÏ†ÅÌôîÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    if (avgMessageLength > 100) {\r\n      recommendations.push(`ÏÇ¨Ïö©ÏûêÎäî ÌèâÍ∑† ${Math.round(avgMessageLength)}ÏûêÏùò Í∏¥ Î©îÏãúÏßÄÎ•º Î≥¥ÎÉÖÎãàÎã§. ÎåÄÏö©Îüâ ÌÖçÏä§Ìä∏ Ï≤òÎ¶¨Î•º ÏµúÏ†ÅÌôîÌïòÏÑ∏Ïöî.`);\r\n    } else {\r\n      recommendations.push(`ÏÇ¨Ïö©ÏûêÎäî ÌèâÍ∑† ${Math.round(avgMessageLength)}ÏûêÏùò ÏßßÏùÄ Î©îÏãúÏßÄÎ•º Î≥¥ÎÉÖÎãàÎã§. Îπ†Î•∏ ÏùëÎãµÏóê ÏßëÏ§ëÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    if (avgConversationsPerSession > 10) {\r\n      recommendations.push(`ÏÇ¨Ïö©ÏûêÎäî ÏÑ∏ÏÖòÎãπ ÌèâÍ∑† ${Math.round(avgConversationsPerSession)}Í∞úÏùò ÎåÄÌôîÎ•º ÎÇòÎàïÎãàÎã§. Ïû•Í∏∞ ÏÑ∏ÏÖò Î©îÎ™®Î¶¨ Í¥ÄÎ¶¨Î•º ÏµúÏ†ÅÌôîÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    if (Object.keys(wordFrequency).length > 0) {\r\n      const topWords = Object.entries(wordFrequency)\r\n        .sort((a, b) => b[1] - a[1])\r\n        .slice(0, 20)\r\n        .map(([word, count]) => ({ word, count }));\r\n      const topThreeWords = topWords.slice(0, 3).map(w => w.word).join(', ');\r\n      recommendations.push(`Í∞ÄÏû• ÏûêÏ£º ÏÇ¨Ïö©Îêú ÌÇ§ÏõåÎìúÎäî \"${topThreeWords}\"ÏûÖÎãàÎã§. Ïù¥ÏôÄ Í¥ÄÎ†®Îêú ÏùëÎãµÏùÑ ÏµúÏ†ÅÌôîÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    // ÌïôÏäµ Í≤∞Í≥º Î∞òÌôò ÏΩîÎìúÏóêÏÑú ÌÉÄÏûÖ Îã®Ïñ∏ ÏïàÏ†ÑÌïòÍ≤å Ï≤òÎ¶¨\r\n    const result: LearningResult = {\r\n      modelType: LearningModelType.USER_BEHAVIOR,\r\n      timestamp: Date.now(),\r\n      insights: [\r\n        { type: 'topWords', data: Object.entries(wordFrequency)\r\n          .sort((a, b) => b[1] - a[1])\r\n          .slice(0, 20)\r\n          .map(([word, count]) => ({ word, count })) },\r\n        { type: 'activeHours', data: activeHours },\r\n        { type: 'messageLengths', data: { average: avgMessageLength, max: Math.max(...messageLengths) } },\r\n        { type: 'sessionsActivity', data: { \r\n          average: avgConversationsPerSession, \r\n          maxCount: Math.max(...Object.values(sessionConversations).map(v => v as number)) \r\n        } },\r\n      ],\r\n      recommendations: recommendations || [], // null Ï≤¥ÌÅ¨ Ï∂îÍ∞Ä\r\n      metrics: {\r\n        sampleSize: conversations.length,\r\n        uniqueWords: Object.keys(wordFrequency).length,\r\n        avgMessageLength,\r\n        avgConversationsPerSession\r\n      }\r\n    };\r\n    \r\n    // ÌÉÄÏûÖ ÏïàÏ†ÑÌïú Î°úÍπÖ\r\n    logger.info('ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥ ÌïôÏäµ ÏôÑÎ£å', { \r\n      sampleSize: conversations.length, \r\n      recommendations: recommendations ? recommendations.length : 0 \r\n    } as Record<string, unknown>);  // ÌÉÄÏûÖ Îã®Ïñ∏ Ï∂îÍ∞Ä\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    logger.error('ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥ ÌïôÏäµ Ï§ë Ïò§Î•ò:', error as Record<string, unknown>);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Ïò§Î•ò ÏòàÏ∏° ÌïôÏäµ ÏòµÏÖò\r\n */\r\nexport interface ErrorPredictionOptions {\r\n  timeRange?: {\r\n    startTime?: number;\r\n    endTime?: number;\r\n  };\r\n  minSampleSize?: number;\r\n}\r\n\r\n/**\r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î°úÎ∂ÄÌÑ∞ Ïò§Î•ò Ìå®ÌÑ¥ÏùÑ ÌïôÏäµÌïòÏó¨ ÏòàÏ∏° Î™®Îç∏ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.\r\n * \r\n * @param options - Ïò§Î•ò ÏòàÏ∏° ÌïôÏäµ ÏòµÏÖò\r\n * @returns ÌïôÏäµ Í≤∞Í≥º\r\n */\r\nexport async function learnErrorPatterns(\r\n  options: ErrorPredictionOptions = {}\r\n): Promise<LearningResult> {\r\n  try {\r\n    logger.info('Ïò§Î•ò Ìå®ÌÑ¥ ÌïôÏäµ ÏãúÏûë');\r\n    \r\n    // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\r\n    const minSampleSize = options.minSampleSize || 10;\r\n    const now = Date.now();\r\n    const startTime = options.timeRange?.startTime || now - 30 * 24 * 60 * 60 * 1000; // Í∏∞Î≥∏ 30Ïùº\r\n    const endTime = options.timeRange?.endTime || now;\r\n    \r\n    // Ïò§Î•ò Î°úÍ∑∏ Í≤ÄÏÉâ\r\n    const errorLogs = await searchLogs({\r\n      type: LogType.ERROR,\r\n      startTime,\r\n      endTime,\r\n      limit: 1000\r\n    });\r\n    \r\n    if (errorLogs.length < minSampleSize) {\r\n      logger.warn(`Ï∂©Î∂ÑÌïú Ïò§Î•ò Î°úÍ∑∏ ÏÉòÌîåÏù¥ ÏóÜÏäµÎãàÎã§. ÌïÑÏöî: ${minSampleSize}, ÌòÑÏû¨: ${errorLogs.length}`);\r\n    }\r\n    \r\n    // Ïò§Î•ò Î©îÏãúÏßÄ Î∂ÑÎ•ò\r\n    const errorGroups: ErrorGroups = {};\r\n    errorLogs.forEach(log => {\r\n      // Ïò§Î•ò Î©îÏãúÏßÄÏóêÏÑú ÌïµÏã¨ Î∂ÄÎ∂ÑÎßå Ï∂îÏ∂ú\r\n      const errorMessage = log.content || '';\r\n      const errorType = getErrorType(errorMessage);\r\n      \r\n      if (!errorGroups[errorType]) {\r\n        errorGroups[errorType] = {\r\n          count: 0,\r\n          examples: [],\r\n          sessionIds: new Set()\r\n        };\r\n      }\r\n      \r\n      errorGroups[errorType].count++;\r\n      \r\n      // ÏµúÎåÄ 5Í∞úÍπåÏßÄÎßå ÏòàÏãú Ï†ÄÏû•\r\n      if (errorGroups[errorType].examples.length < 5) {\r\n        errorGroups[errorType].examples.push({\r\n          message: errorMessage,\r\n          timestamp: log.timestamp\r\n        });\r\n      }\r\n      \r\n      // ÏÑ∏ÏÖò IDÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ Ï∂îÍ∞Ä\r\n      if (log.sessionId) {\r\n        errorGroups[errorType].sessionIds.add(log.sessionId);\r\n      }\r\n    });\r\n    \r\n    // Í∞ÄÏû• ÎπàÎ≤àÌïú Ïò§Î•ò Ï∂îÏ∂ú\r\n    const topErrors = Object.entries(errorGroups)\r\n      .map(([type, data]) => ({\r\n        type,\r\n        count: data.count,\r\n        examples: data.examples,\r\n        uniqueSessions: data.sessionIds.size\r\n      }))\r\n      .sort((a, b) => b.count - a.count);\r\n    \r\n    // ÏãúÍ∞ÑÎåÄÎ≥Ñ Ïò§Î•ò Î∞úÏÉù Ìå®ÌÑ¥\r\n    const hourlyErrors: Record<number, number> = {};\r\n    errorLogs.forEach(log => {\r\n      const date = new Date(log.timestamp);\r\n      const hour = date.getHours();\r\n      \r\n      hourlyErrors[hour] = (hourlyErrors[hour] || 0) + 1;\r\n    });\r\n    \r\n    // Í∞ÄÏû• Ïò§Î•òÍ∞Ä ÎßéÏùÄ ÏãúÍ∞ÑÎåÄ\r\n    const errorPeakHours = Object.entries(hourlyErrors)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 3)\r\n      .map(([hour, count]) => ({ hour: parseInt(hour), count }));\r\n    \r\n    // Ï∂îÏ≤úÏÇ¨Ìï≠ ÏÉùÏÑ±\r\n    const recommendations = [];\r\n    \r\n    if (topErrors.length > 0) {\r\n      const topError = topErrors[0];\r\n      recommendations.push(`Í∞ÄÏû• ÎπàÎ≤àÌïú Ïò§Î•ò \"${topError.type}\"Ïóê ÎåÄÌïú ÏòàÏô∏ Ï≤òÎ¶¨Î•º Í∞ïÌôîÌïòÏÑ∏Ïöî. (${topError.count}Ìöå Î∞úÏÉù)`);\r\n      \r\n      if (topError.uniqueSessions > 3) {\r\n        recommendations.push(`\"${topError.type}\" Ïò§Î•òÍ∞Ä ${topError.uniqueSessions}Í∞úÏùò Îã§Î•∏ ÏÑ∏ÏÖòÏóêÏÑú Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏãúÏä§ÌÖúÏ†Å Î¨∏Ï†úÏùº Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÏäµÎãàÎã§.`);\r\n      }\r\n    }\r\n    \r\n    if (errorPeakHours.length > 0) {\r\n      const formattedHours = errorPeakHours.map(h => `${h.hour}Ïãú`).join(', ');\r\n      recommendations.push(`${formattedHours}Ïóê Ïò§Î•ò Î∞úÏÉùÎ•†Ïù¥ ÎÜíÏäµÎãàÎã§. Ïù¥ ÏãúÍ∞ÑÎåÄÏóê Ï∂îÍ∞Ä Î™®ÎãàÌÑ∞ÎßÅÏùÑ ÏÑ§Ï†ïÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    if (errorLogs.length > 50) {\r\n      const errorRate = (errorLogs.length / ((endTime - startTime) / (24 * 60 * 60 * 1000))).toFixed(2);\r\n      recommendations.push(`ÏùºÌèâÍ∑† ${errorRate}Í∞úÏùò Ïò§Î•òÍ∞Ä Î∞úÏÉùÌï©ÎãàÎã§. Ïò§Î•ò Ï≤òÎ¶¨ Î°úÏßÅÏùÑ Í≤ÄÌÜ†ÌïòÏÑ∏Ïöî.`);\r\n    }\r\n    \r\n    // ÌïôÏäµ Í≤∞Í≥º Î∞òÌôò\r\n    const result: LearningResult = {\r\n      modelType: LearningModelType.ERROR_PREDICTION,\r\n      timestamp: Date.now(),\r\n      insights: [\r\n        { type: 'topErrors', data: topErrors.slice(0, 5) },\r\n        { type: 'errorPeakHours', data: errorPeakHours },\r\n        { type: 'errorDistribution', data: Object.fromEntries(topErrors.slice(0, 10).map(e => [e.type, e.count])) }\r\n      ],\r\n      recommendations,\r\n      metrics: {\r\n        sampleSize: errorLogs.length,\r\n        uniqueErrorTypes: Object.keys(errorGroups).length,\r\n        mostFrequentErrorCount: topErrors.length > 0 ? topErrors[0].count : 0,\r\n        errorVarietyIndex: Object.keys(errorGroups).length / errorLogs.length\r\n      }\r\n    };\r\n    \r\n    logger.info('Ïò§Î•ò Ìå®ÌÑ¥ ÌïôÏäµ ÏôÑÎ£å', { \r\n      sampleSize: errorLogs.length, \r\n      errorTypes: Object.keys(errorGroups).length \r\n    });\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    logger.error('Ïò§Î•ò Ìå®ÌÑ¥ ÌïôÏäµ Ï§ë Ïò§Î•ò:', error as Record<string, unknown>);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Ïó¨Îü¨ ÌïôÏäµ Í≤∞Í≥ºÎ•º ÌÜµÌï©ÌïòÏó¨ Ï¢ÖÌï©Ï†ÅÏù∏ ÏµúÏ†ÅÌôî Ï∂îÏ≤úÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.\r\n * \r\n * @param results - ÌïôÏäµ Í≤∞Í≥º Î∞∞Ïó¥\r\n * @returns ÌÜµÌï©Îêú Ï∂îÏ≤úÏÇ¨Ìï≠ Î∞∞Ïó¥\r\n */\r\nexport function combineRecommendations(results: LearningResult[]): string[] {\r\n  // Î™®Îì† Ï∂îÏ≤úÏÇ¨Ìï≠ ÏàòÏßë\r\n  const allRecommendations = results.flatMap(result => result.recommendations);\r\n  \r\n  // Ï§ëÎ≥µ Ï†úÍ±∞ (Ïú†ÏÇ¨Ìïú Ï∂îÏ≤úÏÇ¨Ìï≠ Î≥ëÌï©)\r\n  const uniqueRecommendations = [];\r\n  const addedKeywords = new Set();\r\n  \r\n  for (const rec of allRecommendations) {\r\n    // Î¨∏Ïû•ÏóêÏÑú ÌïµÏã¨ ÌÇ§ÏõåÎìú Ï∂îÏ∂ú (Í∞ÑÎã®Ìïú Íµ¨ÌòÑ)\r\n    const keywords = rec.toLowerCase().replace(/[^\\w\\sÍ∞Ä-Ìû£]/g, ' ').split(/\\s+/).filter(w => w.length > 4);\r\n    \r\n    // Ïù¥ÎØ∏ Ïú†ÏÇ¨Ìïú ÌÇ§ÏõåÎìúÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\r\n    let isDuplicate = false;\r\n    for (const keyword of keywords) {\r\n      if (addedKeywords.has(keyword)) {\r\n        isDuplicate = true;\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (!isDuplicate) {\r\n      uniqueRecommendations.push(rec);\r\n      keywords.forEach(keyword => addedKeywords.add(keyword));\r\n    }\r\n  }\r\n  \r\n  return uniqueRecommendations;\r\n}\r\n\r\n/**\r\n * ÏóêÎü¨ Î©îÏãúÏßÄÏóêÏÑú ÏóêÎü¨ ÌÉÄÏûÖÏùÑ Ï∂îÏ∂úÌï©ÎãàÎã§.\r\n * \r\n * @param errorMessage - ÏóêÎü¨ Î©îÏãúÏßÄ\r\n * @returns Ï∂îÏ∂úÎêú ÏóêÎü¨ ÌÉÄÏûÖ\r\n */\r\nfunction getErrorType(errorMessage: string): string {\r\n  // ÏùºÎ∞òÏ†ÅÏù∏ JavaScript Ïò§Î•ò Ìå®ÌÑ¥ ÌôïÏù∏\r\n  if (errorMessage.includes('TypeError:')) return 'TypeError';\r\n  if (errorMessage.includes('ReferenceError:')) return 'ReferenceError';\r\n  if (errorMessage.includes('SyntaxError:')) return 'SyntaxError';\r\n  if (errorMessage.includes('RangeError:')) return 'RangeError';\r\n  if (errorMessage.includes('NetworkError:') || errorMessage.includes('ÎÑ§Ìä∏ÏõåÌÅ¨')) return 'NetworkError';\r\n  if (errorMessage.includes('API ÏöîÏ≤≠ Ïã§Ìå®') || errorMessage.includes('API request failed')) return 'APIError';\r\n  if (errorMessage.includes('Permission denied') || errorMessage.includes('Í∂åÌïú')) return 'PermissionError';\r\n  if (errorMessage.includes('not found') || errorMessage.includes('Ï∞æÏùÑ Ïàò ÏóÜÏùå')) return 'NotFoundError';\r\n  if (errorMessage.includes('Î©îÎ™®Î¶¨') || errorMessage.includes('memory')) return 'MemoryError';\r\n  \r\n  // ÌäπÏ†ï ÌÇ§ÏõåÎìúÎ°ú Î∂ÑÎ•ò\r\n  if (errorMessage.includes('undefined') || errorMessage.includes('null')) return 'NullError';\r\n  if (errorMessage.includes('promise') || errorMessage.includes('async')) return 'AsyncError';\r\n  if (errorMessage.includes('Ï¥àÍ≥º') || errorMessage.includes('limit') || errorMessage.includes('threshold')) return 'LimitExceededError';\r\n  \r\n  // Í∏∞Î≥∏Í∞í Î∞òÌôò\r\n  return 'UnknownError';\r\n}\r\n\r\n/**\r\n * ÏµúÏ†ÅÏùò Í∞ÄÎπÑÏßÄ Ïª¨Î†âÏÖò Í∞ÑÍ≤©ÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§.\r\n * \r\n * @param memoryUsages - Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Îç∞Ïù¥ÌÑ∞\r\n * @returns ÏµúÏ†ÅÏùò GC Í∞ÑÍ≤©(ms) ÎòêÎäî null\r\n */\r\nfunction calculateOptimalGCInterval(memoryUsages: any[]): number | null {\r\n  if (memoryUsages.length < 10) return null;\r\n  \r\n  // Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Ï¶ùÍ∞Ä Ìå®ÌÑ¥ Î∂ÑÏÑù\r\n  const _timestamps = memoryUsages.map(u => u.timestamp);  // ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Î≥ÄÏàòÏóê _ Ï†ëÎëêÏÇ¨ Ï∂îÍ∞Ä\r\n  const _memoryValues = memoryUsages.map(u => u.percentUsed);  // ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Î≥ÄÏàòÏóê _ Ï†ëÎëêÏÇ¨ Ï∂îÍ∞Ä\r\n  \r\n  // Ï†ïÎ†¨\r\n  const sortedData = memoryUsages\r\n    .map((u, _i) => ({ timestamp: u.timestamp, value: u.percentUsed }))\r\n    .sort((a, b) => a.timestamp - b.timestamp);\r\n  \r\n  // Ï¶ùÍ∞ÄÏú® Í≥ÑÏÇ∞\r\n  const increases = [];\r\n  for (let i = 1; i < sortedData.length; i++) {\r\n    const timeDiff = sortedData[i].timestamp - sortedData[i-1].timestamp;\r\n    const valueDiff = sortedData[i].value - sortedData[i-1].value;\r\n    \r\n    if (valueDiff > 0 && timeDiff > 0) {\r\n      increases.push({\r\n        rate: valueDiff / timeDiff * 1000, // msÎãπ Ï¶ùÍ∞ÄÏú®ÏùÑ Ï¥àÎãπ Ï¶ùÍ∞ÄÏú®Î°ú Î≥ÄÌôò\r\n        timeDiff\r\n      });\r\n    }\r\n  }\r\n  \r\n  if (increases.length < 5) return null;\r\n  \r\n  // Ï§ëÏïôÍ∞í Í≥ÑÏÇ∞\r\n  increases.sort((a, b) => a.rate - b.rate);\r\n  const medianRate = increases[Math.floor(increases.length / 2)].rate;\r\n  \r\n  // Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ 5% Ï¶ùÍ∞ÄÌïòÎäîÎç∞ Í±∏Î¶¨Îäî ÌèâÍ∑† ÏãúÍ∞Ñ (Î∞ÄÎ¶¨Ï¥à)\r\n  const timeToIncrease5Percent = 5 / medianRate * 1000;\r\n  \r\n  // Ï†ÅÏ†àÌïú GC Í∞ÑÍ≤© = Î©îÎ™®Î¶¨Í∞Ä 5% Ï¶ùÍ∞ÄÌïòÎäî ÏãúÍ∞ÑÏùò 80%\r\n  // Ïù¥ Í∞íÏùÄ Í≤ΩÌóòÏ†ÅÏúºÎ°ú Í≤∞Ï†ïÎêú Í≤ÉÏù¥Î©∞, ÏÉÅÌô©Ïóê Îî∞Îùº Ï°∞Ï†ï Í∞ÄÎä•\r\n  const suggestedInterval = Math.round(timeToIncrease5Percent * 0.8);\r\n  \r\n  // Ìï©Î¶¨Ï†ÅÏù∏ Î≤îÏúÑ ÎÇ¥Ïóê ÏûàÎäîÏßÄ Í≤ÄÏ¶ù (ÏµúÏÜå 10Ï¥à, ÏµúÎåÄ 5Î∂Ñ)\r\n  const minInterval = 10 * 1000;\r\n  const maxInterval = 5 * 60 * 1000;\r\n  \r\n  if (suggestedInterval < minInterval) return minInterval;\r\n  if (suggestedInterval > maxInterval) return maxInterval;\r\n  \r\n  return suggestedInterval;\r\n}\r\n","/**\r\n * Ìè¨Îß∑ÌåÖ Ïú†Ìã∏Î¶¨Ìã∞ Ìï®Ïàò\r\n */\r\n\r\n/**\r\n * Î∞îÏù¥Ìä∏ ÌÅ¨Í∏∞Î•º ÏÇ¨ÎûåÏù¥ ÏùΩÍ∏∞ Ïâ¨Ïö¥ ÌòïÌÉúÎ°ú Î≥ÄÌôò\r\n */\r\nexport function formatBytes(bytes: number, decimals: number = 2): string {\r\n  if (bytes === 0) return '0 Bytes';\r\n\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  \r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(decimals)) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * Ïà´ÏûêÎ•º Ï≤ú Îã®ÏúÑ Íµ¨Î∂ÑÏûêÍ∞Ä ÏûàÎäî Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò\r\n */\r\nexport function formatNumber(num: number): string {\r\n  return num.toLocaleString();\r\n}\r\n\r\n/**\r\n * ÏãúÍ∞Ñ(Î∞ÄÎ¶¨Ï¥à)ÏùÑ ÏùΩÍ∏∞ Ïâ¨Ïö¥ ÌòïÌÉúÎ°ú Î≥ÄÌôò\r\n */\r\nexport function formatTime(milliseconds: number): string {\r\n  if (milliseconds < 1000) {\r\n    return `${milliseconds}ms`;\r\n  } else if (milliseconds < 60000) {\r\n    return `${(milliseconds / 1000).toFixed(1)}s`;\r\n  } else {\r\n    const minutes = Math.floor(milliseconds / 60000);\r\n    const seconds = ((milliseconds % 60000) / 1000).toFixed(0);\r\n    return `${minutes}m ${seconds}s`;\r\n  }\r\n}\r\n\r\n/**\r\n * WPM(Î∂ÑÎãπ Îã®Ïñ¥ Ïàò) Ìè¨Îß∑ÌåÖ\r\n */\r\nexport function formatWPM(wpm: number): string {\r\n  return `${Math.round(wpm)} WPM`;\r\n}\r\n","'use client';\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { LearningModelType, LearningResult } from '../utils/log-learning';\r\nimport { formatBytes, formatTime } from '../utils/format-utils';\r\nimport KeyboardIcon from '@mui/icons-material/Keyboard';\r\nimport styles from './LogAnalysisPanel.module.css';\r\n\r\n/**\r\n * ÏãúÍ∞ÑÎ≥Ñ Îç∞Ïù¥ÌÑ∞Î•º ÏúÑÌïú ÌÉÄÏûÖ Ï†ïÏùò\r\n */\r\ninterface HourData {\r\n  hour: number;\r\n  count: number;\r\n  percentage?: number;\r\n  // ÌïÑÏöîÌïú Îã§Î•∏ ÏÜçÏÑ±Îì§ Ï∂îÍ∞Ä\r\n}\r\n\r\n/**\r\n * ÏÑ∏ÏÖò Îç∞Ïù¥ÌÑ∞Î•º ÏúÑÌïú ÌÉÄÏûÖ Ï†ïÏùò\r\n */\r\ninterface SessionData {\r\n  id: string;\r\n  duration: number;\r\n  keyCount: number;\r\n  date: string;\r\n  // ÌïÑÏöîÌïú Îã§Î•∏ ÏÜçÏÑ±Îì§ Ï∂îÍ∞Ä\r\n}\r\n\r\n/**\r\n * Îã®Ïñ¥ Îç∞Ïù¥ÌÑ∞Î•º ÏúÑÌïú ÌÉÄÏûÖ Ï†ïÏùò\r\n */\r\ninterface WordData {\r\n  word: string;\r\n  count: number;\r\n  percentage?: number;\r\n  // ÌïÑÏöîÌïú Îã§Î•∏ ÏÜçÏÑ±Îì§ Ï∂îÍ∞Ä\r\n}\r\n\r\ninterface LogAnalysisPanelProps {\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Î°úÍ∑∏ Î∂ÑÏÑù Ìå®ÎÑê Ïª¥Ìè¨ÎÑåÌä∏\r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î•º ÌïôÏäµÌïòÍ≥† Î∂ÑÏÑù Í≤∞Í≥ºÎ•º ÌëúÏãúÌï©ÎãàÎã§.\r\n */\r\nexport default function LogAnalysisPanel({ className = '' }: LogAnalysisPanelProps) {\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [results, setResults] = useState<LearningResult[]>([]);\r\n  const [selectedTab, setSelectedTab] = useState<LearningModelType>(LearningModelType.MEMORY_OPTIMIZATION);\r\n  const [lastAnalysisTime, setLastAnalysisTime] = useState<number | null>(null);\r\n  const [combinedRecommendations, setCombinedRecommendations] = useState<string[]>([]);\r\n\r\n  // ÌïôÏäµ ÏÉÅÌÉú\r\n  const [, setLearningStatus] = useState<{\r\n    isLearning: boolean;\r\n    lastLearningTime: number | null;\r\n    availableModels: LearningModelType[];\r\n  }>({\r\n    isLearning: false,\r\n    lastLearningTime: null,\r\n    availableModels: Object.values(LearningModelType)\r\n  });\r\n\r\n  const learningStatusRef = useRef(false);\r\n\r\n  /**\r\n   * ÌïôÏäµ ÏÉÅÌÉú ÌôïÏù∏\r\n   */\r\n  const checkLearningStatus = useCallback(async () => {\r\n    try {\r\n      const response = await fetch('/api/logs/learn');\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`API ÏöîÏ≤≠ Ïã§Ìå®: ${response.status} ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setLearningStatus(data.status || {\r\n          isLearning: false,\r\n          lastLearningTime: null,\r\n          availableModels: Object.values(LearningModelType)\r\n        });\r\n      } else {\r\n        console.error('ÌïôÏäµ ÏÉÅÌÉú ÌôïÏù∏ Ïò§Î•ò:', data.error);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('ÌïôÏäµ ÏÉÅÌÉú ÌôïÏù∏ Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÌïôÏäµ ÏÉÅÌÉú ÌôïÏù∏\r\n  useEffect(() => {\r\n    checkLearningStatus();\r\n  }, [checkLearningStatus]);\r\n\r\n  /**\r\n   * ÌïôÏäµ Ïã§Ìñâ\r\n   */\r\n  const runLearning = useCallback(async (models: LearningModelType[] = []) => {\r\n    // Î™®Îç∏ÏùÑ ÏßÄÏ†ïÌïòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ Í∏∞Î≥∏Í∞íÏúºÎ°ú Î™®Îì† Î™®Îç∏ ÏÇ¨Ïö©\r\n    const modelsToLearn = models.length > 0\r\n      ? models\r\n      : Object.values(LearningModelType);\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/logs/learn', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          modelTypes: modelsToLearn,\r\n          options: {\r\n            memory: {\r\n              timeRange: {\r\n                startTime: Date.now() - 7 * 24 * 60 * 60 * 1000, // 1Ï£ºÏùº\r\n                endTime: Date.now()\r\n              }\r\n            },\r\n            user: {\r\n              timeRange: {\r\n                startTime: Date.now() - 30 * 24 * 60 * 60 * 1000, // 1Í∞úÏõî\r\n                endTime: Date.now()\r\n              }\r\n            },\r\n            error: {\r\n              timeRange: {\r\n                startTime: Date.now() - 30 * 24 * 60 * 60 * 1000, // 1Í∞úÏõî\r\n                endTime: Date.now()\r\n              }\r\n            }\r\n          }\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`API ÏöîÏ≤≠ Ïã§Ìå®: ${response.status} ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setResults(data.results || []);\r\n        setCombinedRecommendations(data.combinedRecommendations || []);\r\n        setLastAnalysisTime(data.timestamp || Date.now());\r\n\r\n        // ÌïôÏäµ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\r\n        await checkLearningStatus();\r\n      } else {\r\n        setError(data.error || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [checkLearningStatus]);\r\n\r\n  /**\r\n   * ÌäπÏ†ï Î™®Îç∏ Ïú†ÌòïÏóê ÎåÄÌïú ÌïôÏäµ Í≤∞Í≥º Í∞ÄÏ†∏Ïò§Í∏∞\r\n   */\r\n  const getResultForModel = (modelType: LearningModelType): LearningResult | undefined => {\r\n    return results.find(result => result.modelType === modelType);\r\n  };\r\n\r\n  /**\r\n   * ÌïôÏäµ Í≤∞Í≥ºÏóêÏÑú Ï∂îÏ≤ú ÏÇ¨Ìï≠ Î†åÎçîÎßÅ\r\n   */\r\n  const renderRecommendations = (recommendations: string[]) => {\r\n    return (\r\n      <ul className={styles.recommendationList}>\r\n        {recommendations.map((rec, index) => (\r\n          <li key={index} className={styles.recommendationItem}>{rec}</li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * ÌÜµÍ≥Ñ Ìï≠Î™© Î†åÎçîÎßÅ\r\n   */\r\n  const renderMetricItem = (label: string, value: any) => {\r\n    let formattedValue = value;\r\n\r\n    // Ïà´ÏûêÏù∏ Í≤ΩÏö∞ ÏÜåÏàòÏ†ê Ï≤òÎ¶¨\r\n    if (typeof value === 'number') {\r\n      // Î©îÎ™®Î¶¨ Í¥ÄÎ†® Ìï≠Î™©ÏùÄ MB ÎòêÎäî Î∞îÏù¥Ìä∏Î°ú ÌëúÏãú\r\n      if (label.toLowerCase().includes('memory') ||\r\n        label.toLowerCase().includes('heap') ||\r\n        label.toLowerCase().includes('size')) {\r\n        formattedValue = formatBytes(value);\r\n      }\r\n      // 0Í≥º 1 ÏÇ¨Ïù¥Ïùò Í∞íÏùÄ Î∞±Î∂ÑÏú®Î°ú ÌëúÏãú\r\n      else if (value > 0 && value < 1) {\r\n        formattedValue = `${(value * 100).toFixed(2)}%`;\r\n      }\r\n      // Í∏∞ÌÉÄ Ïà´ÏûêÎäî ÏÜåÏàòÏ†ê 2ÏûêÎ¶¨ÍπåÏßÄ ÌëúÏãú\r\n      else {\r\n        formattedValue = Number.isInteger(value) ? value : value.toFixed(2);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div key={label} className={styles.metricItem}>\r\n        <span className={styles.metricLabel}>{label}:</span>\r\n        <span className={styles.metricValue}>{formattedValue}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî Í≤∞Í≥º Î†åÎçîÎßÅ\r\n   */\r\n  const renderMemoryOptimizationResults = () => {\r\n    const result = getResultForModel(LearningModelType.MEMORY_OPTIMIZATION);\r\n\r\n    if (!result) {\r\n      return (\r\n        <div className={styles.noResults}>\r\n          <p>Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî ÌïôÏäµ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\r\n          <button\r\n            onClick={() => runLearning([LearningModelType.MEMORY_OPTIMIZATION])}\r\n            disabled={isLoading}\r\n            className={styles.learningButton}\r\n          >\r\n            Î©îÎ™®Î¶¨ Ìå®ÌÑ¥ ÌïôÏäµÌïòÍ∏∞\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { insights, recommendations, metrics } = result;\r\n\r\n    return (\r\n      <div className={styles.resultSection}>\r\n        <h3>Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ Î∂ÑÏÑù Í≤∞Í≥º</h3>\r\n\r\n        {/* Ïù∏ÏÇ¨Ïù¥Ìä∏ ÌëúÏãú */}\r\n        <div className={styles.insightsSection}>\r\n          <h4>Ï£ºÏöî Ïù∏ÏÇ¨Ïù¥Ìä∏</h4>\r\n\r\n          {insights.map((insight, index) => {\r\n            if (insight.type === 'peakHours' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Îüâ ÌîºÌÅ¨ ÏãúÍ∞ÑÎåÄ</h5>\r\n                  <div className={styles.peakHoursChart}>\r\n                    {insight.data.map((hour: HourData, i: number) => (\r\n                      <div key={i} className={styles.hourBar}>\r\n                        <div \r\n                          className={styles.hourBarFill} \r\n                          style={{ height: `${hour.percentage || 0}%` }}\r\n                        />\r\n                        <span className={styles.hourLabel}>{hour.hour}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            if (insight.type === 'problematicSessions' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>ÏùòÏã¨ÎêòÎäî Î©îÎ™®Î¶¨ ÎàÑÏàò ÏÑ∏ÏÖò</h5>\r\n                  <ul className={styles.sessionsList}>\r\n                    {insight.data.map((session: SessionData, i: number) => (\r\n                      <div key={i} className={styles.sessionItem}>\r\n                        <div className={styles.sessionDetails}>\r\n                          <span className={styles.sessionDate}>{session.date}</span>\r\n                          <span className={styles.sessionDuration}>{formatTime(session.duration)}</span>\r\n                        </div>\r\n                        <div className={styles.sessionKeyCount}>\r\n                          <KeyboardIcon className={styles.keyIcon} />\r\n                          <span>{session.keyCount}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            return null;\r\n          })}\r\n        </div>\r\n\r\n        {/* Î©îÌä∏Î¶≠ ÌëúÏãú */}\r\n        <div className={styles.metricsSection}>\r\n          <h4>Î©îÎ™®Î¶¨ ÏÇ¨Ïö© ÌÜµÍ≥Ñ</h4>\r\n          <div className={styles.metricsGrid}>\r\n            {Object.entries(metrics).map(([key, value]) =>\r\n              renderMetricItem(\r\n                key\r\n                  .replace(/([A-Z])/g, ' $1')\r\n                  .replace(/^./, str => str.toUpperCase()),\r\n                value\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ï∂îÏ≤ú ÏÇ¨Ìï≠ ÌëúÏãú */}\r\n        <div className={styles.recommendationsSection}>\r\n          <h4>Ï∂îÏ≤ú ÏÇ¨Ìï≠</h4>\r\n          {renderRecommendations(recommendations)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * ÏÇ¨Ïö©Ïûê ÌñâÎèô Î∂ÑÏÑù Í≤∞Í≥º Î†åÎçîÎßÅ\r\n   */\r\n  const renderUserBehaviorResults = () => {\r\n    const result = getResultForModel(LearningModelType.USER_BEHAVIOR);\r\n\r\n    if (!result) {\r\n      return (\r\n        <div className={styles.noResults}>\r\n          <p>ÏÇ¨Ïö©Ïûê ÌñâÎèô Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\r\n          <button\r\n            onClick={() => runLearning([LearningModelType.USER_BEHAVIOR])}\r\n            disabled={isLoading}\r\n            className={styles.learningButton}\r\n          >\r\n            ÏÇ¨Ïö©Ïûê Ìå®ÌÑ¥ ÌïôÏäµÌïòÍ∏∞\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { insights, recommendations, metrics } = result;\r\n\r\n    return (\r\n      <div className={styles.resultSection}>\r\n        <h3>ÏÇ¨Ïö©Ïûê ÌñâÎèô Î∂ÑÏÑù Í≤∞Í≥º</h3>\r\n\r\n        {/* Ïù∏ÏÇ¨Ïù¥Ìä∏ ÌëúÏãú */}\r\n        <div className={styles.insightsSection}>\r\n          <h4>Ï£ºÏöî Ïù∏ÏÇ¨Ïù¥Ìä∏</h4>\r\n\r\n          {insights.map((insight, index) => {\r\n            if (insight.type === 'topWords' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>ÏûêÏ£º ÏÇ¨Ïö©ÌïòÎäî Îã®Ïñ¥</h5>\r\n                  <div className={styles.wordCloud}>\r\n                    {insight.data.slice(0, 10).map((word: WordData, i: number) => (\r\n                      <div key={i} className={styles.wordItem}>\r\n                        <span className={styles.wordRank}>{i + 1}</span>\r\n                        <span className={styles.wordText}>{word.word}</span>\r\n                        <span className={styles.wordCount}>{word.count}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            if (insight.type === 'activeHours' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>ÌôúÎ∞úÌïú ÌôúÎèô ÏãúÍ∞ÑÎåÄ</h5>\r\n                  <div className={styles.activeHoursChart}>\r\n                    {insight.data.map((hour: HourData, i: number) => (\r\n                      <div key={i} className={styles.hourBar}>\r\n                        <div \r\n                          className={styles.hourBarFill} \r\n                          style={{ height: `${hour.percentage || 0}%` }}\r\n                        />\r\n                        <span className={styles.hourLabel}>{hour.hour}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            return null;\r\n          })}\r\n        </div>\r\n\r\n        {/* Î©îÌä∏Î¶≠ ÌëúÏãú */}\r\n        <div className={styles.metricsSection}>\r\n          <h4>ÏÇ¨Ïö© ÌÜµÍ≥Ñ</h4>\r\n          <div className={styles.metricsGrid}>\r\n            {Object.entries(metrics).map(([key, value]) =>\r\n              renderMetricItem(\r\n                key\r\n                  .replace(/([A-Z])/g, ' $1')\r\n                  .replace(/^./, str => str.toUpperCase()),\r\n                value\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ï∂îÏ≤ú ÏÇ¨Ìï≠ ÌëúÏãú */}\r\n        <div className={styles.recommendationsSection}>\r\n          <h4>Ï∂îÏ≤ú ÏÇ¨Ìï≠</h4>\r\n          {renderRecommendations(recommendations)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Ïò§Î•ò Î∂ÑÏÑù Í≤∞Í≥º Î†åÎçîÎßÅ\r\n   */\r\n  const renderErrorPredictionResults = () => {\r\n    const result = getResultForModel(LearningModelType.ERROR_PREDICTION);\r\n\r\n    if (!result) {\r\n      return (\r\n        <div className={styles.noResults}>\r\n          <p>Ïò§Î•ò Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\r\n          <button\r\n            onClick={() => runLearning([LearningModelType.ERROR_PREDICTION])}\r\n            disabled={isLoading}\r\n            className={styles.learningButton}\r\n          >\r\n            Ïò§Î•ò Ìå®ÌÑ¥ ÌïôÏäµÌïòÍ∏∞\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { insights, recommendations, metrics } = result;\r\n\r\n    return (\r\n      <div className={styles.resultSection}>\r\n        <h3>Ïò§Î•ò Ìå®ÌÑ¥ Î∂ÑÏÑù Í≤∞Í≥º</h3>\r\n\r\n        {/* Ïù∏ÏÇ¨Ïù¥Ìä∏ ÌëúÏãú */}\r\n        <div className={styles.insightsSection}>\r\n          <h4>Ï£ºÏöî Ïù∏ÏÇ¨Ïù¥Ìä∏</h4>\r\n\r\n          {insights.map((insight, index) => {\r\n            if (insight.type === 'topErrors' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>Í∞ÄÏû• ÎπàÎ≤àÌïú Ïò§Î•ò Ïú†Ìòï</h5>\r\n                  <ul className={styles.errorsList}>\r\n                    {insight.data.map((error: any, i: number) => (\r\n                      <li key={i} className={styles.errorItem}>\r\n                        <span className={styles.errorType}>{error.type}</span>\r\n                        <span className={styles.errorCount}>{error.count}Ìöå</span>\r\n                        <div className={styles.errorBar} style={{ width: `${Math.min(100, error.count * 5)}%` }} />\r\n\r\n                        {error.examples && error.examples.length > 0 && (\r\n                          <div className={styles.errorExample}>\r\n                            <span className={styles.errorExampleLabel}>ÏòàÏãú:</span>\r\n                            <span className={styles.errorExampleContent}>\r\n                              {error.examples[0].message}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            if (insight.type === 'errorPeakHours' && insight.data.length > 0) {\r\n              return (\r\n                <div key={index} className={styles.insightItem}>\r\n                  <h5>Ïò§Î•ò Î∞úÏÉù ÎπàÎèÑ ÎÜíÏùÄ ÏãúÍ∞ÑÎåÄ</h5>\r\n                  <div className={styles.errorHoursChart}>\r\n                    {insight.data.map((hour: HourData, i: number) => (\r\n                      <div key={i} className={styles.errorHourBar}\r\n                        style={{\r\n                          height: `${Math.max(20, (hour.count / 5) * 100)}px`,\r\n                          backgroundColor: i === 0 ? '#e03131' : '#f08c00'\r\n                        }}\r\n                      >\r\n                        <span className={styles.errorHourLabel}>{hour.hour}Ïãú</span>\r\n                        <span className={styles.errorHourValue}>{hour.count}Ìöå</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n\r\n            return null;\r\n          })}\r\n        </div>\r\n\r\n        {/* Î©îÌä∏Î¶≠ ÌëúÏãú */}\r\n        <div className={styles.metricsSection}>\r\n          <h4>Ïò§Î•ò ÌÜµÍ≥Ñ</h4>\r\n          <div className={styles.metricsGrid}>\r\n            {Object.entries(metrics).map(([key, value]) =>\r\n              renderMetricItem(\r\n                key\r\n                  .replace(/([A-Z])/g, ' $1')\r\n                  .replace(/^./, str => str.toUpperCase()),\r\n                value\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ï∂îÏ≤ú ÏÇ¨Ìï≠ ÌëúÏãú */}\r\n        <div className={styles.recommendationsSection}>\r\n          <h4>Ï∂îÏ≤ú ÏÇ¨Ìï≠</h4>\r\n          {renderRecommendations(recommendations)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Ï¢ÖÌï© Î∂ÑÏÑù Í≤∞Í≥º Î†åÎçîÎßÅ\r\n   */\r\n  const renderOverallInsights = () => {\r\n    if (combinedRecommendations.length === 0) {\r\n      return (\r\n        <div className={styles.noResults}>\r\n          <p>Ï¢ÖÌï© Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§. Î®ºÏ†Ä Îã§ÏñëÌïú Ïú†ÌòïÏùò ÌïôÏäµÏùÑ Ïã§ÌñâÌïòÏÑ∏Ïöî.</p>\r\n          <button\r\n            onClick={() => runLearning()}\r\n            disabled={isLoading}\r\n            className={styles.learningButton}\r\n          >\r\n            Ï†ÑÏ≤¥ ÌïôÏäµ Ïã§ÌñâÌïòÍ∏∞\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={styles.resultSection}>\r\n        <h3>Ï¢ÖÌï© Î∂ÑÏÑù Í≤∞Í≥º</h3>\r\n\r\n        <div className={styles.overallSummary}>\r\n          <div className={styles.summaryStats}>\r\n            <div className={styles.summaryStat}>\r\n              <span className={styles.summaryStatLabel}>Î∂ÑÏÑùÎêú Î™®Îç∏</span>\r\n              <span className={styles.summaryStatValue}>{results.length}</span>\r\n            </div>\r\n            <div className={styles.summaryStat}>\r\n              <span className={styles.summaryStatLabel}>Ï¥ù Ï∂îÏ≤úÏÇ¨Ìï≠</span>\r\n              <span className={styles.summaryStatValue}>{combinedRecommendations.length}</span>\r\n            </div>\r\n            <div className={styles.summaryStat}>\r\n              <span className={styles.summaryStatLabel}>ÎßàÏßÄÎßâ Î∂ÑÏÑù</span>\r\n              <span className={styles.summaryStatValue}>\r\n                {lastAnalysisTime\r\n                  ? new Date(lastAnalysisTime).toLocaleString()\r\n                  : 'ÏóÜÏùå'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.recommendationsSection}>\r\n            <h4>ÌÜµÌï© Ï∂îÏ≤ú ÏÇ¨Ìï≠</h4>\r\n            {renderRecommendations(combinedRecommendations)}\r\n          </div>\r\n\r\n          <div className={styles.actionButtons}>\r\n            <button\r\n              onClick={() => runLearning()}\r\n              disabled={isLoading}\r\n              className={styles.learningButton}\r\n            >\r\n              {isLoading ? 'ÌïôÏäµ Ï§ë...' : 'ÌïôÏäµ Îã§Ïãú Ïã§ÌñâÌïòÍ∏∞'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ÏÑ†ÌÉùÌïú ÌÉ≠Ïóê Îî∞Îùº Í≤∞Í≥º Î†åÎçîÎßÅ\r\n  const renderSelectedTabContent = () => {\r\n    switch (selectedTab) {\r\n      case LearningModelType.MEMORY_OPTIMIZATION:\r\n        return renderMemoryOptimizationResults();\r\n      case LearningModelType.USER_BEHAVIOR:\r\n        return renderUserBehaviorResults();\r\n      case LearningModelType.ERROR_PREDICTION:\r\n        return renderErrorPredictionResults();\r\n      case LearningModelType.PERFORMANCE_OPTIMIZATION:\r\n        return renderOverallInsights();\r\n      default:\r\n        return <div>Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÌÉ≠ÏûÖÎãàÎã§.</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.logAnalysisPanel} ${className}`}>\r\n      <div className={styles.header}>\r\n        <h2>Î°úÍ∑∏ Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú</h2>\r\n        {lastAnalysisTime && (\r\n          <p className={styles.lastAnalysisTime}>\r\n            ÎßàÏßÄÎßâ Î∂ÑÏÑù: {new Date(lastAnalysisTime).toLocaleString()}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* ÌïôÏäµ Ïª®Ìä∏Î°§ Î≤ÑÌäº */}\r\n      <div className={styles.controls}>\r\n        <button\r\n          onClick={() => runLearning()}\r\n          disabled={isLoading}\r\n          className={styles.mainButton}\r\n        >\r\n          {isLoading ? 'ÌïôÏäµ Ï§ë...' : 'Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÌïôÏäµÌïòÍ∏∞'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* ÏóêÎü¨ Î©îÏãúÏßÄ */}\r\n      {error && (\r\n        <div className={styles.errorMessage}>\r\n          <p>Ïò§Î•ò Î∞úÏÉù: {error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* ÌïôÏäµ Ï§ë Î°úÎî© ÌëúÏãú */}\r\n      {isLoading && (\r\n        <div className={styles.loadingIndicator}>\r\n          <div className={styles.spinner}></div>\r\n          <p>Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ ÌïôÏäµ Ï§ë...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */}\r\n      <div className={styles.tabNavigation}>\r\n        <button\r\n          className={`${styles.tabButton} ${selectedTab === LearningModelType.MEMORY_OPTIMIZATION ? styles.activeTab : ''}`}\r\n          onClick={() => setSelectedTab(LearningModelType.MEMORY_OPTIMIZATION)}\r\n        >\r\n          Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî\r\n        </button>\r\n        <button\r\n          className={`${styles.tabButton} ${selectedTab === LearningModelType.USER_BEHAVIOR ? styles.activeTab : ''}`}\r\n          onClick={() => setSelectedTab(LearningModelType.USER_BEHAVIOR)}\r\n        >\r\n          ÏÇ¨Ïö©Ïûê ÌñâÎèô\r\n        </button>\r\n        <button\r\n          className={`${styles.tabButton} ${selectedTab === LearningModelType.ERROR_PREDICTION ? styles.activeTab : ''}`}\r\n          onClick={() => setSelectedTab(LearningModelType.ERROR_PREDICTION)}\r\n        >\r\n          Ïò§Î•ò ÏòàÏ∏°\r\n        </button>\r\n        <button\r\n          className={`${styles.tabButton} ${selectedTab === LearningModelType.PERFORMANCE_OPTIMIZATION ? styles.activeTab : ''}`}\r\n          onClick={() => setSelectedTab(LearningModelType.PERFORMANCE_OPTIMIZATION)}\r\n        >\r\n          Ï¢ÖÌï© Î∂ÑÏÑù\r\n        </button>\r\n      </div>\r\n\r\n      {/* ÏÑ†ÌÉùÌïú ÌÉ≠ ÎÇ¥Ïö© Î†åÎçîÎßÅ */}\r\n      <div className={styles.tabContent}>\r\n        {renderSelectedTabContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport LogAnalysisPanel from '../../components/LogAnalysisPanel';\r\nimport styles from './page.module.css';\r\n\r\n/**\r\n * Î°úÍ∑∏ Î∂ÑÏÑù ÌéòÏù¥ÏßÄ\r\n * Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ ÌïôÏäµ Î∞è Î∂ÑÏÑù Í≤∞Í≥ºÎ•º Î≥¥Ïó¨Ï§çÎãàÎã§.\r\n */\r\nexport default function LogAnalysisPage() {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <header className={styles.header}>\r\n        <h1>Î°úÍ∑∏ Î∂ÑÏÑù Î∞è Ïù∏ÏÇ¨Ïù¥Ìä∏</h1>\r\n        <p>\r\n          Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî, ÏÇ¨Ïö©Ïûê ÌñâÎèô Ìå®ÌÑ¥, Ïò§Î•ò ÏòàÏ∏°Ïóê ÎåÄÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.\r\n        </p>\r\n      </header>\r\n\r\n      <main className={styles.main}>\r\n        <LogAnalysisPanel />\r\n\r\n        <section className={styles.helpSection}>\r\n          <h2>Î∂ÑÏÑù ÎèÑÏõÄÎßê</h2>\r\n          <div className={styles.helpContent}>\r\n            <h3>ÌïôÏäµ Í∏∞Îä• ÏïàÎÇ¥</h3>\r\n            <p>\r\n              Î°úÍ∑∏ ÌïôÏäµÏùÄ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùò Ï†ÄÏû•Îêú Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÏó¨ Ìå®ÌÑ¥ÏùÑ Î∞úÍ≤¨ÌïòÍ≥† ÏµúÏ†ÅÌôî Î∞©ÏïàÏùÑ Ï†úÏãúÌï©ÎãàÎã§.\r\n              Í∞Å Î™®ÎìàÎ≥ÑÎ°ú Îã§ÏùåÍ≥º Í∞ôÏùÄ Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º Ï†úÍ≥µÌï©ÎãàÎã§:\r\n            </p>\r\n\r\n            <ul>\r\n              <li>\r\n                <strong>Î©îÎ™®Î¶¨ ÏµúÏ†ÅÌôî</strong>: Î©îÎ™®Î¶¨ ÏÇ¨Ïö© Ìå®ÌÑ¥ÏùÑ Î∂ÑÏÑùÌïòÏó¨ ÏµúÏ†ÅÏùò GC Í∞ÑÍ≤©, Î©îÎ™®Î¶¨ ÎàÑÏàò Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÎäî ÏÑ∏ÏÖò,\r\n                Í∑∏Î¶¨Í≥† Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ ÎßéÏùÄ ÏãúÍ∞ÑÎåÄÎ•º ÏãùÎ≥ÑÌï©ÎãàÎã§.\r\n              </li>\r\n              <li>\r\n                <strong>ÏÇ¨Ïö©Ïûê ÌñâÎèô</strong>: ÏÇ¨Ïö©ÏûêÏùò ÏûÖÎ†• Ìå®ÌÑ¥, ÏûêÏ£º ÏÇ¨Ïö©ÌïòÎäî Îã®Ïñ¥, ÌôúÎ∞úÌïú ÌôúÎèô ÏãúÍ∞ÑÎåÄ Îì±ÏùÑ Î∂ÑÏÑùÌïòÏó¨\r\n                ÏÇ¨Ïö©Ïûê Í≤ΩÌóò ÏµúÏ†ÅÌôî Î∞©ÏïàÏùÑ Ï†úÏïàÌï©ÎãàÎã§.\r\n              </li>\r\n              <li>\r\n                <strong>Ïò§Î•ò ÏòàÏ∏°</strong>: Î∞úÏÉùÌïú Ïò§Î•òÏùò Ïú†ÌòïÍ≥º Ìå®ÌÑ¥ÏùÑ Î∂ÑÏÑùÌïòÏó¨ ÏûêÏ£º Î∞úÏÉùÌïòÎäî Ïò§Î•òÏóê ÎåÄÌïú ÎåÄÏùë Ï†ÑÎûµÏùÑ\r\n                Ï†úÏãúÌï©ÎãàÎã§.\r\n              </li>\r\n              <li>\r\n                <strong>Ï¢ÖÌï© Î∂ÑÏÑù</strong>: Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Ï¢ÖÌï©ÌïòÏó¨ ÏãúÏä§ÌÖú Ï†ÑÎ∞òÏùò ÏµúÏ†ÅÌôî Í∂åÏû•ÏÇ¨Ìï≠ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\r\n              </li>\r\n            </ul>\r\n\r\n            <h3>ÌïôÏäµ Ïãú Ï∞∏Í≥†ÏÇ¨Ìï≠</h3>\r\n            <p>\r\n              <strong>Îç∞Ïù¥ÌÑ∞ Ïñë</strong>: Î≥¥Îã§ Ï†ïÌôïÌïú Î∂ÑÏÑù Í≤∞Í≥ºÎ•º ÏúÑÌï¥ Ï∂©Î∂ÑÌïú ÏñëÏùò Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§. ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÏµúÏÜå Î™á Ïùº Ïù¥ÏÉÅÏùò\r\n              ÏÇ¨Ïö© Îç∞Ïù¥ÌÑ∞Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.\r\n            </p>\r\n            <p>\r\n              <strong>ÌïôÏäµ Ï£ºÍ∏∞</strong>: ÏãúÏä§ÌÖú Î≥ÄÌôîÎÇò ÏÉàÎ°úÏö¥ Ìå®ÌÑ¥ÏùÑ Î∞òÏòÅÌïòÍ∏∞ ÏúÑÌï¥ Ï†ïÍ∏∞Ï†ÅÏúºÎ°ú ÌïôÏäµÏùÑ Ïã§ÌñâÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.\r\n            </p>\r\n            <p>\r\n              <strong>Î¶¨ÏÜåÏä§ ÏÇ¨Ïö©</strong>: ÌïôÏäµ Í≥ºÏ†ïÏùÄ ÏÑúÎ≤Ñ Î¶¨ÏÜåÏä§Î•º ÏùºÏãúÏ†ÅÏúºÎ°ú ÎßéÏù¥ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏúºÎØÄÎ°ú, ÏÇ¨Ïö©ÎüâÏù¥ Ï†ÅÏùÄ ÏãúÍ∞ÑÎåÄÏóê Ïã§ÌñâÌïòÎäî Í≤ÉÏùÑ Í∂åÏû•Ìï©ÎãàÎã§.\r\n            </p>\r\n          </div>\r\n\r\n          <div className={styles.actions}>\r\n            <button\r\n              onClick={() => router.push('/dashboard')}\r\n              className={styles.secondaryButton}\r\n            >\r\n              ÎåÄÏãúÎ≥¥ÎìúÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞\r\n            </button>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logAnalysisPanel\":\"LogAnalysisPanel_logAnalysisPanel__oyS8m\",\"header\":\"LogAnalysisPanel_header__ntVim\",\"lastAnalysisTime\":\"LogAnalysisPanel_lastAnalysisTime__fsF3j\",\"controls\":\"LogAnalysisPanel_controls__uA_Zd\",\"mainButton\":\"LogAnalysisPanel_mainButton__p9rNy\",\"learningButton\":\"LogAnalysisPanel_learningButton__91G6_\",\"errorMessage\":\"LogAnalysisPanel_errorMessage__XQM51\",\"loadingIndicator\":\"LogAnalysisPanel_loadingIndicator___8OQc\",\"spinner\":\"LogAnalysisPanel_spinner__2cxhW\",\"spin\":\"LogAnalysisPanel_spin__HYfFK\",\"tabNavigation\":\"LogAnalysisPanel_tabNavigation__pveWH\",\"tabButton\":\"LogAnalysisPanel_tabButton__ZFnuT\",\"activeTab\":\"LogAnalysisPanel_activeTab__wJN0E\",\"resultSection\":\"LogAnalysisPanel_resultSection__Cy9Qz\",\"noResults\":\"LogAnalysisPanel_noResults__8IaJP\",\"insightsSection\":\"LogAnalysisPanel_insightsSection__RzhLb\",\"metricsSection\":\"LogAnalysisPanel_metricsSection__PDTFd\",\"recommendationsSection\":\"LogAnalysisPanel_recommendationsSection__W53ft\",\"insightItem\":\"LogAnalysisPanel_insightItem__z_dHX\",\"peakHoursChart\":\"LogAnalysisPanel_peakHoursChart__7yAvM\",\"activeHoursChart\":\"LogAnalysisPanel_activeHoursChart__6NKUe\",\"errorHoursChart\":\"LogAnalysisPanel_errorHoursChart__PXG0_\",\"peakHourBar\":\"LogAnalysisPanel_peakHourBar__Ao4lA\",\"activeHourBar\":\"LogAnalysisPanel_activeHourBar__Uwapg\",\"errorHourBar\":\"LogAnalysisPanel_errorHourBar__lml6X\",\"peakHourLabel\":\"LogAnalysisPanel_peakHourLabel__yXmte\",\"activeHourLabel\":\"LogAnalysisPanel_activeHourLabel__Vm7ZA\",\"errorHourLabel\":\"LogAnalysisPanel_errorHourLabel__YHKIA\",\"peakHourValue\":\"LogAnalysisPanel_peakHourValue__873hu\",\"activeHourValue\":\"LogAnalysisPanel_activeHourValue__K6F3f\",\"errorHourValue\":\"LogAnalysisPanel_errorHourValue__WfPSg\",\"metricsGrid\":\"LogAnalysisPanel_metricsGrid__ItMfT\",\"metricItem\":\"LogAnalysisPanel_metricItem__aFhJB\",\"metricLabel\":\"LogAnalysisPanel_metricLabel__7En0A\",\"metricValue\":\"LogAnalysisPanel_metricValue__hwk1l\",\"recommendationList\":\"LogAnalysisPanel_recommendationList__3i7br\",\"recommendationItem\":\"LogAnalysisPanel_recommendationItem__i_n1b\",\"wordCloud\":\"LogAnalysisPanel_wordCloud__dpTf_\",\"wordItem\":\"LogAnalysisPanel_wordItem__I7IQy\",\"errorsList\":\"LogAnalysisPanel_errorsList__z4AlY\",\"errorItem\":\"LogAnalysisPanel_errorItem__pXK0v\",\"errorType\":\"LogAnalysisPanel_errorType__X9Q21\",\"errorCount\":\"LogAnalysisPanel_errorCount__tJ7HM\",\"errorBar\":\"LogAnalysisPanel_errorBar__IQe6W\",\"errorExample\":\"LogAnalysisPanel_errorExample__e0ghi\",\"errorExampleLabel\":\"LogAnalysisPanel_errorExampleLabel__bH9TT\",\"errorExampleContent\":\"LogAnalysisPanel_errorExampleContent__90lxt\",\"sessionsList\":\"LogAnalysisPanel_sessionsList__49n41\",\"sessionIncrease\":\"LogAnalysisPanel_sessionIncrease__E4TUk\",\"overallSummary\":\"LogAnalysisPanel_overallSummary__IczVW\",\"summaryStats\":\"LogAnalysisPanel_summaryStats__dPN8j\",\"summaryStat\":\"LogAnalysisPanel_summaryStat__3W5FW\",\"summaryStatLabel\":\"LogAnalysisPanel_summaryStatLabel__6P0lq\",\"summaryStatValue\":\"LogAnalysisPanel_summaryStatValue__BG_t2\",\"actionButtons\":\"LogAnalysisPanel_actionButtons__YM7Ce\"};","import(/* webpackMode: \"eager\" */ \"/Users/user/loop/loop_3/src/app/pages/analysis/page.tsx\");\n"],"names":["OPTIMIZATION_LEVEL","MEDIUM","DEFAULT_OPTIONS","minLevel","maxLogs","printToConsole","moduleName","MemoryLogger","level","message","data","options","entry","timestamp","Date","now","logs","push","length","shift","toISOString","prefix","console","debug","info","warn","error","log","getLogs","getLogsByLevel","filter","getErrorLogs","constructor","memoryLogger","bind","INDEXEDDB_STORE","saveLogToIndexedDB","logEntry","Promise","resolve","reject","window","indexedDB","request","open","onupgradeneeded","event","db","target","result","objectStoreNames","contains","createObjectStore","keyPath","onerror","onsuccess","transaction","addRequest","objectStore","add","oncomplete","close","LearningModelType","LogAnalysisPanel","className","isLoading","setIsLoading","useState","setError","results","setResults","selectedTab","setSelectedTab","MEMORY_OPTIMIZATION","lastAnalysisTime","setLastAnalysisTime","combinedRecommendations","setCombinedRecommendations","setLearningStatus","isLearning","lastLearningTime","availableModels","Object","values","useRef","checkLearningStatus","useCallback","response","fetch","ok","status","statusText","json","success","useEffect","runLearning","models","modelsToLearn","method","headers","body","JSON","stringify","modelTypes","memory","timeRange","startTime","endTime","user","getResultForModel","find","modelType","renderRecommendations","ul","styles","recommendations","map","rec","index","li","renderMetricItem","label","value","formattedValue","toLowerCase","includes","formatBytes","decimals","bytes","i","Math","floor","k","parseFloat","pow","toFixed","Number","isInteger","div","span","renderMemoryOptimizationResults","p","button","onClick","disabled","insights","metrics","h3","h4","insight","type","h5","hour","style","height","percentage","session","date","formatTime","milliseconds","minutes","seconds","duration","KeyboardIcon","keyCount","entries","key","replace","str","toUpperCase","renderUserBehaviorResults","USER_BEHAVIOR","slice","word","count","renderErrorPredictionResults","ERROR_PREDICTION","width","min","examples","max","backgroundColor","renderOverallInsights","toLocaleString","h2","PERFORMANCE_OPTIMIZATION","LogAnalysisPage","router","useRouter","header","h1","main","section","strong"],"sourceRoot":"","ignoreList":[]}