(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9040:e=>{e.exports={container:"MemoryMonitor_container__Jlysz",darkMode:"MemoryMonitor_darkMode__pvpPp",title:"MemoryMonitor_title__zHk4R",chartContainer:"MemoryMonitor_chartContainer__qtleo",statsContainer:"MemoryMonitor_statsContainer__PXru0",safe:"MemoryMonitor_safe__qyeNq",warning:"MemoryMonitor_warning__wxCZ1",danger:"MemoryMonitor_danger__rVeHJ",stat:"MemoryMonitor_stat__boKrL",statLabel:"MemoryMonitor_statLabel__jkNx_",statValue:"MemoryMonitor_statValue__VmgYe",controls:"MemoryMonitor_controls__U0dwN",refreshButton:"MemoryMonitor_refreshButton__vCWQ4",gcButton:"MemoryMonitor_gcButton__N9Q5Y",loading:"MemoryMonitor_loading__l_GMJ",statusIndicator:"MemoryMonitor_statusIndicator__JCGD3"}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12846:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(65239),n=t(48088),r=t(88170),i=t.n(r),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,80559)),"C:\\Users\\user\\Desktop\\loop\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\user\\Desktop\\loop\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\user\\Desktop\\loop\\src\\app\\dashboard\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37122:e=>{e.exports={container:"page_container__WJamO",header:"page_header__hMSOF",title:"page_title__st_eQ",subtitle:"page_subtitle__26Ix7",newSessionButton:"page_newSessionButton__qFt1M",grid:"page_grid__P1RQ3",statsSection:"page_statsSection__CFt2V",monitoringSection:"page_monitoringSection__Don15",sectionTitle:"page_sectionTitle__8MSOY",loading:"page_loading__eqTbn",gpuInfo:"page_gpuInfo__KtDvF",infoTitle:"page_infoTitle__CHzRR",infoGrid:"page_infoGrid__Ljw4j",infoItem:"page_infoItem__35p8H",infoLabel:"page_infoLabel__TeEGa",infoValue:"page_infoValue__u52jL",memoryControls:"page_memoryControls__nh_gQ",controlsTitle:"page_controlsTitle__1U2wH",controlsGrid:"page_controlsGrid__g2Klq",memoryStatus:"page_memoryStatus__H8BAF",statusLabel:"page_statusLabel__dkPdA",statusValue:"page_statusValue__epal5",memoryActions:"page_memoryActions___uz8I",optimizeButton:"page_optimizeButton__8pcyV",emergencyButton:"page_emergencyButton__HITmk"}},49272:(e,s,t)=>{Promise.resolve().then(t.bind(t,80559))},59e3:(e,s,t)=>{Promise.resolve().then(t.bind(t,89283))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76477:e=>{e.exports={statsContainer:"TypingStats_statsContainer__ER9Ok",statsGrid:"TypingStats_statsGrid__cgenG",statCard:"TypingStats_statCard__Vz_Pu",statValue:"TypingStats_statValue__fglm_",container:"TypingStats_container__l6ant",summary:"TypingStats_summary__yGlcZ",statItem:"TypingStats_statItem__aEzNk",statLabel:"TypingStats_statLabel__VyOHV",lastSession:"TypingStats_lastSession__c_vmU",sectionTitle:"TypingStats_sectionTitle__jq0Di",sessionInfo:"TypingStats_sessionInfo__i7ic2",sessionDate:"TypingStats_sessionDate__X7mIO",sessionStats:"TypingStats_sessionStats__p3IBn",sessionStat:"TypingStats_sessionStat__PecL6",sessionStatLabel:"TypingStats_sessionStatLabel__yYxm5",sessionStatValue:"TypingStats_sessionStatValue__Wj4xT",recentStats:"TypingStats_recentStats__11G4N",tableContainer:"TypingStats_tableContainer__S7gNF",statsTable:"TypingStats_statsTable__wNoxu",noData:"TypingStats_noData__Hp_J_"}},79551:e=>{"use strict";e.exports=require("url")},80559:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Desktop\\\\loop\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Desktop\\loop\\src\\app\\dashboard\\page.tsx","default")},81539:(e,s,t)=>{"use strict";t.d(s,{Bb:()=>i,Os:()=>n,du:()=>r,pT:()=>o,xz:()=>l});async function a(e,s={}){try{return await fetch(e,{...s,headers:{"Content-Type":"application/json",...s.headers}})}catch(s){throw console.error(`Fetch 요청 실패 (${e}):`,s),s}}async function n(){return{success:!1,error:"Server environment",timestamp:Date.now()}}async function r(e=2,s=!1){try{let t=await a("/api/native/memory",{method:"PUT",body:JSON.stringify({type:"optimize",level:e.toString(),emergency:s})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(e){return console.error("메모리 최적화 실패:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function i(){try{let e=await a("/api/native/gpu");if(!e.ok)throw Error(`GPU 정보 요청 실패: ${e.status}`);return await e.json()}catch(e){return console.error("GPU 정보 가져오기 오류:",e),{success:!1,available:!1,gpuInfo:null,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function o(e){try{let s=JSON.stringify({enable:e}),t=await a("/api/native/gpu/acceleration",{method:"PUT",body:s});if(!t.ok)throw Error(`GPU 가속 설정 요청 실패: ${t.status}`);return await t.json()}catch(e){return console.error("GPU 가속 설정 오류:",e),{success:!1,enabled:!1,result:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function l(e,s){try{let t=JSON.stringify({data:e,computationType:s}),n=await a("/api/native/gpu",{method:"POST",body:t});if(!n.ok)throw Error(`GPU 계산 요청 실패: ${n.status}`);return await n.json()}catch(e){return console.error("GPU 계산 오류:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}},89283:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(60687),n=t(43210),r=t(16189),i=t(36234),o=t(29947),l=t(62321),c=t(75817),d=t(9040),u=t.n(d);i.t1.register(i.PP,i.kc,i.FN,i.No,i.hE,i.m_,i.s$);let m=e=>{let s=new Date(e);return`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}:${s.getSeconds().toString().padStart(2,"0")}`},p={responsive:!0,maintainAspectRatio:!1,animation:{duration:500},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Memory (MB)"}},x:{title:{display:!0,text:"Time"}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:e=>{let s=e.dataset.label||"",t=e.parsed.y||0;return`${s}: ${t.toFixed(2)} MB`}}}}};function h({pollInterval:e=5e3,historyLength:s=20,showControls:t=!0,height:r=300,detailed:i=!0,darkMode:d=!1}){let[h,_]=(0,n.useState)({labels:[],used:[],total:[],percent:[],rss:[]}),[x,g]=(0,n.useState)(null),[j,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[N,S]=(0,n.useState)("safe");(0,n.useRef)(null);let v=e=>e>85?"danger":e>70?"warning":"safe",M=async()=>{try{y(!0);let e=await (0,l.Os)();if(e){let t=e.timestamp||Date.now(),a=m(t);g({heapUsed:e.heap_used_mb||e.heapUsedMB||0,heapTotal:(e.heap_total||0)/1048576,percentUsed:e.percent_used||e.percentUsed||0,rss:e.rss_mb||e.rssMB,timestamp:t}),S(v(e.percent_used||e.percentUsed||0)),_(t=>{let n=[...t.labels,a],r=[...t.used,e.heap_used_mb||e.heapUsedMB||0],i=[...t.total,(e.heap_total||0)/1048576],o=[...t.percent,e.percent_used||e.percentUsed||0],l=[...t.rss||[],e.rss_mb||e.rssMB||0];return n.length>s&&(n.shift(),r.shift(),i.shift(),o.shift(),l.length>s&&l.shift()),{labels:n,used:r,total:i,percent:o,rss:l}})}}catch(e){console.error("메모리 정보 가져오기 오류:",e)}finally{y(!1)}},T=async()=>{try{b(!0);let e=await (0,c.qs)();if(e&&e.success){let s=e.freedMB||0;console.log(`가비지 컬렉션 완료: ${s.toFixed(2)}MB 해제됨`)}await M()}catch(e){console.error("가비지 컬렉션 오류:",e)}finally{b(!1)}},w={labels:h.labels,datasets:[{label:"Heap Used (MB)",data:h.used,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},...i?[{label:"RSS (MB)",data:h.rss,borderColor:"rgb(153, 102, 255)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4}]:[]]};return(0,a.jsxs)("div",{className:`${u().container} ${d?u().darkMode:""}`,children:[(0,a.jsx)("h3",{className:u().title,children:"메모리 모니터링"}),(0,a.jsx)("div",{className:`${u().statsContainer} ${u()[N]}`,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:u().stat,children:[(0,a.jsx)("span",{className:u().statLabel,children:"사용됨:"}),(0,a.jsxs)("span",{className:u().statValue,children:[x.heapUsed.toFixed(2)," MB"]})]}),i&&(0,a.jsxs)("div",{className:u().stat,children:[(0,a.jsx)("span",{className:u().statLabel,children:"전체:"}),(0,a.jsxs)("span",{className:u().statValue,children:[x.heapTotal.toFixed(2)," MB"]})]}),(0,a.jsxs)("div",{className:u().stat,children:[(0,a.jsx)("span",{className:u().statLabel,children:"사용률:"}),(0,a.jsxs)("span",{className:u().statValue,children:[x.percentUsed.toFixed(1),"%"]})]}),i&&x.rss&&(0,a.jsxs)("div",{className:u().stat,children:[(0,a.jsx)("span",{className:u().statLabel,children:"RSS:"}),(0,a.jsxs)("span",{className:u().statValue,children:[x.rss.toFixed(2)," MB"]})]})]}):(0,a.jsx)("div",{className:u().loading,children:"데이터 로드 중..."})}),(0,a.jsx)("div",{className:u().chartContainer,style:{height:`${r}px`},children:(0,a.jsx)(o.N1,{data:w,options:p})}),t&&(0,a.jsxs)("div",{className:u().controls,children:[(0,a.jsx)("button",{className:u().refreshButton,onClick:M,disabled:j,children:j?"갱신 중...":"수동 갱신"}),(0,a.jsx)("button",{className:u().gcButton,onClick:T,disabled:f,children:f?"GC 실행 중...":"가비지 컬렉션 실행"})]}),(0,a.jsx)("div",{className:`${u().statusIndicator} ${u()[N]}`,children:(0,a.jsxs)("div",{className:u().statusLabel,children:["safe"===N&&"정상","warning"===N&&"주의","danger"===N&&"위험"]})})]})}var _=t(76477),x=t.n(_);function g({data:e}){if(!e)return(0,a.jsxs)("div",{className:x().noData,children:[(0,a.jsx)("p",{children:"통계 데이터가 없습니다."}),(0,a.jsx)("p",{children:"새 타이핑 세션을 시작하여 통계를 수집하세요."})]});let s=e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60),a=Math.floor(e%60);return`${s>0?`${s}시간 `:""}${t}분 ${a}초`},t=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:x().container,children:[(0,a.jsxs)("div",{className:x().summary,children:[(0,a.jsxs)("div",{className:x().statItem,children:[(0,a.jsx)("div",{className:x().statValue,children:e.totalKeyCount?.toLocaleString()||0}),(0,a.jsx)("div",{className:x().statLabel,children:"총 키 입력 수"})]}),(0,a.jsxs)("div",{className:x().statItem,children:[(0,a.jsx)("div",{className:x().statValue,children:s(e.totalTypingTime||0)}),(0,a.jsx)("div",{className:x().statLabel,children:"총 타이핑 시간"})]}),(0,a.jsxs)("div",{className:x().statItem,children:[(0,a.jsx)("div",{className:x().statValue,children:e.averageSpeed||0}),(0,a.jsx)("div",{className:x().statLabel,children:"평균 KPM"})]}),(0,a.jsxs)("div",{className:x().statItem,children:[(0,a.jsx)("div",{className:x().statValue,children:e.averageAccuracy?`${e.averageAccuracy.toFixed(2)}%`:"N/A"}),(0,a.jsx)("div",{className:x().statLabel,children:"평균 정확도"})]})]}),e.lastSession&&(0,a.jsxs)("div",{className:x().lastSession,children:[(0,a.jsx)("h3",{className:x().sectionTitle,children:"최근 세션"}),(0,a.jsxs)("div",{className:x().sessionInfo,children:[(0,a.jsx)("div",{className:x().sessionDate,children:t(e.lastSession.timestamp)}),(0,a.jsxs)("div",{className:x().sessionStats,children:[(0,a.jsxs)("div",{className:x().sessionStat,children:[(0,a.jsx)("span",{className:x().sessionStatLabel,children:"키 입력 수:"}),(0,a.jsx)("span",{className:x().sessionStatValue,children:e.lastSession.keyCount.toLocaleString()})]}),(0,a.jsxs)("div",{className:x().sessionStat,children:[(0,a.jsx)("span",{className:x().sessionStatLabel,children:"타이핑 시간:"}),(0,a.jsx)("span",{className:x().sessionStatValue,children:s(e.lastSession.typingTime)})]}),(0,a.jsxs)("div",{className:x().sessionStat,children:[(0,a.jsx)("span",{className:x().sessionStatLabel,children:"타자 속도:"}),(0,a.jsxs)("span",{className:x().sessionStatValue,children:[Math.round(e.lastSession.keyCount/e.lastSession.typingTime*60)," KPM"]})]}),void 0!==e.lastSession.accuracy&&(0,a.jsxs)("div",{className:x().sessionStat,children:[(0,a.jsx)("span",{className:x().sessionStatLabel,children:"정확도:"}),(0,a.jsxs)("span",{className:x().sessionStatValue,children:[e.lastSession.accuracy.toFixed(2),"%"]})]})]})]})]}),e.recentStats&&e.recentStats.length>0&&(0,a.jsxs)("div",{className:x().recentStats,children:[(0,a.jsx)("h3",{className:x().sectionTitle,children:"최근 기록"}),(0,a.jsx)("div",{className:x().tableContainer,children:(0,a.jsxs)("table",{className:x().statsTable,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"날짜"}),(0,a.jsx)("th",{children:"키 입력 수"}),(0,a.jsx)("th",{children:"타이핑 시간"}),(0,a.jsx)("th",{children:"KPM"})]})}),(0,a.jsx)("tbody",{children:e.recentStats.map((e,n)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t(e.date)}),(0,a.jsx)("td",{children:e.keyCount.toLocaleString()}),(0,a.jsx)("td",{children:s(e.typingTime)}),(0,a.jsx)("td",{children:Math.round(e.keyCount/e.typingTime*60)})]},n))})]})})]})]})}var j=t(81539);let y={capabilities:null,lastCheck:0};var f=t(37122),b=t.n(f);function N(){let e=(0,r.useRouter)(),[s,t]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),{isOptimizing:d,optimizeMemory:u}=function(e={}){let{enabled:s=!0,threshold:t=80,interval:a=6e4,showNotifications:r=!0}=e,{showToast:i}=function(){let[e,s]=(0,n.useState)([]),t=(0,n.useCallback)((e,t={})=>{let a=Date.now(),n=t.type||"info",r=t.duration||3e3;return s(s=>[...s,{id:a,message:e,type:n}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==a))},r),a},[]);return{toasts:e,showToast:t,hideToast:(0,n.useCallback)(e=>{s(s=>s.filter(s=>s.id!==e))},[]),clearAllToasts:(0,n.useCallback)(()=>{s([])},[])}}(),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null);(0,n.useRef)(null);let u=(0,n.useCallback)(async()=>{if(s&&!o)try{l(!0);let e=await (0,j.Os)();if(!e.success)throw Error(e.error||"Failed to get memory info");let s=e.memoryInfo;if(s&&s.percentUsed>t){let e=s.percentUsed>90?3:s.percentUsed>80?2:1,t=await (0,j.du)(e);if(t?.success&&t?.result&&(d(t.result),r)){let e=t.result?.freed_mb||0;i(`Memory Optimized: Freed ${e.toFixed(2)} MB of memory`)}}}catch(e){r&&i(`Memory Optimization Failed: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},[s,o,t,r,i]);return{isOptimizing:o,lastOptimization:c,optimizeMemory:u}}({enabled:!0,threshold:80,interval:6e4,showNotifications:!0});return(0,a.jsxs)("div",{className:b().container,children:[(0,a.jsxs)("section",{className:b().header,children:[(0,a.jsx)("h1",{className:b().title,children:"대시보드"}),(0,a.jsx)("p",{className:b().subtitle,children:"타이핑 통계 및 시스템 모니터링"}),(0,a.jsx)("button",{className:b().newSessionButton,onClick:()=>{e.push("/session/new")},children:"새 세션 시작"})]}),(0,a.jsxs)("div",{className:b().grid,children:[(0,a.jsxs)("section",{className:b().statsSection,children:[(0,a.jsx)("h2",{className:b().sectionTitle,children:"타이핑 통계"}),s?(0,a.jsx)("div",{className:b().loading,children:"데이터 로딩 중..."}):(0,a.jsx)(g,{data:i})]}),(0,a.jsxs)("section",{className:b().monitoringSection,children:[(0,a.jsx)("h2",{className:b().sectionTitle,children:"시스템 모니터링"}),(0,a.jsx)(h,{pollInterval:1e4,historyLength:15,showControls:!0,height:250,detailed:!0}),l&&(0,a.jsxs)("div",{className:b().gpuInfo,children:[(0,a.jsx)("h3",{className:b().infoTitle,children:"GPU 정보"}),(0,a.jsxs)("div",{className:b().infoGrid,children:[(0,a.jsxs)("div",{className:b().infoItem,children:[(0,a.jsx)("span",{className:b().infoLabel,children:"벤더:"}),(0,a.jsx)("span",{className:b().infoValue,children:l.vendor})]}),(0,a.jsxs)("div",{className:b().infoItem,children:[(0,a.jsx)("span",{className:b().infoLabel,children:"렌더러:"}),(0,a.jsx)("span",{className:b().infoValue,children:l.renderer})]}),(0,a.jsxs)("div",{className:b().infoItem,children:[(0,a.jsx)("span",{className:b().infoLabel,children:"하드웨어 가속:"}),(0,a.jsx)("span",{className:b().infoValue,children:l.hardwareAccelerated?"사용 가능":"사용 불가"})]}),(0,a.jsxs)("div",{className:b().infoItem,children:[(0,a.jsx)("span",{className:b().infoLabel,children:"성능 수준:"}),(0,a.jsxs)("span",{className:b().infoValue,children:["티어 ",l.gpuTier," (",0===l.gpuTier?"소프트웨어 렌더링":1===l.gpuTier?"저사양":2===l.gpuTier?"중간 사양":"고사양",")"]})]})]})]})]})]}),(0,a.jsxs)("section",{className:b().memoryControls,children:[(0,a.jsx)("h3",{className:b().controlsTitle,children:"메모리 관리"}),(0,a.jsxs)("div",{className:b().controlsGrid,children:[(0,a.jsxs)("div",{className:b().memoryStatus,children:[(0,a.jsx)("span",{className:b().statusLabel,children:"현재 상태:"}),(0,a.jsx)("span",{className:b().statusValue,children:d?"최적화 중...":"준비됨"})]}),(0,a.jsxs)("div",{className:b().memoryActions,children:[(0,a.jsx)("button",{className:b().optimizeButton,onClick:()=>u(),disabled:d,children:"메모리 최적화"}),(0,a.jsx)("button",{className:b().emergencyButton,onClick:function(){u()},disabled:d,children:"긴급 최적화"})]})]})]})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,825,658,947,630],()=>t(12846));module.exports=a})();