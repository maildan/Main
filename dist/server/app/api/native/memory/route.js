(()=>{var e={};e.id=283,e.ids=[283],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15165:(e,t,r)=>{var o=r(79096),n=r(49076),a=r(55831),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):a(e)}},27173:e=>{e.exports="object"==typeof global&&global&&global.Object===Object&&global},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},40957:(e,t,r)=>{var o=r(49937),n=r(85606),a=r(67573),s=0/0,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return s;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var r=c.test(e);return r||u.test(e)?p(e.slice(2),r?2:8):i.test(e)?s:+e}},44253:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49076:(e,t,r)=>{var o=r(79096),n=Object.prototype,a=n.hasOwnProperty,s=n.toString,i=o?o.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var o=!0}catch(e){}var n=s.call(e);return o&&(t?e[i]=r:delete e[i]),n}},49937:(e,t,r)=>{var o=r(62951),n=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(n,""):e}},50238:(e,t,r)=>{var o=r(85606),n=r(65353),a=r(40957),s=Math.max,i=Math.min;e.exports=function(e,t,r){var c,u,p,l,f,m,d=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var r=c,o=u;return c=u=void 0,d=t,l=e.apply(o,r)}function x(e){var r=e-m,o=e-d;return void 0===m||r>=t||r<0||y&&o>=p}function w(){var e,r,o,a=n();if(x(a))return b(a);f=setTimeout(w,(e=a-m,r=a-d,o=t-e,y?i(o,p-r):o))}function b(e){return(f=void 0,g&&c)?h(e):(c=u=void 0,l)}function j(){var e,r=n(),o=x(r);if(c=arguments,u=this,m=r,o){if(void 0===f)return d=e=m,f=setTimeout(w,t),v?h(e):l;if(y)return clearTimeout(f),f=setTimeout(w,t),h(m)}return void 0===f&&(f=setTimeout(w,t)),l}return t=a(t)||0,o(r)&&(v=!!r.leading,p=(y="maxWait"in r)?s(a(r.maxWait)||0,t):p,g="trailing"in r?!!r.trailing:g),j.cancel=function(){void 0!==f&&clearTimeout(f),d=0,c=m=u=f=void 0},j.flush=function(){return void 0===f?l:b(n())},j}},55511:e=>{"use strict";e.exports=require("crypto")},55831:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},62951:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65353:(e,t,r)=>{var o=r(67828);e.exports=function(){return o.Date.now()}},67573:(e,t,r)=>{var o=r(15165),n=r(44253);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==o(e)}},67828:(e,t,r)=>{var o=r(27173),n="object"==typeof self&&self&&self.Object===Object&&self;e.exports=o||n||Function("return this")()},79096:(e,t,r)=>{e.exports=r(67828).Symbol},83158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>F,routeModule:()=>E,serverHooks:()=>T,workAsyncStorage:()=>z,workUnitAsyncStorage:()=>O});var o={};r.r(o),r.d(o,{GET:()=>S,POST:()=>U});var n=r(96559),a=r(48088),s=r(37719),i=r(32190),c=r(82997),u=r(79687);function p(e=!1){return 0}async function l(){return 0}function f(e=!1){let t;return t=0,e&&(t+=0,l().catch(e=>console.warn("서비스 워커 캐시 정리 실패:",e))),t}var m=r(50238),d=r.n(m);let v=new Map;var y=r(73342);async function g(e,t){switch(y.vF.info(`[Optimization Utils] Running optimization at level: ${e}, emergency: ${t}`),e){case c.Uy.LOW:await f();break;case c.Uy.MEDIUM:await f(),await p(!1);break;case c.Uy.HIGH:case c.Uy.AGGRESSIVE:case c.Uy.CRITICAL:await f(),await p(!0),await function(){let e=0;for(let t of v.values())e+=t.length;console.log(`Current event handlers registered: ${e}`),e>100&&console.warn("High number of event handlers detected. Consider cleaning up unused listeners.")}(),await 0;break;default:y.vF.warn(`[Optimization Utils] Unknown optimization level: ${e}`)}t&&(y.vF.info("[Optimization Utils] Performing emergency optimizations"),await function(e=!1){try{let e=[],t=0;if("undefined"!=typeof localStorage)try{let r=[];for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t&&t.startsWith("temp_")&&r.push(t)}r.forEach(e=>localStorage.removeItem(e)),r.length>0&&(e.push("localStorage_cleanup"),t+=.5)}catch(e){console.error("로컬 스토리지 정리 오류:",e)}if("undefined"!=typeof sessionStorage)try{let r=[];for(let e=0;e<sessionStorage.length;e++){let t=sessionStorage.key(e);t&&t.startsWith("temp_")&&r.push(t)}r.forEach(e=>sessionStorage.removeItem(e)),r.length>0&&(e.push("sessionStorage_cleanup"),t+=.3)}catch(e){console.error("세션 스토리지 정리 오류:",e)}return{success:!0,freedMB:t,actions:e}}catch(e){return console.error("긴급 복구 오류:",e),{success:!1,freedMB:0,actions:["recovery_failed"]}}}())}var h=r(16674);async function x(e=!1){let t=performance.now(),r=w();try{(0,h.fH)(`[GC] 가비지 컬렉션 제안${e?" (긴급)":""}`),e&&function(){try{Array(1e6).fill(0).map(()=>({}))}catch(e){}}();let o=performance.now(),n=w(),a=Math.max(0,r.jsHeapSize-n.jsHeapSize);return{success:!0,freedMemory:a,freedMB:a/1048576,duration:o-t,timestamp:Date.now()}}catch(e){return(0,h.vV)("[GC] 가비지 컬렉션 오류",e),{success:!1,freedMemory:0,freedMB:0,duration:performance.now()-t,timestamp:Date.now(),error:e instanceof Error?e.message:String(e)}}}function w(){return{jsHeapSize:0,totalJSHeapSize:0,jsHeapSizeLimit:0}}async function b(e=c.Uy.MEDIUM,t=!1){try{y.vF.info(`[Memory Optimizer] Starting memory optimization at level: ${e}, emergency: ${t}`);let r=await u.pX();await g(e,t),await x(t);let o=await u.pX(),n=r&&o&&void 0!==r.heapUsed&&void 0!==o.heapUsed?r.heapUsed-o.heapUsed:0;return y.vF.info(`[Memory Optimizer] Memory optimization completed. Freed: ${n} bytes`),{optimizationLevel:e,timestamp:Date.now(),freedMemory:n,freedMB:n/1048576,success:!0,optimization_level:e,freed_memory:n,freed_mb:n/1048576}}catch(t){return y.vF.error("[Memory Optimizer] Error during memory optimization:",t instanceof Error?{message:t.message,stack:t.stack}:{}),{optimizationLevel:e,timestamp:Date.now(),freedMemory:0,freedMB:0,success:!1,error:t instanceof Error?t.message:String(t),optimization_level:e,freed_memory:0,freed_mb:0}}}function j(e,t=2){if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}let M={LOW:"low",MEDIUM:"medium",HIGH:"high",EXTREME:"extreme"};async function S(){try{let e=await (0,u.pX)();if(!e)return i.NextResponse.json({success:!1,error:"메모리 정보를 가져올 수 없습니다."},{status:404});return i.NextResponse.json({success:!0,data:{...e,heapUsedFormatted:j(e.heapUsed??0),heapTotalFormatted:j(e.heapTotal??0),rssFormatted:j(e.rss??0)}})}catch(e){return console.error("Error fetching memory info:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:String(e)},{status:500})}}async function U(e){try{let{level:t="medium",emergency:r=!1}=await e.json(),o=Object.values(M).includes(t)?t:M.MEDIUM,n=await b(o,r),a=await (0,u.pX)();if(!a)return i.NextResponse.json({success:!0,result:n,error:"최적화 후 메모리 정보를 가져올 수 없습니다."});return i.NextResponse.json({success:!0,result:n,memoryInfo:{...a,heapUsedFormatted:j(a.heapUsed??0),heapTotalFormatted:j(a.heapTotal??0),rssFormatted:j(a.rss??0)}})}catch(e){return console.error("Error optimizing memory:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:String(e)},{status:500})}}let E=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/native/memory/route",pathname:"/api/native/memory",filename:"route",bundlePath:"app/api/native/memory/route"},resolvedPagePath:"C:\\Users\\user\\Desktop\\loop\\src\\app\\api\\native\\memory\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:z,workUnitAsyncStorage:O,serverHooks:T}=E;function F(){return(0,s.patchFetch)({workAsyncStorage:z,workUnitAsyncStorage:O})}},85606:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,580,286],()=>r(83158));module.exports=o})();