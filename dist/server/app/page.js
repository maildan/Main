(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4353:(e,t,s)=>{Promise.resolve().then(s.bind(s,22288))},6823:(e,t,s)=>{Promise.resolve().then(s.bind(s,21204))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17616:e=>{e.exports={monitorContainer:"TypingMonitor_monitorContainer__ER1LM",controlPanel:"TypingMonitor_controlPanel__mnPAg",startButton:"TypingMonitor_startButton__6Kfxe",stopButton:"TypingMonitor_stopButton__KAJ8v",saveButton:"TypingMonitor_saveButton__WglP8",statsPanel:"TypingMonitor_statsPanel__hOEWj",statItem:"TypingMonitor_statItem__uJud3",statLabel:"TypingMonitor_statLabel___96yv",statValue:"TypingMonitor_statValue__Gutae",saveSection:"TypingMonitor_saveSection__KoLn9",descriptionInput:"TypingMonitor_descriptionInput__B_Lx7",helpSection:"TypingMonitor_helpSection__JbpyP",statusIndicator:"TypingMonitor_statusIndicator__kULxH",indicator:"TypingMonitor_indicator__z3RHP",active:"TypingMonitor_active__hioKY",pulse:"TypingMonitor_pulse__PJDcF",googleDocsLink:"TypingMonitor_googleDocsLink__sa_xR",websiteTabs:"TypingMonitor_websiteTabs__RgoMF",websiteTabHeader:"TypingMonitor_websiteTabHeader__V_y3l",websiteTabButton:"TypingMonitor_websiteTabButton__rXPP4",activeWebsiteTab:"TypingMonitor_activeWebsiteTab__niDOn",websiteTabContent:"TypingMonitor_websiteTabContent__RBMcj",websiteLinks:"TypingMonitor_websiteLinks__3vAID",websiteLink:"TypingMonitor_websiteLink__lqd9U",actionFeedback:"TypingMonitor_actionFeedback__VPiGl",fadeIn:"TypingMonitor_fadeIn__BRcC2",browserStatus:"TypingMonitor_browserStatus__b4rGV",browserInfo:"TypingMonitor_browserInfo__w3N_l",browserRow:"TypingMonitor_browserRow__27uT0",browserValue:"TypingMonitor_browserValue__cu5JE",detectedBadge:"TypingMonitor_detectedBadge__iDUgv",notDetectedBadge:"TypingMonitor_notDetectedBadge__EtIo1",browserList:"TypingMonitor_browserList__JrDTA",browserColumn:"TypingMonitor_browserColumn__EOGEk",trackingButton:"TypingMonitor_trackingButton__szR9V",trackingActive:"TypingMonitor_trackingActive__eHDsS",monitorHeader:"TypingMonitor_monitorHeader__yUhAy",container:"TypingMonitor_container__TzhrN",contentWrapper:"TypingMonitor_contentWrapper__PPmCK",leftPanel:"TypingMonitor_leftPanel__FJhBH",rightPanel:"TypingMonitor_rightPanel__DQxqP",statsTabs:"TypingMonitor_statsTabs__BFC0M",statsTabButton:"TypingMonitor_statsTabButton__PM_Rt",activeStatsTab:"TypingMonitor_activeStatsTab__rEAV4",statsTabContent:"TypingMonitor_statsTabContent__RAlml",statsGroup:"TypingMonitor_statsGroup__eqddv",statCard:"TypingMonitor_statCard__qVky4"}},18627:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19587:(e,t)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return s}})},21204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Desktop\\\\loop_2\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Desktop\\loop_2\\src\\app\\page.tsx","default")},22288:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var n=s(60687),a=s(43210);function r({children:e}){let[t,s]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1);return t&&(r?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")),(0,n.jsx)(n.Fragment,{children:e})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31935:(e,t,s)=>{"use strict";s.d(t,{t:()=>c,d:()=>d});var n=s(60687),a=s(43210),r=s(94588),o=s.n(r);function i({message:e,type:t,duration:s=3e3,onClose:r}){let[i,l]=(0,a.useState)(!0);return i?(0,n.jsx)("div",{className:`${o().toast} ${o()[t]}`,children:(0,n.jsx)("span",{className:o().message,children:e})}):null}let l=(0,a.createContext)(void 0);function c({children:e}){let[t,s]=(0,a.useState)(null);return(0,n.jsxs)(l.Provider,{value:{showToast:(e,t)=>{s({message:e,type:t}),setTimeout(()=>{s(null)},3e3)}},children:[e,t&&(0,n.jsx)(i,{message:t.message,type:t.type,onClose:()=>s(null)})]})}let d=()=>{let e=(0,a.useContext)(l);return void 0===e?{showToast:(e,t)=>{console.warn("ToastProvider가 설정되지 않았습니다:",e)}}:e}},33873:e=>{"use strict";e.exports=require("path")},49587:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=s(14985)._(s(64963));function a(e,t){var s;let a={};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,n.default)({...r,modules:null==(s=r.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},56557:e=>{e.exports={overlay:"ConfirmDialog_overlay__XcVfx",dialog:"ConfirmDialog_dialog__CZkp6",fadeIn:"ConfirmDialog_fadeIn____2_q",header:"ConfirmDialog_header__TwDKK",info:"ConfirmDialog_info__c4R3u",warning:"ConfirmDialog_warning__CAxfo",error:"ConfirmDialog_error__1lLKt",success:"ConfirmDialog_success__4OJVN",closeButton:"ConfirmDialog_closeButton__xqxS2",content:"ConfirmDialog_content__DjEqW",message:"ConfirmDialog_message__e3Avu",actions:"ConfirmDialog_actions___hCeq",button:"ConfirmDialog_button__4hdj9",cancelButton:"ConfirmDialog_cancelButton__jtlqe",confirmButton:"ConfirmDialog_confirmButton__qHQyl",warningButton:"ConfirmDialog_warningButton__NGvq4",errorButton:"ConfirmDialog_errorButton__vhkIj",successButton:"ConfirmDialog_successButton__ZgRV9",darkMode:"ConfirmDialog_darkMode__GApyi"}},56780:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=s(81208);function a(e){let{reason:t,children:s}=e;throw Object.defineProperty(new n.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},60534:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});let n=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Desktop\\\\loop_2\\\\src\\\\app\\\\ClientLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Desktop\\loop_2\\src\\app\\ClientLayout.tsx","default")},61135:()=>{},61762:e=>{e.exports={settingsContainer:"Settings_settingsContainer__0SxHP",darkMode:"Settings_darkMode__a5VLX",settingsLayout:"Settings_settingsLayout__AhsXc",settingsTabs:"Settings_settingsTabs__rbo3s",settingsContent:"Settings_settingsContent__WWkgP",tabContent:"Settings_tabContent__tyrL8",tabButton:"Settings_tabButton__LwWsw",activeTab:"Settings_activeTab__IamTX",settingSection:"Settings_settingSection__XwrF7",settingGrid:"Settings_settingGrid__B8uYm",toggleGrid:"Settings_toggleGrid__Tt89I",categoryToggles:"Settings_categoryToggles__HQHhT",toggleItem:"Settings_toggleItem___q_0D",toggleLabel:"Settings_toggleLabel__8fIJv",settingGroup:"Settings_settingGroup___gjRv",settingRow:"Settings_settingRow__WD9zX",radioGroup:"Settings_radioGroup__QGEGo",radioLabel:"Settings_radioLabel__Iog9l",radioText:"Settings_radioText__hi7nW",selectLabel:"Settings_selectLabel__p8LXx",selectControl:"Settings_selectControl__Wv09K",numberInput:"Settings_numberInput__hKIK9",buttonRow:"Settings_buttonRow__7DE_2",saveButton:"Settings_saveButton__hOtLB",disabledNote:"Settings_disabledNote__pj8Vq",settingDescription:"Settings_settingDescription__uTSPW",settingSectionTitle:"Settings_settingSectionTitle__7AAKi",highlightedSetting:"Settings_highlightedSetting__nv197",restartNotice:"Settings_restartNotice__7IuFo",restartButton:"Settings_restartButton__W35gK",buttonGroup:"Settings_buttonGroup__INZRh",debugButton:"Settings_debugButton__fDkOc",debugInfo:"Settings_debugInfo__oW81q",infoIcon:"Settings_infoIcon__ZdJw4",tooltip:"Settings_tooltip__ByqrZ",show:"Settings_show__A77K4",tooltipArrow:"Settings_tooltipArrow__nXaFe",settingItem:"Settings_settingItem__rllCH",settingLabel:"Settings_settingLabel__7bLGD",settingControl:"Settings_settingControl__8o6yL",rangeSlider:"Settings_rangeSlider__P5Kf6",rangeLabel:"Settings_rangeLabel__v4Egm",rangeItem:"Settings_rangeItem__ZYQkW",disabledMessage:"Settings_disabledMessage__88H9y",analysisStats:"Settings_analysisStats__dujwc",statsDescription:"Settings_statsDescription__hjLpw",statItems:"Settings_statItems__633pW",statItem:"Settings_statItem__u5qPd",statLabel:"Settings_statLabel__2ivZ5",statValue:"Settings_statValue___GGL0",compactUI:"Settings_compactUI__uuPPM"}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64777:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let n=s(60687),a=s(51215),r=s(29294),o=s(19587);function i(e){let{moduleIds:t}=e,s=r.workAsyncStorage.getStore();if(void 0===s)return null;let i=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files;i.push(...t)}}return 0===i.length?null:(0,n.jsx)(n.Fragment,{children:i.map(e=>{let t=s.assetPrefix+"/_next/"+(0,o.encodeURIPath)(e);return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=s(60687),a=s(43210),r=s(56780),o=s(64777);function i(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},s=(0,a.lazy)(()=>t.loader().then(i)),c=t.loading;function d(e){let i=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?a.Suspense:a.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.PreloadChunks,{moduleIds:t.modules}),(0,n.jsx)(s,{...e})]}):(0,n.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(s,{...e})});return(0,n.jsx)(d,{...l?{fallback:i}:{},children:u})}return d.displayName="LoadableComponent",d}},65470:e=>{e.exports={chartContainer:"TypingChart_chartContainer__Xxoiu",charts:"TypingChart_charts__fz60g",chartItem:"TypingChart_chartItem__CNTM_",chartWrapper:"TypingChart_chartWrapper__1KDYX",noData:"TypingChart_noData__zjjvx"}},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee});var n=s(60687),a=s(43210),r=s.n(a),o=s(49587),i=s.n(o),l=s(17616),c=s.n(l);let d=e=>{if(e<60)return`${e}초`;let t=Math.floor(e/60),s=e%60;if(t<60)return`${t}분 ${s}초`;let n=Math.floor(t/60);return`${n}시간 ${t%60}분 ${s}초`},u=(e,t)=>t<=0?"0 타/분":`${Math.round(e/t*60)} 타/분`,m=r().memo(function({stats:e,isTracking:t,onStartTracking:s,onStopTracking:o,onSaveStats:i}){let[l,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[p,_]=(0,a.useState)("docs"),[b,x]=(0,a.useState)("typing"),f=r().useRef(null),w=(0,a.useCallback)(async()=>{if(window.electronAPI?.getCurrentBrowserInfo)try{f.current=await window.electronAPI.getCurrentBrowserInfo()}catch(e){console.error("브라우저 정보 확인 오류:",e)}},[]);(0,a.useEffect)(()=>{if(t){w();let e=setInterval(w,3e4);return()=>clearInterval(e)}},[t,w]);let y=(0,a.useCallback)(e=>{m(e.target.value)},[]),j=(0,a.useCallback)(()=>{i(l),m(""),h("저장됨"),setTimeout(()=>{h("")},2e3)},[l,i]),v=(0,a.useCallback)(()=>{t?o():s()},[t,s,o]),k=(0,a.useCallback)(e=>{_(e)},[]),C=(0,a.useCallback)(e=>{x(e)},[]),N=(0,a.useMemo)(()=>{switch(p){case"docs":return(0,n.jsxs)("div",{className:c().websiteLinks,children:[(0,n.jsx)("a",{href:"https://docs.google.com/document/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 문서 열기"}),(0,n.jsx)("a",{href:"https://docs.google.com/spreadsheets/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 스프레드시트 열기"}),(0,n.jsx)("a",{href:"https://docs.google.com/presentation/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"구글 프레젠테이션 열기"}),(0,n.jsx)("a",{href:"https://www.notion.so/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Notion 열기"})]});case"office":return(0,n.jsxs)("div",{className:c().websiteLinks,children:[(0,n.jsx)("a",{href:"https://www.office.com/launch/word",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Word 온라인 열기"}),(0,n.jsx)("a",{href:"https://www.office.com/launch/excel",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Excel 온라인 열기"}),(0,n.jsx)("a",{href:"https://www.office.com/launch/powerpoint",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"PowerPoint 온라인 열기"}),(0,n.jsx)("a",{href:"https://www.hancom.com/main/main.do",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"한글과컴퓨터 열기"})]});case"coding":return(0,n.jsxs)("div",{className:c().websiteLinks,children:[(0,n.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitHub 열기"}),(0,n.jsx)("a",{href:"https://gitlab.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"GitLab 열기"}),(0,n.jsx)("a",{href:"https://codesandbox.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodeSandbox 열기"}),(0,n.jsx)("a",{href:"https://codepen.io/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"CodePen 열기"})]});case"sns":return(0,n.jsxs)("div",{className:c().websiteLinks,children:[(0,n.jsx)("a",{href:"https://slack.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Slack 열기"}),(0,n.jsx)("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Discord 열기"}),(0,n.jsx)("a",{href:"https://www.messenger.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Messenger 열기"}),(0,n.jsx)("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:c().websiteLink,children:"Gmail 열기"})]});default:return null}},[p]),T=(0,a.useMemo)(()=>{switch(b){case"typing":return(0,n.jsxs)("div",{className:c().statsGroup,children:[(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"타자 수"}),(0,n.jsx)("div",{className:c().statValue,children:e.keyCount.toLocaleString()})]}),(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"타이핑 시간"}),(0,n.jsx)("div",{className:c().statValue,children:d(e.typingTime)})]}),(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"평균 속도"}),(0,n.jsx)("div",{className:c().statValue,children:u(e.keyCount,e.typingTime)})]})]});case"document":return(0,n.jsxs)("div",{className:c().statsGroup,children:[(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"페이지 수"}),(0,n.jsx)("div",{className:c().statValue,children:e.pages?.toFixed(1)||"0.0"})]}),(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"단어 수"}),(0,n.jsx)("div",{className:c().statValue,children:e.totalWords?.toLocaleString()||"0"})]}),(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"글자 수"}),(0,n.jsx)("div",{className:c().statValue,children:e.totalChars?.toLocaleString()||"0"})]})]});case"accuracy":return(0,n.jsxs)("div",{className:c().statsGroup,children:[(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"글자 수 (공백 제외)"}),(0,n.jsx)("div",{className:c().statValue,children:e.totalCharsNoSpace?.toLocaleString()||"0"})]}),(0,n.jsxs)("div",{className:c().statCard,children:[(0,n.jsx)("div",{className:c().statLabel,children:"정확도"}),(0,n.jsxs)("div",{className:c().statValue,children:[e.accuracy||100,"%"]})]})]});default:return null}},[b,e]);return(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsxs)("div",{className:c().monitorHeader,children:[(0,n.jsx)("h2",{children:"타이핑 모니터링"}),(0,n.jsx)("button",{className:`${c().trackingButton} ${t?c().trackingActive:""}`,onClick:v,children:t?"모니터링 중지":"모니터링 시작"})]}),(0,n.jsxs)("div",{className:c().statusIndicator,children:[(0,n.jsx)("div",{className:`${c().indicator} ${t?c().active:""}`}),(0,n.jsxs)("span",{children:["모니터링 상태: ",(0,n.jsx)("strong",{children:t?"활성화":"비활성화"})]}),g&&(0,n.jsx)("div",{className:c().actionFeedback,children:g})]}),(0,n.jsxs)("div",{className:c().contentWrapper,children:[(0,n.jsxs)("div",{className:c().leftPanel,children:[(0,n.jsxs)("div",{className:c().browserStatus,children:[(0,n.jsx)("h3",{children:"브라우저 상태"}),(0,n.jsxs)("div",{className:c().browserInfo,children:[(0,n.jsxs)("div",{className:c().browserRow,children:[(0,n.jsx)("span",{children:"감지된 브라우저:"}),(0,n.jsx)("span",{className:c().browserValue,children:e.browserName||f.current?.name||"없음"})]}),(0,n.jsxs)("div",{className:c().browserRow,children:[(0,n.jsx)("span",{children:"구글 문서 감지:"}),(0,n.jsx)("span",{className:c().browserValue,children:f.current?.isGoogleDocs?(0,n.jsx)("span",{className:c().detectedBadge,children:"감지됨 ✓"}):(0,n.jsx)("span",{className:c().notDetectedBadge,children:"아님 ⨯"})})]}),(0,n.jsxs)("div",{className:c().browserRow,children:[(0,n.jsx)("span",{children:"현재 창:"}),(0,n.jsxs)("span",{className:c().browserValue,title:e.windowTitle||f.current?.title||"",children:[(e.windowTitle||f.current?.title||"없음").substring(0,60),(e.windowTitle||f.current?.title||"").length>60?"...":""]})]})]})]}),(0,n.jsxs)("div",{className:c().websiteTabs,children:[(0,n.jsxs)("div",{className:c().websiteTabHeader,children:[(0,n.jsx)("button",{className:`${c().websiteTabButton} ${"docs"===p?c().activeWebsiteTab:""}`,onClick:()=>k("docs"),children:"구글 문서"}),(0,n.jsx)("button",{className:`${c().websiteTabButton} ${"office"===p?c().activeWebsiteTab:""}`,onClick:()=>k("office"),children:"오피스"}),(0,n.jsx)("button",{className:`${c().websiteTabButton} ${"coding"===p?c().activeWebsiteTab:""}`,onClick:()=>k("coding"),children:"코딩"}),(0,n.jsx)("button",{className:`${c().websiteTabButton} ${"sns"===p?c().activeWebsiteTab:""}`,onClick:()=>k("sns"),children:"SNS/메신저"})]}),(0,n.jsx)("div",{className:c().websiteTabContent,children:N})]})]}),(0,n.jsxs)("div",{className:c().rightPanel,children:[(0,n.jsxs)("div",{className:c().statsTabs,children:[(0,n.jsx)("button",{className:`${c().statsTabButton} ${"typing"===b?c().activeStatsTab:""}`,onClick:()=>C("typing"),children:"타이핑 정보"}),(0,n.jsx)("button",{className:`${c().statsTabButton} ${"document"===b?c().activeStatsTab:""}`,onClick:()=>C("document"),children:"문서 정보"}),(0,n.jsx)("button",{className:`${c().statsTabButton} ${"accuracy"===b?c().activeStatsTab:""}`,onClick:()=>C("accuracy"),children:"정확도 & 속도"})]}),(0,n.jsx)("div",{className:c().statsTabContent,children:T}),(0,n.jsxs)("div",{className:c().saveSection,children:[(0,n.jsx)("h3",{children:"세션 저장"}),(0,n.jsx)("p",{children:"작업한 내용에 대한 설명을 입력하세요"}),(0,n.jsx)("textarea",{className:c().descriptionInput,value:l,onChange:y,placeholder:"작업 내용 (예: 보고서 작성, 논문 작성 등)",rows:4}),(0,n.jsx)("button",{className:c().saveButton,onClick:j,disabled:0===e.keyCount||!l.trim(),children:"통계 저장"})]})]})]})]})});var g=s(36234),h=s(29947),p=s(65470),_=s.n(p);g.t1.register(g.PP,g.kc,g.FN,g.No,g.E8,g.hE,g.m_,g.s$);let b=e=>{let t=new Date;return t.setDate(t.getDate()-7),e.filter(e=>new Date(e.timestamp)>=t).slice(0,50)},x=r().memo(function({logs:e}){let[t,s]=(0,a.useState)(!1),r=(0,a.useRef)([]),o=(0,a.useRef)(!0);(0,a.useEffect)(()=>{let e=()=>{s(document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode"))};e();let t=e=>{s(e.detail.darkMode)};window.addEventListener("darkmode-changed",t);let n=new MutationObserver(e);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),n.observe(document.body,{attributes:!0,attributeFilter:["class"]}),o.current=!0,()=>{if(o.current=!1,n.disconnect(),window.removeEventListener("darkmode-changed",t),r.current.forEach(e=>{e&&e.destroy&&e.destroy()}),window.gc)try{window.gc()}catch(e){console.log("GC 호출 실패")}}},[]);let i=(0,a.useMemo)(()=>{try{if(!Array.isArray(e))return console.warn("유효하지 않은 로그 데이터:",e),[];return b(e)}catch(e){return console.error("로그 필터링 중 오류:",e),[]}},[e]),l=(0,a.useCallback)(e=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{point:{radius:2,hoverRadius:4},line:{tension:0}},devicePixelRatio:1,plugins:{legend:{position:"top",labels:{color:t?"#E0E0E0":"#333",font:{size:11}}},title:{display:!0,text:e,color:t?"#E0E0E0":"#333",font:{size:12,weight:"normal"}},tooltip:{enabled:!0,backgroundColor:t?"rgba(30, 30, 30, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:t?"#E0E0E0":"#333",bodyColor:t?"#B0B0B0":"#666",borderColor:t?"#303030":"#ddd",borderWidth:1,callbacks:{label:function(e){return e.raw}}}},scales:{x:{ticks:{color:t?"#B0B0B0":"#666",maxTicksLimit:7,font:{size:10}},grid:{color:t?"rgba(60, 60, 60, 0.3)":"rgba(0, 0, 0, 0.1)",display:!1}},y:{ticks:{color:t?"#B0B0B0":"#666",font:{size:10}},grid:{color:t?"rgba(60, 60, 60, 0.3)":"rgba(0, 0, 0, 0.1)",tickLength:5}}}}),[t]),c=(0,a.useMemo)(()=>{try{if(!Array.isArray(i)||0===i.length)return{labels:[],keyCountData:[],timeData:[],speedData:[],wordData:[],charData:[]};let e=new Map;for(let t=0;t<i.length;t++){let s=i[t];if(!s||"object"!=typeof s||!s.timestamp||!Date.parse(s.timestamp))continue;let n=new Date(s.timestamp).toLocaleDateString();e.has(n)||e.set(n,{totalKeyCount:0,totalTime:0,totalChars:0,totalWords:0});let a=e.get(n);a.totalKeyCount+=s.key_count||0,a.totalTime+=s.typing_time||0;let r=s.content?.length||0;a.totalChars+=r,a.totalWords+=Math.ceil(r/5)}let t=Array.from(e.keys()).sort((e,t)=>new Date(e).getTime()-new Date(t).getTime());return{labels:t.map(e=>{let t=e.split("/");return t.length>=2?`${t[0]}/${t[1]}`:e}),keyCountData:t.map(t=>e.get(t).totalKeyCount),timeData:t.map(t=>Math.round(e.get(t).totalTime/60)),speedData:t.map(t=>{let s=e.get(t);return s.totalTime>0?Math.round(s.totalKeyCount/s.totalTime*60):0}),wordData:t.map(t=>e.get(t).totalWords),charData:t.map(t=>e.get(t).totalChars)}}catch(e){return console.error("차트 데이터 생성 중 오류:",e),{labels:[],keyCountData:[],timeData:[],speedData:[],wordData:[],charData:[]}}},[i]),d=(0,a.useCallback)((e,t,s,n,a)=>({labels:e,datasets:[{label:s,data:t,borderColor:n,backgroundColor:a,pointBackgroundColor:n,borderWidth:1,fill:!1}]}),[]),u=(0,a.useMemo)(()=>d(c.labels,c.speedData,"평균 타이핑 속도 (타/분)",t?"rgb(3, 218, 198)":"rgb(75, 192, 192)",t?"rgba(3, 218, 198, 0.5)":"rgba(75, 192, 192, 0.5)"),[c.labels,c.speedData,t,d]),[m,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!m&&i.length>0){let e=setTimeout(()=>{o.current&&g(!0)},100);return()=>clearTimeout(e)}},[i.length,m]);let p=(0,a.useCallback)(e=>{e&&r.current.push(e)},[]);return(0,n.jsxs)("div",{className:_().chartContainer,children:[(0,n.jsx)("h2",{children:"타이핑 통계 차트"}),i.length>0?(0,n.jsxs)("div",{className:_().charts,children:[m&&c.labels.length>0&&(0,n.jsxs)("div",{className:_().chartItem,children:[(0,n.jsx)("h3",{children:"일별 평균 타이핑 속도"}),(0,n.jsx)("div",{className:_().chartWrapper,children:(0,n.jsx)(h.N1,{data:u,options:l("일별 평균 속도 (타/분)"),redraw:!1,ref:p})})]}),m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:_().chartItem,children:[(0,n.jsx)("h3",{children:"일별 총 타자 수"}),(0,n.jsx)("div",{className:_().chartWrapper,children:(0,n.jsx)(h.yP,{data:{labels:c.labels,datasets:[{label:"총 타자 수",data:c.keyCountData,backgroundColor:t?"rgba(30, 136, 229, 0.7)":"rgba(54, 162, 235, 0.5)"}]},options:l("일별 총 타자 수"),redraw:!1,ref:p})})]}),(0,n.jsxs)("div",{className:_().chartItem,children:[(0,n.jsx)("h3",{children:"일별 총 타이핑 시간"}),(0,n.jsx)("div",{className:_().chartWrapper,children:(0,n.jsx)(h.yP,{data:{labels:c.labels,datasets:[{label:"총 타이핑 시간 (분)",data:c.timeData,backgroundColor:t?"rgba(207, 102, 121, 0.7)":"rgba(255, 99, 132, 0.5)"}]},options:l("일별 총 타이핑 시간 (분)"),redraw:!1,ref:p})})]})]})]}):(0,n.jsx)("p",{className:_().noData,children:"저장된 타이핑 데이터가 없습니다."})]})});var f=s(82667),w=s.n(f);let y=(0,a.memo)(function({activeTab:e,onTabChange:t,onDebugToggle:s,debugMode:a}){return(0,n.jsxs)("div",{className:w().appTabs,style:{pointerEvents:"auto"},children:[(0,n.jsx)("button",{className:`${w().tabButton} ${"monitor"===e?w().activeTab:""}`,onClick:()=>t("monitor"),style:{pointerEvents:"auto"},children:"모니터링"}),(0,n.jsx)("button",{className:`${w().tabButton} ${"history"===e?w().activeTab:""}`,onClick:()=>t("history"),style:{pointerEvents:"auto"},children:"히스토리"}),(0,n.jsx)("button",{className:`${w().tabButton} ${"stats"===e?w().activeTab:""}`,onClick:()=>t("stats"),style:{pointerEvents:"auto"},children:"통계"}),(0,n.jsx)("button",{className:`${w().tabButton} ${"chart"===e?w().activeTab:""}`,onClick:()=>t("chart"),style:{pointerEvents:"auto"},children:"차트"}),(0,n.jsx)("button",{className:`${w().tabButton} ${"settings"===e?w().activeTab:""}`,onClick:()=>t("settings"),style:{pointerEvents:"auto"},children:"설정"}),(0,n.jsx)("button",{className:`${w().tabButton} ${w().debugButton} ${a?w().debugActive:""}`,onClick:s,title:"디버그 모드 토글",style:{pointerEvents:"auto"},children:"\uD83D\uDC1E"})]})});function j({children:e}){return(0,n.jsx)("div",{className:"client-controls-wrapper",children:e})}var v=s(31935);let k=(0,a.createContext)({theme:"light",toggleTheme:()=>{},setDarkMode:()=>{},isDarkMode:!1}),C=()=>(0,a.useContext)(k),N={getItem:e=>{try{return localStorage.getItem(e)}catch(e){return console.error("로컬 스토리지 접근 오류:",e),null}},setItem:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return console.error("로컬 스토리지 저장 오류:",e),!1}}},T=()=>{let e=N.getItem("app-settings");if(!e)return{};try{return JSON.parse(e)}catch(e){return console.error("설정 파싱 오류:",e),{}}},S=e=>{try{let t={...T(),...e};return N.setItem("app-settings",JSON.stringify(t))}catch(e){return console.error("설정 저장 오류:",e),!1}},M=e=>{let t=document.documentElement;e?(t.style.setProperty("--card-bg","#222222"),t.style.setProperty("--text-color","rgba(255, 255, 255, 0.87)"),t.style.setProperty("--border-color","rgba(255, 255, 255, 0.12)"),t.style.setProperty("--button-hover-bg","rgba(255, 255, 255, 0.08)"),t.style.setProperty("--primary-color","#90caf9")):(t.style.setProperty("--card-bg","#ffffff"),t.style.setProperty("--text-color","rgba(0, 0, 0, 0.87)"),t.style.setProperty("--border-color","rgba(0, 0, 0, 0.12)"),t.style.setProperty("--button-hover-bg","rgba(0, 0, 0, 0.05)"),t.style.setProperty("--primary-color","#1976d2"))};function P({children:e}){let[t,s]=(0,a.useState)("light"),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),c=(0,a.useRef)(!1),d=(0,a.useCallback)(e=>{e?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),M(e)},[]),u=(0,a.useCallback)(e=>{c.current||(c.current=!0,s(e?"dark":"light"),o(e),d(e),S({darkMode:e}),window.electronAPI&&window.electronAPI.setDarkMode&&window.electronAPI.setDarkMode(e).catch(e=>{console.error("Electron API로 다크 모드 설정 중 오류:",e)}),setTimeout(()=>{c.current=!1},500))},[d]),m=(0,a.useCallback)(()=>{c.current||u(!r)},[r,u]);return(0,n.jsx)(k.Provider,{value:{theme:t,toggleTheme:m,setDarkMode:u,isDarkMode:r},children:e})}function L({children:e,darkMode:t=!1,windowMode:s="windowed",electronAPI:a=null}){return a||window.electronAPI,(0,n.jsx)(P,{children:(0,n.jsx)(v.t,{children:(0,n.jsx)("div",{className:"app-layout",children:(0,n.jsx)("main",{className:"content-area",style:{height:"100vh",overflow:"auto",padding:"16px"},children:(0,n.jsx)(j,{children:e})})})})})}let I=(0,a.memo)(function({isVisible:e,stats:t,logsCount:s,isTracking:a,windowMode:r}){return e?(0,n.jsxs)("div",{className:w().debugPanelBottom,children:[(0,n.jsx)("h3",{children:"디버그 정보"}),(0,n.jsxs)("div",{className:w().debugInfo,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"isTracking:"})," ",a?"true":"false"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Logs:"})," ",s,"개"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Current keyCount:"})," ",t.keyCount]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Browser:"})," ",t.browserName||"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Window:"})," ",t.windowTitle||"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Window Mode:"})," ",r]})]})]}):null});var A=s(61762),D=s.n(A),B=s(56557),E=s.n(B);let G=({title:e,message:t,isOpen:s,onConfirm:r,onCancel:o,confirmText:i="확인",cancelText:l="취소",type:c="info",isDarkMode:d=!1})=>((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&o()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[s,o]),(0,a.useEffect)(()=>{let e=e=>{"Enter"===e.key&&s&&r()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[s,r]),s)?(0,n.jsx)("div",{className:`${E().overlay} ${d?E().darkMode:""}`,children:(0,n.jsxs)("div",{className:E().dialog,children:[(0,n.jsxs)("div",{className:`${E().header} ${E()[c]}`,children:[(0,n.jsx)("h2",{children:e}),(0,n.jsx)("button",{className:E().closeButton,onClick:o,"aria-label":"닫기",children:"\xd7"})]}),(0,n.jsx)("div",{className:E().content,children:(0,n.jsx)("p",{className:E().message,children:t})}),(0,n.jsxs)("div",{className:E().actions,children:[(0,n.jsx)("button",{className:`${E().button} ${E().cancelButton}`,onClick:o,children:l}),(0,n.jsx)("button",{className:`${E().button} ${E().confirmButton} ${E()[c+"Button"]}`,onClick:r,autoFocus:!0,children:i})]})]})}):null,$=({isOpen:e,onConfirm:t,onCancel:s,settingsType:a="설정",isDarkMode:r=!1})=>{let o=`${a} 저장`,i=`변경된 ${a}을(를) 저장하시겠습니까?`;return(0,n.jsx)(G,{title:o,message:i,isOpen:e,onConfirm:t,onCancel:s,confirmText:"저장",cancelText:"취소",type:"info",isDarkMode:r})},R=({text:e})=>{let[t,s]=(0,a.useState)(!1),r=(0,a.useRef)(null);return(0,n.jsxs)("div",{className:D().infoIcon,onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:["i",t&&(0,n.jsxs)("div",{className:`${D().tooltip} ${D().show}`,ref:r,children:[(0,n.jsx)("div",{className:D().tooltipArrow}),e]})]})};function O({onSave:e,initialSettings:t,darkMode:s,onDarkModeChange:r,onWindowModeChange:o}){let{isDarkMode:i,setDarkMode:l}=C(),[c,d]=(0,a.useState)({enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,darkMode:i,windowMode:"windowed",minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:t?.useHardwareAcceleration??!1,useTypingAnalysisGpuAcceleration:t?.useTypingAnalysisGpuAcceleration??!1,processingMode:t?.processingMode??"auto",maxMemoryThreshold:t?.maxMemoryThreshold??100,resumeAfterIdle:t?.resumeAfterIdle??!0,showKeyCountInHeader:t?.showKeyCountInHeader??!0,showRealtimeWPM:t?.showRealtimeWPM??!0,enableSoundEffects:t?.enableSoundEffects??!1,enableAnimations:t?.enableAnimations??!0,useCompactUI:t?.useCompactUI??!1}),[u,m]=(0,a.useState)(!1),[g,h]=(0,a.useState)(!1),{showToast:p}=(0,v.d)(),[_,b]=(0,a.useState)("general"),[x,f]=(0,a.useState)(""),[w,y]=(0,a.useState)(!1),j=e=>{d(t=>({...t,enabledCategories:{...t.enabledCategories,[e]:!t.enabledCategories[e]}}))},k=e=>{if(d(t=>({...t,windowMode:e})),window.electronAPI&&window.electronAPI.setWindowMode)try{window.electronAPI.setWindowMode(e).catch(e=>{console.error("창 모드 변경 중 오류:",e),p("창 모드 변경 중 오류가 발생했습니다.","error")})}catch(e){console.error("창 모드 변경 함수 호출 중 오류:",e),p("창 모드 변경 기능을 사용할 수 없습니다.","error")}o&&o(e)},N=(e,t)=>{d(s=>({...s,[e]:t}))},T=e=>{d(t=>{let s=!t[e];return"useCompactUI"===e&&(s?(document.documentElement.classList.add("compact-ui"),document.body.classList.add("compact-ui")):(document.documentElement.classList.remove("compact-ui"),document.body.classList.remove("compact-ui"))),"enableSoundEffects"===e&&(s?document.documentElement.classList.add("sound-effects"):document.documentElement.classList.remove("sound-effects")),"enableAnimations"===e&&(s?document.documentElement.classList.add("enable-animations"):document.documentElement.classList.remove("enable-animations")),{...t,[e]:s}})},S=()=>{let e=!c.useTypingAnalysisGpuAcceleration;d(t=>({...t,useTypingAnalysisGpuAcceleration:e})),console.log("타이핑 분석 GPU 가속 설정 변경:",e)},M=(0,a.useCallback)(()=>{try{if(!window.electronAPI){p("Electron API를 찾을 수 없습니다. preload 스크립트가 올바르게 로드되었는지 확인하세요.","error");return}let e=Object.keys(window.electronAPI).map(e=>`${e}: ${typeof window.electronAPI[e]}`).join("\n");if(console.log("사용 가능한 API 목록:",e),f(e),"function"==typeof window.electronAPI.restartApp){window.electronAPI.restartApp();return}if("function"==typeof window.electronAPI.showRestartPrompt){window.electronAPI.showRestartPrompt();return}if(window.electron&&"function"==typeof window.electron.restartApp){window.electron.restartApp();return}p("재시작 기능을 사용할 수 없습니다. 앱을 수동으로 재시작하세요.","warning"),y(!0)}catch(e){console.error("앱 재시작 시도 중 오류:",e),p(`재시작 중 오류: ${e.message}`,"error"),f(String(e)),y(!0)}},[p]);return(0,n.jsxs)("div",{className:`${D().settingsContainer} ${i?D().darkMode:""} ${c.useCompactUI?D().compactUI:""}`,children:[(0,n.jsx)("h2",{children:"설정"}),(0,n.jsxs)("div",{className:D().settingsLayout,children:[(0,n.jsxs)("div",{className:D().settingsTabs,children:[(0,n.jsx)("button",{className:`${D().tabButton} ${"general"===_?D().activeTab:""}`,onClick:()=>b("general"),children:"일반"}),(0,n.jsx)("button",{className:`${D().tabButton} ${"display"===_?D().activeTab:""}`,onClick:()=>b("display"),children:"표시"}),(0,n.jsx)("button",{className:`${D().tabButton} ${"advanced"===_?D().activeTab:""}`,onClick:()=>b("advanced"),children:"고급"})]}),(0,n.jsxs)("div",{className:D().settingsContent,children:["general"===_&&(0,n.jsxs)("div",{className:D().tabContent,children:[(0,n.jsxs)("div",{className:`${D().settingSection} ${D().highlightedSetting}`,children:[(0,n.jsx)("h3",{children:"모니터링 자동 시작"}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.autoStartMonitoring,onChange:()=>{d(e=>({...e,autoStartMonitoring:!e.autoStartMonitoring}))}}),(0,n.jsx)("span",{className:D().toggleLabel,children:"앱 시작 시 자동으로 모니터링 시작"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.resumeAfterIdle||!1,onChange:e=>N("resumeAfterIdle",e.target.checked)}),(0,n.jsx)("span",{className:D().toggleLabel,children:"일정 시간 사용하지 않다가 돌아왔을 때 자동 재시작"})]})})]}),(0,n.jsx)("div",{className:D().settingDescription,children:"자동 모니터링 설정을 통해 앱 시작 시 또는 일정 시간 사용하지 않다가 돌아왔을 때 자동으로 타이핑 모니터링을 시작할 수 있습니다."})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"일반 설정"}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.darkMode,onChange:()=>{let e=!c.darkMode;d(t=>({...t,darkMode:e})),r&&r(e),l(e)}}),(0,n.jsx)("span",{className:D().toggleLabel,children:"다크 모드"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enableSoundEffects,onChange:()=>T("enableSoundEffects")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"소리 효과 활성화"})]})})]}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enableAnimations,onChange:()=>T("enableAnimations")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"애니메이션 효과 활성화"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.useCompactUI,onChange:()=>T("useCompactUI")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"압축 UI 사용 (작은 버튼 및 요소)"})]})})]})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"화면 모드"}),(0,n.jsxs)("div",{className:D().radioGroup,children:[(0,n.jsxs)("label",{className:D().radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"windowMode",checked:"windowed"===c.windowMode,onChange:()=>k("windowed")}),(0,n.jsx)("span",{className:D().radioText,children:"창 모드"})]}),(0,n.jsxs)("label",{className:D().radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"windowMode",checked:"fullscreen"===c.windowMode,onChange:()=>k("fullscreen")}),(0,n.jsx)("span",{className:D().radioText,children:"전체화면 모드"})]}),(0,n.jsxs)("label",{className:D().radioLabel,children:[(0,n.jsx)("input",{type:"radio",name:"windowMode",checked:"fullscreen-auto-hide"===c.windowMode,onChange:()=>k("fullscreen-auto-hide")}),(0,n.jsx)("span",{className:D().radioText,children:"자동 숨김 모드"})]})]}),(0,n.jsx)("p",{className:D().settingDescription,children:"자동 숨김 모드에서는 마우스를 화면 상단에 가져가면 도구모음이 자동으로 표시됩니다."})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"모니터링 대상 카테고리"}),(0,n.jsxs)("div",{className:D().categoryToggles,children:[(0,n.jsxs)("div",{className:D().toggleGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enabledCategories.docs,onChange:()=>j("docs")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"문서 작업 (Notion, Google Docs 등)"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enabledCategories.office,onChange:()=>j("office")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"오피스 웹앱 (Microsoft Office, 한컴오피스 등)"})]})})]}),(0,n.jsxs)("div",{className:D().toggleGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enabledCategories.coding,onChange:()=>j("coding")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"코딩 관련 (GitHub, GitLab 등)"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enabledCategories.sns,onChange:()=>j("sns")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"SNS/메신저 (Discord, Slack 등)"})]})})]})]}),(0,n.jsx)("div",{className:D().settingDescription,children:"선택한 카테고리에 해당하는 애플리케이션 및 웹사이트에서의 타이핑만 모니터링합니다."})]})]}),"display"===_&&(0,n.jsxs)("div",{className:D().tabContent,children:[(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"통계 표시 설정"}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.showKeyCountInHeader,onChange:()=>T("showKeyCountInHeader")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"헤더에 키 카운트 표시"})]})}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.showRealtimeWPM,onChange:()=>T("showRealtimeWPM")}),(0,n.jsx)("span",{className:D().toggleLabel,children:"실시간 WPM(분당 단어 수) 표시"})]})})]}),(0,n.jsx)("div",{className:D().settingDescription,children:"통계 표시 설정을 통해 앱이 표시하는 정보의 종류와 위치를 조정할 수 있습니다. 실시간 데이터를 표시하면 더 정확한 타이핑 분석이 가능하지만 시스템 자원을 더 사용합니다."})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"타이핑 분석 설정"}),(0,n.jsxs)("div",{className:D().toggleItem,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.useTypingAnalysisGpuAcceleration,onChange:S}),(0,n.jsx)("span",{className:D().toggleLabel,children:"타이핑 분석 GPU 가속 사용"})]}),(0,n.jsx)("p",{className:D().settingDescription,children:"GPU 가속을 활성화하면 타이핑 분석 계산이 더 빨라질 수 있습니다. 시스템에 호환되는 GPU가 있는 경우에만 작동합니다."})]}),(0,n.jsxs)("div",{className:D().analysisStats,children:[(0,n.jsx)("h4",{children:"타이핑 분석 통계"}),(0,n.jsx)("div",{className:D().statsDescription,children:"타이핑 분석은 입력 속도, 정확도, 일관성 등을 추적하여 입력 패턴을 분석합니다. 이 기능을 통해 타이핑 습관을 개선하고 효율성을 높일 수 있습니다."}),(0,n.jsxs)("div",{className:D().statItems,children:[(0,n.jsxs)("div",{className:D().statItem,children:[(0,n.jsx)("span",{className:D().statLabel,children:"WPM"}),(0,n.jsx)("span",{className:D().statValue,children:"분당 단어 수 측정"})]}),(0,n.jsxs)("div",{className:D().statItem,children:[(0,n.jsx)("span",{className:D().statLabel,children:"정확도"}),(0,n.jsx)("span",{className:D().statValue,children:"오타율 및 정확도 분석"})]}),(0,n.jsxs)("div",{className:D().statItem,children:[(0,n.jsx)("span",{className:D().statLabel,children:"일관성"}),(0,n.jsx)("span",{className:D().statValue,children:"타이핑 리듬 및 일관성 측정"})]}),(0,n.jsxs)("div",{className:D().statItem,children:[(0,n.jsx)("span",{className:D().statLabel,children:"피로도"}),(0,n.jsx)("span",{className:D().statValue,children:"타이핑 피로도 추적 및 휴식 추천"})]})]})]})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"미니뷰 설정"}),(0,n.jsx)("div",{className:D().toggleItem,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.enableMiniView,onChange:()=>{d(e=>({...e,enableMiniView:!e.enableMiniView}))},disabled:!c.minimizeToTray}),(0,n.jsxs)("span",{className:D().toggleLabel,children:["트레이 아이콘 클릭 시 미니뷰(PiP) 표시",!c.minimizeToTray&&(0,n.jsx)("small",{className:D().disabledNote,children:" (트레이로 최소화 옵션이 활성화되어야 함)"})]})]})}),(0,n.jsx)("p",{className:D().settingDescription,children:"미니뷰를 활성화하면 트레이 아이콘을 클릭할 때 화면 상단에 작은 통계 창이 표시됩니다. 이를 통해 앱을 최소화한 상태에서도 중요한 타이핑 통계를 확인할 수 있습니다."})]})]}),"advanced"===_&&(0,n.jsxs)("div",{className:D().tabContent,children:[(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"성능 설정"}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().settingItem,children:(0,n.jsxs)("div",{className:D().settingLabel,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.useHardwareAcceleration,onChange:e=>{let s=e.target.checked;s!==t?.useHardwareAcceleration&&m(!0),d(e=>({...e,useHardwareAcceleration:s}))}}),(0,n.jsx)("span",{className:D().toggleLabel,children:"GPU 하드웨어 가속 사용 (재시작 필요)"})]}),(0,n.jsx)(R,{text:"GPU 하드웨어 가속을 활성화하면 그래픽 렌더링과 일부 계산이 더 빨라질 수 있지만, 일부 시스템에서는 불안정할 수 있습니다. 변경 후 앱 재시작이 필요합니다."})]})}),(0,n.jsxs)("div",{className:D().settingItem,children:[(0,n.jsxs)("div",{className:D().settingLabel,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.useTypingAnalysisGpuAcceleration,onChange:S,disabled:!c.useHardwareAcceleration}),(0,n.jsx)("span",{className:D().toggleLabel,children:"GPU 기반 타이핑 분석 (베타)"})]}),(0,n.jsx)(R,{text:"타이핑 분석에 GPU 가속을 사용합니다. 하드웨어 가속이 활성화된 경우에만 사용 가능합니다. 복잡한 분석이 많은 경우 성능이 향상될 수 있습니다."})]}),!c.useHardwareAcceleration&&(0,n.jsx)("div",{className:D().disabledMessage,children:"GPU 기반 타이핑 분석을 사용하려면 먼저 GPU 하드웨어 가속을 활성화하세요."})]})]})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"메모리 설정"}),(0,n.jsxs)("div",{className:D().settingGrid,children:[(0,n.jsx)("div",{className:D().settingItem,children:(0,n.jsxs)("div",{className:D().settingLabel,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:c.reduceMemoryInBackground,onChange:()=>{d(e=>({...e,reduceMemoryInBackground:!e.reduceMemoryInBackground}))}}),(0,n.jsx)("span",{className:D().toggleLabel,children:"백그라운드에서 메모리 사용 최적화"})]}),(0,n.jsx)(R,{text:"앱이 백그라운드에 있을 때 메모리 사용량을 줄이기 위해 일부 기능을 비활성화합니다. 배터리 수명과 시스템 성능을 향상시킵니다."})]})}),(0,n.jsxs)("div",{className:D().rangeItem,children:[(0,n.jsxs)("div",{className:D().settingLabel,children:[(0,n.jsx)("label",{htmlFor:"memoryThreshold",children:(0,n.jsxs)("span",{className:D().rangeLabel,children:["최대 메모리 사용량 임계값: ",c.maxMemoryThreshold,"MB"]})}),(0,n.jsx)(R,{text:"앱의 메모리 사용량이 이 임계값을 초과하면 자동으로 메모리 정리를 수행합니다."})]}),(0,n.jsx)("input",{type:"range",id:"memoryThreshold",min:"50",max:"500",step:"10",value:c.maxMemoryThreshold,onChange:e=>N("maxMemoryThreshold",parseInt(e.target.value,10)),className:D().rangeSlider,disabled:!c.reduceMemoryInBackground})]})]})]}),(0,n.jsxs)("div",{className:D().settingSection,children:[(0,n.jsx)("h3",{children:"처리 모드"}),(0,n.jsxs)("div",{className:D().settingLabel,style:{marginBottom:"10px"},children:[(0,n.jsx)("span",{children:"처리 모드 선택"}),(0,n.jsx)(R,{text:"처리 모드에 따라 앱의 성능과 리소스 사용량이 조정됩니다. 자동 모드는 시스템 환경에 따라 최적의 설정을 선택합니다."})]}),(0,n.jsxs)("div",{className:D().radioGroup,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"processingMode",value:"auto",checked:"auto"===c.processingMode,onChange:()=>N("processingMode","auto")}),(0,n.jsx)("span",{className:D().radioLabel,children:"자동"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"processingMode",value:"normal",checked:"normal"===c.processingMode,onChange:()=>N("processingMode","normal")}),(0,n.jsx)("span",{className:D().radioLabel,children:"일반"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"processingMode",value:"cpu-intensive",checked:"cpu-intensive"===c.processingMode,onChange:()=>N("processingMode","cpu-intensive")}),(0,n.jsx)("span",{className:D().radioLabel,children:"CPU 집중"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"processingMode",value:"gpu-intensive",checked:"gpu-intensive"===c.processingMode,onChange:()=>N("processingMode","gpu-intensive"),disabled:!c.useHardwareAcceleration}),(0,n.jsx)("span",{className:D().radioLabel,children:"GPU 집중 (하드웨어 가속 필요)"})]})]})]}),u&&(0,n.jsxs)("div",{className:D().restartNotice,children:[(0,n.jsx)("p",{children:"GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작해야 합니다."}),(0,n.jsx)("button",{className:D().restartButton,onClick:M,children:"지금 재시작"})]})]})]})]}),(0,n.jsx)("div",{className:D().buttonRow,children:(0,n.jsx)("button",{className:D().saveButton,onClick:()=>{JSON.stringify(c)!==JSON.stringify(t)?(console.log("저장할 설정:",c),h(!0)):p("변경된 설정이 없습니다.","info")},children:"설정 저장"})}),(0,n.jsx)($,{isOpen:g,onConfirm:()=>{if(h(!1),JSON.stringify({...c,darkMode:i})!==JSON.stringify({...t,darkMode:i})){if(c.darkMode!==i){l(c.darkMode);let e=document.documentElement;c.darkMode?(e.style.setProperty("--card-bg","#222222"),e.style.setProperty("--text-color","rgba(255, 255, 255, 0.87)"),e.style.setProperty("--border-color","rgba(255, 255, 255, 0.12)"),e.style.setProperty("--button-hover-bg","rgba(255, 255, 255, 0.08)"),e.style.setProperty("--primary-color","#90caf9")):(e.style.setProperty("--card-bg","#ffffff"),e.style.setProperty("--text-color","rgba(0, 0, 0, 0.87)"),e.style.setProperty("--border-color","rgba(0, 0, 0, 0.12)"),e.style.setProperty("--button-hover-bg","rgba(0, 0, 0, 0.05)"),e.style.setProperty("--primary-color","#1976d2"))}e({...c,darkMode:c.darkMode}),c.darkMode?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),u?(p("GPU 가속 설정이 변경되었습니다. 변경 사항을 적용하려면 앱을 재시작하세요.","info"),window.electronAPI&&("function"==typeof window.electronAPI.showRestartPrompt?window.electronAPI.showRestartPrompt():window.confirm("GPU 가속 설정이 변경되었습니다. 지금 앱을 재시작하시겠습니까?")&&("function"==typeof window.electronAPI.restartApp?window.electronAPI.restartApp():(console.error("restartApp 함수를 찾을 수 없습니다."),p("앱을 수동으로 재시작해 주세요.","warning"))))):p("설정이 저장되었습니다.","success")}else p("변경된 설정이 없습니다.","info")},onCancel:()=>{h(!1)},isDarkMode:i})]})}var W=s(79098),H=s.n(W);function U({message:e="앱을 재시작하는 중입니다...",isVisible:t,onClose:s}){let[r,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(0);return t?(0,n.jsx)("div",{className:H().overlay,children:(0,n.jsxs)("div",{className:H().loadingContainer,children:[(0,n.jsx)("div",{className:H().spinner}),(0,n.jsxs)("h3",{className:H().title,children:[e,r]}),(0,n.jsx)("div",{className:H().progressContainer,children:(0,n.jsx)("div",{className:H().progressBar,style:{width:`${i}%`}})}),(0,n.jsx)("p",{className:H().note,children:"앱이 곧 다시 시작됩니다."})]})}):null}var V=s(15819);function q(e){e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode"),document.querySelectorAll(".tab-content, .chart-container, .history-table").forEach(e=>{e.classList.add("dark-mode")})):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"),document.querySelectorAll(".tab-content, .chart-container, .history-table").forEach(e=>{e.classList.remove("dark-mode")}))}let z={enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,resumeAfterIdle:!0,darkMode:!1,windowMode:"windowed",minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:!1,processingMode:"auto",maxMemoryThreshold:100},K=100;async function J(){try{let e=document.querySelectorAll("img:not([data-optimized])"),t=0;for(let s of Array.from(e)){let e=s.getBoundingClientRect();if((e.top<-window.innerHeight||e.bottom>2*window.innerHeight||e.left<-window.innerWidth||e.right>2*window.innerWidth)&&s.src&&!s.src.startsWith("data:")){let e=s.src;s.setAttribute("data-original-src",e),s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";let n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,s=t.getAttribute("data-original-src");s&&(t.src=s,t.removeAttribute("data-original-src"),t.setAttribute("data-optimized","restored")),n.disconnect()}})},{rootMargin:"200px"});n.observe(s),s.setAttribute("data-optimized","true"),t++}}return t>0&&console.log(`이미지 리소스 최적화 완료: ${t}개 이미지 처리됨`),document.querySelectorAll("canvas[width][height], svg[width][height]").forEach(e=>{let t=parseInt(e.getAttribute("width")||"0"),s=parseInt(e.getAttribute("height")||"0");if(t*s>1e6&&!e.hasAttribute("data-optimized")){let t=e.getBoundingClientRect();(t.top<-window.innerHeight||t.bottom>2*window.innerHeight)&&(e.setAttribute("data-optimized","hidden"),e.setAttribute("data-original-display",e.style.display),e.style.display="none")}}),!0}catch(e){return console.error("이미지 리소스 최적화 오류:",e),!1}}var F=s(74479),X=s.n(F);let Q=r().memo(function(){let{electronAPI:e,api:t}=(0,V.q)(),{settings:s,darkMode:o,windowMode:i,handleSaveSettings:l,handleDarkModeChange:c,handleWindowModeChange:d}=function(e){let{showToast:t}=(0,v.d)(),[s,n]=(0,a.useState)(z),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)("windowed"),[c,d]=(0,a.useState)(!1),u=(0,a.useCallback)(async()=>{try{if(e?.loadSettings){let t=await e.loadSettings();if(t)return console.log("설정 로드 성공:",t),n(t),o(t.darkMode||!1),l(t.windowMode||"windowed"),q(t.darkMode||!1),t}else try{let e=localStorage.getItem("app_settings");if(e){let t=JSON.parse(e);return console.log("localStorage에서 설정 로드:",t),n(t),o(t.darkMode||!1),l(t.windowMode||"windowed"),q(t.darkMode||!1),t}}catch(e){console.error("localStorage 로드 오류:",e)}return z}catch(e){return console.error("설정 로드 오류:",e),t?.("설정을 불러오지 못했습니다","error"),z}},[e,t]),m=(0,a.useCallback)(async a=>{try{if(JSON.stringify(a)===JSON.stringify(s))return console.log("변경된 설정이 없습니다."),t?.("변경된 설정이 없습니다","info"),!0;if(e?.saveSettings){if(console.log("Electron API를 통해 설정 저장:",a),!await e.saveSettings(a))return console.error("설정 저장 실패"),t?.("설정 저장에 실패했습니다","error"),!1;if(console.log("설정 저장 성공"),n(a),a.darkMode!==r){o(a.darkMode),q(a.darkMode),e?.setDarkMode&&await e.setDarkMode(a.darkMode);let t=new CustomEvent("darkmode-changed",{detail:{darkMode:a.darkMode}});window.dispatchEvent(t)}return a.windowMode!==i&&(l(a.windowMode),e?.setWindowMode&&await e.setWindowMode(a.windowMode)),t?.("설정이 저장되었습니다","success"),!0}try{if(localStorage.setItem("app_settings",JSON.stringify(a)),console.log("localStorage에 설정 저장 성공:",a),n(a),a.darkMode!==r){o(a.darkMode),q(a.darkMode);let e=new CustomEvent("darkmode-changed",{detail:{darkMode:a.darkMode}});window.dispatchEvent(e)}return a.windowMode!==i&&l(a.windowMode),t?.("설정이 저장되었습니다","success"),!0}catch(e){return console.error("localStorage 저장 오류:",e),t?.("설정 저장에 실패했습니다","error"),!1}}catch(e){return console.error("설정 저장 중 오류 발생:",e),t?.("설정을 저장할 수 없습니다","error"),!1}},[e,s,r,i,t]);return{settings:s,darkMode:r,windowMode:i,handleSaveSettings:m,handleDarkModeChange:(0,a.useCallback)(async t=>{try{o(t),q(t),e?.setDarkMode&&await e.setDarkMode(t);let s=new CustomEvent("darkmode-changed",{detail:{darkMode:t}});return window.dispatchEvent(s),!0}catch(e){return console.error("다크 모드 설정 오류:",e),!1}},[e]),handleWindowModeChange:(0,a.useCallback)(async t=>{try{return l(t),e?.setWindowMode&&await e.setWindowMode(t),!0}catch(e){return console.error("윈도우 모드 설정 오류:",e),!1}},[e]),loadSettings:u}}(e),{activeTab:u,debugMode:g,handleTabChange:h,toggleDebugMode:p}=function({initialTab:e,electronAPI:t}){let[s,n]=(0,a.useState)(e),[r,o]=(0,a.useState)(!1);return{activeTab:s,debugMode:r,handleTabChange:(0,a.useCallback)(e=>{n(e)},[]),toggleDebugMode:(0,a.useCallback)(()=>{o(e=>!e)},[])}}({initialTab:"monitor",electronAPI:t}),{isHeaderVisible:_}=function({windowMode:e,electronAPI:t}){let[s,n]=(0,a.useState)(!0);return(0,a.useRef)(null),{isHeaderVisible:s,setHeaderVisibility:(0,a.useCallback)(e=>{n(e),t?.windowControl&&t.windowControl(e?"showHeader":"hideHeader")},[t])}}({windowMode:i,electronAPI:e}),{logs:b,isLoading:f,isTracking:w,displayStats:j,handleStartTracking:k,handleStopTracking:N,handleSaveStats:T,currentStatsRef:S,fetchLogs:M}=function(e){let[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),d=(0,a.useRef)([]);(0,a.useRef)([]);let u=(0,a.useRef)({keyCount:0,typingTime:0,windowTitle:"",browserName:"",totalChars:0,totalCharsNoSpace:0,totalWords:0,pages:0,accuracy:100}),[m,g]=(0,a.useState)({...u.current}),{showToast:h}=(0,v.d)(),p=(0,a.useCallback)(()=>{try{e?e.startTracking?.():console.warn("electronAPI가 없습니다."),i(!0)}catch(e){console.error("startTracking 호출 오류:",e),i(!0)}},[e]),_=(0,a.useCallback)(()=>{try{e?e.stopTracking?.():console.warn("electronAPI가 없습니다."),i(!1)}catch(e){console.error("stopTracking 호출 오류:",e),i(!1)}},[e]),b=(0,a.useCallback)(async(e=K)=>{if(!n)try{r(!0);let n=`/api/getLogs?limit=${e}`,a=await fetch(n);if(!a.ok)throw Error(`API 요청 실패: ${a.status} ${a.statusText}`);let o=a.headers.get("content-type");if(!o||!o.includes("application/json"))throw Error("서버에서 잘못된 응답 형식 반환");let i=await a.json();if(i.success){let e=i.logs.map(e=>({id:e.id,content:e.content,key_count:e.key_count,typing_time:e.typing_time,timestamp:e.timestamp,created_at:e.created_at,window_title:e.window_title,browser_name:e.browser_name,total_chars:e.total_chars,total_words:e.total_words,pages:e.pages,accuracy:e.accuracy}));JSON.stringify(t)!==JSON.stringify(e)&&s(e)}else console.error("로그 불러오기 실패:",i.error),s([])}catch(e){console.error("로그 API 요청 오류:",e),s([]),c("로그를 불러오는 중 문제가 발생했습니다."),h?.("데이터 로드 중 오류가 발생했습니다","error")}finally{r(!1)}},[t,h,n]),x=(0,a.useCallback)(async e=>{try{let t=await fetch("/api/saveLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();t.ok?await b():console.error("저장 실패:",s.error)}catch(e){console.error("저장 API 요청 오류:",e)}},[b]),f=(0,a.useCallback)(t=>{try{e&&e.saveStats?.(t);let s={content:t,keyCount:u.current.keyCount,typingTime:u.current.typingTime.toString(),timestamp:new Date().toISOString(),windowTitle:u.current.windowTitle,browserName:u.current.browserName,totalChars:u.current.totalChars,totalWords:u.current.totalWords,pages:u.current.pages,accuracy:u.current.accuracy};x(s)}catch(e){console.error("saveStats 호출 오류:",e),x({content:t,keyCount:u.current.keyCount,typingTime:u.current.typingTime.toString(),timestamp:new Date().toISOString(),windowTitle:u.current.windowTitle,browserName:u.current.browserName||"Unknown"})}},[e,x]);return(0,a.useCallback)(()=>{if(!e)return;let t=[];if(e.onTypingStatsUpdate){let s=e.onTypingStatsUpdate(e=>{u.current={...u.current,...e}});t.push(s)}if(e.onStatsSaved){let s=e.onStatsSaved(()=>{b()});t.push(s)}d.current=t},[e,b]),{logs:t,isLoading:n,isTracking:o,displayStats:m,handleStartTracking:p,handleStopTracking:_,handleSaveStats:f,fetchLogs:b,currentStatsRef:u,error:l}}(e),[P,A]=(0,a.useState)([]),D=function({debugMode:e=!1,checkInterval:t=3e4,memoryThreshold:s=100,activeTab:n="monitor",onClearLogs:r=()=>{}}={}){let o=(0,a.useRef)([]);(0,a.useRef)(!1),(0,a.useRef)(0);let i=(0,a.useCallback)(()=>{},[n,e,s,r]),l=(0,a.useCallback)(()=>!1,[e]);return{cleanupMemory:l,addInterval:(0,a.useCallback)(e=>{o.current.push(e)},[]),clearIntervals:(0,a.useCallback)(()=>{o.current.forEach(clearInterval),o.current=[]},[]),checkMemoryUsage:i}}({debugMode:g,activeTab:u,memoryThreshold:100,checkInterval:3e4,onClearLogs:()=>{if("history"!==u&&"stats"!==u&&"chart"!==u){A([]);try{J().catch(e=>{console.error("이미지 리소스 최적화 중 오류:",e)})}catch(e){console.error("이미지 최적화 실행 오류:",e)}}}});(0,a.useEffect)(()=>{try{window.__memoryOptimizer?.requestGC&&window.__memoryOptimizer.requestGC(!1).catch(e=>{console.error("메모리 최적화 오류:",e)})}catch(e){console.error("GC 요청 오류:",e)}let e=setInterval(()=>{J().catch(e=>{console.error("이미지 리소스 최적화 주기 작업 중 오류:",e)})},3e5);return D.addInterval(e),()=>{D.clearIntervals()}},[D]),r().useEffect(()=>{b&&b.length>0&&A(b)},[b]);let[B,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!e)return;let t=e.onShowRestartLoading?.(e=>{E(!0),e.timeout&&setTimeout(()=>{E(!1)},e.timeout)})||(()=>{});return()=>{t()}},[e]);let{isDarkMode:G}=C(),$=(0,a.useCallback)(()=>{switch(u){case"monitor":return(0,n.jsx)(m,{stats:j,isTracking:w,onStartTracking:k,onStopTracking:N,onSaveStats:T});case"stats":return(0,n.jsx)(r().Suspense,{fallback:(0,n.jsx)("div",{children:"Loading chart..."}),children:(0,n.jsx)(x,{logs:b})});case"settings":return(0,n.jsx)("div",{className:"settings-tab-wrapper",style:{maxWidth:"100%",margin:"0 auto",width:"100%"},children:(0,n.jsx)(O,{onSave:l,initialSettings:{...s,useTypingAnalysisGpuAcceleration:!1,showKeyCountInHeader:!0,showRealtimeWPM:!0,enableSoundEffects:!1,enableAnimations:!0,useCompactUI:!1},darkMode:o,onDarkModeChange:c,onWindowModeChange:d})});default:return null}},[u,j,w,k,N,T,b,s,o,c,d,l]);return(0,n.jsxs)(L,{darkMode:o,windowMode:i,electronAPI:e,isHeaderVisible:_,children:[(0,n.jsx)(U,{isVisible:B,message:"앱을 재시작하는 중입니다"}),(0,n.jsx)(y,{activeTab:u,onTabChange:h,onDebugToggle:p,debugMode:g}),(0,n.jsx)("div",{className:`${X().homeContent} ${G?X().darkMode:""}`,children:(0,n.jsxs)("div",{className:X().section,children:[(0,n.jsx)("h2",{className:X().sectionTitle,children:"Loop 애플리케이션"}),(0,n.jsx)("p",{className:X().description,children:"Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션입니다."}),$()]})}),(0,n.jsx)(I,{isVisible:g,stats:S.current,logsCount:P.length,isTracking:w,windowMode:i})]})});var Z=s(52982);function Y(){let[e,t]=(0,a.useState)({keyCount:0,typingTime:0,totalChars:0,totalWords:0,accuracy:0}),[s,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1);return(0,n.jsx)(Z.s,{stats:e,_isTracking:s})}function ee(){let[e,t]=(0,a.useState)(!1);return e?(0,n.jsx)(L,{children:(0,n.jsx)("main",{className:w().main,children:(0,n.jsxs)("div",{className:w().container,children:[(0,n.jsx)("h1",{className:w().title,children:"Loop"}),(0,n.jsx)("p",{className:w().description,children:"Next.js, React, TypeScript를 활용한 크로스 플랫폼 데스크톱 애플리케이션"}),(0,n.jsx)(Q,{}),(0,n.jsx)(Y,{})]})})}):null}i()(async()=>{},{loadableGenerated:{modules:["app\\page.tsx -> ./components/NativeModuleTest"]},ssr:!1})},74479:e=>{e.exports={homeContent:"HomeContent_homeContent__jZ_K_",darkMode:"HomeContent_darkMode__uK4L2",section:"HomeContent_section__hVGXB",sectionTitle:"HomeContent_sectionTitle__CzvG8",description:"HomeContent_description__5NY6r",themeSection:"HomeContent_themeSection__jOkZs",subsectionTitle:"HomeContent_subsectionTitle__QdR5C",themeToggleContainer:"HomeContent_themeToggleContainer__lPJ9F",themeLabel:"HomeContent_themeLabel__NFs8T",themeToggleMain:"HomeContent_themeToggleMain__78GJ7",themeDescription:"HomeContent_themeDescription__nFQEb"}},79098:e=>{e.exports={overlay:"RestartLoading_overlay__xTGoM",loadingContainer:"RestartLoading_loadingContainer__fs5qH",spinner:"RestartLoading_spinner__pt5Mz",spin:"RestartLoading_spin__IcW5Z",title:"RestartLoading_title__0PqQH",progressContainer:"RestartLoading_progressContainer__fWgDe",progressBar:"RestartLoading_progressBar__MFOGS",note:"RestartLoading_note__iqeE6"}},79551:e=>{"use strict";e.exports=require("url")},81539:(e,t,s)=>{"use strict";s.d(t,{Bb:()=>i,Os:()=>a,du:()=>r,hT:()=>o,pT:()=>c,xz:()=>d});async function n(e,t={}){try{return await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}})}catch(t){throw console.error(`Fetch 요청 실패 (${e}):`,t),t}}async function a(){return{success:!1,error:"Server environment",timestamp:Date.now()}}async function r(e=2,t=!1){try{let s=await n("/api/native/memory",{method:"PUT",body:JSON.stringify({type:"optimize",level:e.toString(),emergency:t})});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(e){return console.error("메모리 최적화 실패:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function o(){try{let e=JSON.stringify({type:"gc"});try{let t=await n("/api/native/memory",{method:"POST",body:e});if(t.ok)return await t.json();console.warn("POST 메서드 실패, PUT 메서드로 다시 시도합니다.")}catch(e){console.warn("POST 메서드 실패, PUT 메서드로 다시 시도합니다.",e)}let t=await n("/api/native/memory",{method:"PUT",body:e});if(!t.ok)throw console.error(`가비지 컬렉션 요청 실패: ${t.status} ${t.statusText}`),Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(e){return console.error("가비지 컬렉션 실패:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function i(){try{return l("서버 환경에서 실행 중")}catch(e){return console.error("GPU 정보 가져오기 처리 중 예상치 못한 오류:",e),l("예상치 못한 오류")}}function l(e){return{success:!0,available:!1,fallback:!0,gpuInfo:{name:"브라우저 폴백",vendor:"알 수 없음",available:!1,accelerationEnabled:!1,deviceType:"Software",driverVersion:"폴백 구현",fallbackReason:e},timestamp:Date.now()}}async function c(e){try{let t=JSON.stringify({enable:e}),s=await n("/api/native/gpu/acceleration",{method:"PUT",body:t});if(!s.ok)throw Error(`GPU 가속 설정 요청 실패: ${s.status}`);return await s.json()}catch(e){return console.error("GPU 가속 설정 오류:",e),{success:!1,enabled:!1,result:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}async function d(e,t){try{let s=JSON.stringify({data:e,computationType:t}),a=await n("/api/native/gpu",{method:"POST",body:s});if(!a.ok)throw Error(`GPU 계산 요청 실패: ${a.status}`);return await a.json()}catch(e){return console.error("GPU 계산 오류:",e),{success:!1,error:e instanceof Error?e.message:"알 수 없는 오류",timestamp:Date.now()}}}},82667:e=>{e.exports={appContainer:"page_appContainer__p4TtA",mainContent:"page_mainContent__51TpB",appContent:"page_appContent__VvQm4",appTabs:"page_appTabs__dehwV",tabButton:"page_tabButton__stR9X",activeTab:"page_activeTab__kgdSK",typingContainer:"page_typingContainer__Ltx96",statsContainer:"page_statsContainer__15RXV",historyContainer:"page_historyContainer__PhcIa",monitorContainer:"page_monitorContainer__nzoP_",debugButton:"page_debugButton__OpmNi",debugActive:"page_debugActive__1OXf0",debugPanel:"page_debugPanel__3hMsI",debugPanelBottom:"page_debugPanelBottom__KC93m",debugInfo:"page_debugInfo__i9tMu",zenMode:"page_zenMode__IMTVJ",headerDetectionArea:"page_headerDetectionArea__Mg4up",navLinks:"page_navLinks__3Mchl",navLink:"page_navLink__2S7dD","dark-mode":"page_dark-mode__8RLxf",sectionContainer:"page_sectionContainer__RYMeh",themeSection:"page_themeSection__GgLK9"}},84283:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},84519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=s(65239),a=s(48088),r=s(88170),o=s.n(r),i=s(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21204)),"C:\\Users\\user\\Desktop\\loop_2\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\user\\Desktop\\loop_2\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\user\\Desktop\\loop_2\\src\\app\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88671:(e,t,s)=>{Promise.resolve().then(s.bind(s,74393))},91201:(e,t,s)=>{Promise.resolve().then(s.bind(s,60534))},94431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>r});var n=s(37413);s(61135);var a=s(60534);let r={title:"Loop",description:"모든 채팅을 한곳에."};function o({children:e}){return(0,n.jsx)("html",{lang:"ko",children:(0,n.jsx)("body",{children:(0,n.jsx)(a.default,{children:e})})})}},94588:e=>{e.exports={toast:"Toast_toast__n4V9V",fadeIn:"Toast_fadeIn__8co0A",fadeOut:"Toast_fadeOut__PBTbC",success:"Toast_success__n3sBF",error:"Toast_error__vTefu",info:"Toast_info__iczaj",warning:"Toast_warning__u1w7_",message:"Toast_message__Ivwz3"}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[447,825,658,947,982],()=>s(84519));module.exports=n})();